(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["nx-cc"]=t(require("vue")):e["nx-cc"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(__WEBPACK_EXTERNAL_MODULE__7203__){return function(){var __webpack_modules__={9662:function(e,t,n){var r=n(614),o=n(6330),s=TypeError;e.exports=function(e){if(r(e))return e;throw s(o(e)+" is not a function")}},6077:function(e,t,n){var r=n(614),o=String,s=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw s("Can't set "+o(e)+" as a prototype")}},5787:function(e,t,n){var r=n(7976),o=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw o("Incorrect invocation")}},9670:function(e,t,n){var r=n(111),o=String,s=TypeError;e.exports=function(e){if(r(e))return e;throw s(o(e)+" is not an object")}},4019:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(e,t,n){"use strict";var r,o,s,i=n(4019),a=n(9781),l=n(7854),c=n(614),u=n(111),d=n(2597),p=n(648),h=n(6330),f=n(8880),g=n(8052),m=n(3070).f,v=n(7976),b=n(9518),y=n(7674),w=n(5112),S=n(9711),C=n(9909),_=C.enforce,E=C.get,k=l.Int8Array,T=k&&k.prototype,x=l.Uint8ClampedArray,R=x&&x.prototype,A=k&&b(k),j=T&&b(T),I=Object.prototype,N=l.TypeError,O=w("toStringTag"),D=S("TYPED_ARRAY_TAG"),P="TypedArrayConstructor",M=i&&!!y&&"Opera"!==p(l.opera),L=!1,$={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},B={BigInt64Array:8,BigUint64Array:8},H=function(e){if(!u(e))return!1;var t=p(e);return"DataView"===t||d($,t)||d(B,t)},U=function(e){var t=b(e);if(u(t)){var n=E(t);return n&&d(n,P)?n[P]:U(t)}},V=function(e){if(!u(e))return!1;var t=p(e);return d($,t)||d(B,t)},F=function(e){if(V(e))return e;throw N("Target is not a typed array")},q=function(e){if(c(e)&&(!y||v(A,e)))return e;throw N(h(e)+" is not a typed array constructor")},z=function(e,t,n,r){if(a){if(n)for(var o in $){var s=l[o];if(s&&d(s.prototype,e))try{delete s.prototype[e]}catch(i){try{s.prototype[e]=t}catch(c){}}}j[e]&&!n||g(j,e,n?t:M&&T[e]||t,r)}},W=function(e,t,n){var r,o;if(a){if(y){if(n)for(r in $)if(o=l[r],o&&d(o,e))try{delete o[e]}catch(s){}if(A[e]&&!n)return;try{return g(A,e,n?t:M&&A[e]||t)}catch(s){}}for(r in $)o=l[r],!o||o[e]&&!n||g(o,e,t)}};for(r in $)o=l[r],s=o&&o.prototype,s?_(s)[P]=o:M=!1;for(r in B)o=l[r],s=o&&o.prototype,s&&(_(s)[P]=o);if((!M||!c(A)||A===Function.prototype)&&(A=function(){throw N("Incorrect invocation")},M))for(r in $)l[r]&&y(l[r],A);if((!M||!j||j===I)&&(j=A.prototype,M))for(r in $)l[r]&&y(l[r].prototype,j);if(M&&b(R)!==j&&y(R,j),a&&!d(j,O))for(r in L=!0,m(j,O,{get:function(){return u(this)?this[D]:void 0}}),$)l[r]&&f(l[r],D,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:L&&D,aTypedArray:F,aTypedArrayConstructor:q,exportTypedArrayMethod:z,exportTypedArrayStaticMethod:W,getTypedArrayConstructor:U,isView:H,isTypedArray:V,TypedArray:A,TypedArrayPrototype:j}},1318:function(e,t,n){var r=n(5656),o=n(1400),s=n(6244),i=function(e){return function(t,n,i){var a,l=r(t),c=s(l),u=o(i,c);if(e&&n!=n){while(c>u)if(a=l[u++],a!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},9671:function(e,t,n){var r=n(9974),o=n(8361),s=n(7908),i=n(6244),a=function(e){var t=1==e;return function(n,a,l){var c,u,d=s(n),p=o(d),h=r(a,l),f=i(p);while(f-- >0)if(c=p[f],u=h(c,f,d),u)switch(e){case 0:return c;case 1:return f}return t?-1:void 0}};e.exports={findLast:a(0),findLastIndex:a(1)}},4326:function(e,t,n){var r=n(1702),o=r({}.toString),s=r("".slice);e.exports=function(e){return s(o(e),8,-1)}},648:function(e,t,n){var r=n(1694),o=n(614),s=n(4326),i=n(5112),a=i("toStringTag"),l=Object,c="Arguments"==s(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(n){}};e.exports=r?s:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=u(t=l(e),a))?n:c?s(t):"Object"==(r=s(t))&&o(t.callee)?"Arguments":r}},7741:function(e,t,n){var r=n(1702),o=Error,s=r("".replace),i=function(e){return String(o(e).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,l=a.test(i);e.exports=function(e,t){if(l&&"string"==typeof e&&!o.prepareStackTrace)while(t--)e=s(e,a,"");return e}},9920:function(e,t,n){var r=n(2597),o=n(3887),s=n(1236),i=n(3070);e.exports=function(e,t,n){for(var a=o(t),l=i.f,c=s.f,u=0;u<a.length;u++){var d=a[u];r(e,d)||n&&r(n,d)||l(e,d,c(t,d))}}},8544:function(e,t,n){var r=n(7293);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},8880:function(e,t,n){var r=n(9781),o=n(3070),s=n(9114);e.exports=r?function(e,t,n){return o.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},9114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},8052:function(e,t,n){var r=n(614),o=n(3070),s=n(6339),i=n(3072);e.exports=function(e,t,n,a){a||(a={});var l=a.enumerable,c=void 0!==a.name?a.name:t;if(r(n)&&s(n,c,a),a.global)l?e[t]=n:i(t,n);else{try{a.unsafe?e[t]&&(l=!0):delete e[t]}catch(u){}l?e[t]=n:o.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},3072:function(e,t,n){var r=n(7854),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},9781:function(e,t,n){var r=n(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(e,t,n){var r=n(7854),o=n(111),s=r.document,i=o(s)&&o(s.createElement);e.exports=function(e){return i?s.createElement(e):{}}},3678:function(e){e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8113:function(e,t,n){var r=n(5005);e.exports=r("navigator","userAgent")||""},7392:function(e,t,n){var r,o,s=n(7854),i=n(8113),a=s.process,l=s.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(r=u.split("."),o=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&i&&(r=i.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=i.match(/Chrome\/(\d+)/),r&&(o=+r[1]))),e.exports=o},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2914:function(e,t,n){var r=n(7293),o=n(9114);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",o(1,7)),7!==e.stack)}))},2109:function(e,t,n){var r=n(7854),o=n(1236).f,s=n(8880),i=n(8052),a=n(3072),l=n(9920),c=n(4705);e.exports=function(e,t){var n,u,d,p,h,f,g=e.target,m=e.global,v=e.stat;if(u=m?r:v?r[g]||a(g,{}):(r[g]||{}).prototype,u)for(d in t){if(h=t[d],e.dontCallGetSet?(f=o(u,d),p=f&&f.value):p=u[d],n=c(m?d:g+(v?".":"#")+d,e.forced),!n&&void 0!==p){if(typeof h==typeof p)continue;l(h,p)}(e.sham||p&&p.sham)&&s(h,"sham",!0),i(u,d,h,e)}}},7293:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},2104:function(e,t,n){var r=n(4374),o=Function.prototype,s=o.apply,i=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?i.bind(s):function(){return i.apply(s,arguments)})},9974:function(e,t,n){var r=n(1702),o=n(9662),s=n(4374),i=r(r.bind);e.exports=function(e,t){return o(e),void 0===t?e:s?i(e,t):function(){return e.apply(t,arguments)}}},4374:function(e,t,n){var r=n(7293);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:function(e,t,n){var r=n(4374),o=Function.prototype.call;e.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},6530:function(e,t,n){var r=n(9781),o=n(2597),s=Function.prototype,i=r&&Object.getOwnPropertyDescriptor,a=o(s,"name"),l=a&&"something"===function(){}.name,c=a&&(!r||r&&i(s,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},1702:function(e,t,n){var r=n(4374),o=Function.prototype,s=o.bind,i=o.call,a=r&&s.bind(i,i);e.exports=r?function(e){return e&&a(e)}:function(e){return e&&function(){return i.apply(e,arguments)}}},5005:function(e,t,n){var r=n(7854),o=n(614),s=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?s(r[e]):r[e]&&r[e][t]}},8173:function(e,t,n){var r=n(9662);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},7854:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(e,t,n){var r=n(1702),o=n(7908),s=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return s(o(e),t)}},3501:function(e){e.exports={}},4664:function(e,t,n){var r=n(9781),o=n(7293),s=n(317);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},8361:function(e,t,n){var r=n(1702),o=n(7293),s=n(4326),i=Object,a=r("".split);e.exports=o((function(){return!i("z").propertyIsEnumerable(0)}))?function(e){return"String"==s(e)?a(e,""):i(e)}:i},9587:function(e,t,n){var r=n(614),o=n(111),s=n(7674);e.exports=function(e,t,n){var i,a;return s&&r(i=t.constructor)&&i!==n&&o(a=i.prototype)&&a!==n.prototype&&s(e,a),e}},2788:function(e,t,n){var r=n(1702),o=n(614),s=n(5465),i=r(Function.toString);o(s.inspectSource)||(s.inspectSource=function(e){return i(e)}),e.exports=s.inspectSource},8340:function(e,t,n){var r=n(111),o=n(8880);e.exports=function(e,t){r(t)&&"cause"in t&&o(e,"cause",t.cause)}},9909:function(e,t,n){var r,o,s,i=n(8536),a=n(7854),l=n(1702),c=n(111),u=n(8880),d=n(2597),p=n(5465),h=n(6200),f=n(3501),g="Object already initialized",m=a.TypeError,v=a.WeakMap,b=function(e){return s(e)?o(e):r(e,{})},y=function(e){return function(t){var n;if(!c(t)||(n=o(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}};if(i||p.state){var w=p.state||(p.state=new v),S=l(w.get),C=l(w.has),_=l(w.set);r=function(e,t){if(C(w,e))throw new m(g);return t.facade=e,_(w,e,t),t},o=function(e){return S(w,e)||{}},s=function(e){return C(w,e)}}else{var E=h("state");f[E]=!0,r=function(e,t){if(d(e,E))throw new m(g);return t.facade=e,u(e,E,t),t},o=function(e){return d(e,E)?e[E]:{}},s=function(e){return d(e,E)}}e.exports={set:r,get:o,has:s,enforce:b,getterFor:y}},614:function(e){e.exports=function(e){return"function"==typeof e}},4705:function(e,t,n){var r=n(7293),o=n(614),s=/#|\.prototype\./,i=function(e,t){var n=l[a(e)];return n==u||n!=c&&(o(t)?r(t):!!t)},a=i.normalize=function(e){return String(e).replace(s,".").toLowerCase()},l=i.data={},c=i.NATIVE="N",u=i.POLYFILL="P";e.exports=i},111:function(e,t,n){var r=n(614);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},1913:function(e){e.exports=!1},2190:function(e,t,n){var r=n(5005),o=n(614),s=n(7976),i=n(3307),a=Object;e.exports=i?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return o(t)&&s(t.prototype,a(e))}},6244:function(e,t,n){var r=n(7466);e.exports=function(e){return r(e.length)}},6339:function(e,t,n){var r=n(7293),o=n(614),s=n(2597),i=n(9781),a=n(6530).CONFIGURABLE,l=n(2788),c=n(9909),u=c.enforce,d=c.get,p=Object.defineProperty,h=i&&!r((function(){return 8!==p((function(){}),"length",{value:8}).length})),f=String(String).split("String"),g=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!s(e,"name")||a&&e.name!==t)&&(i?p(e,"name",{value:t,configurable:!0}):e.name=t),h&&n&&s(n,"arity")&&e.length!==n.arity&&p(e,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?i&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(o){}var r=u(e);return s(r,"source")||(r.source=f.join("string"==typeof t?t:"")),e};Function.prototype.toString=g((function(){return o(this)&&d(this).source||l(this)}),"toString")},4758:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},133:function(e,t,n){var r=n(7392),o=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8536:function(e,t,n){var r=n(7854),o=n(614),s=n(2788),i=r.WeakMap;e.exports=o(i)&&/native code/.test(s(i))},6277:function(e,t,n){var r=n(1340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},3070:function(e,t,n){var r=n(9781),o=n(4664),s=n(3353),i=n(9670),a=n(4948),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",h="writable";t.f=r?s?function(e,t,n){if(i(e),t=a(t),i(n),"function"===typeof e&&"prototype"===t&&"value"in n&&h in n&&!n[h]){var r=u(e,t);r&&r[h]&&(e[t]=n.value,n={configurable:p in n?n[p]:r[p],enumerable:d in n?n[d]:r[d],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(i(e),t=a(t),i(n),o)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:function(e,t,n){var r=n(9781),o=n(6916),s=n(5296),i=n(9114),a=n(5656),l=n(4948),c=n(2597),u=n(4664),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=a(e),t=l(t),u)try{return d(e,t)}catch(n){}if(c(e,t))return i(!o(s.f,e,t),e[t])}},8006:function(e,t,n){var r=n(6324),o=n(748),s=o.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,s)}},5181:function(e,t){t.f=Object.getOwnPropertySymbols},9518:function(e,t,n){var r=n(2597),o=n(614),s=n(7908),i=n(6200),a=n(8544),l=i("IE_PROTO"),c=Object,u=c.prototype;e.exports=a?c.getPrototypeOf:function(e){var t=s(e);if(r(t,l))return t[l];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof c?u:null}},7976:function(e,t,n){var r=n(1702);e.exports=r({}.isPrototypeOf)},6324:function(e,t,n){var r=n(1702),o=n(2597),s=n(5656),i=n(1318).indexOf,a=n(3501),l=r([].push);e.exports=function(e,t){var n,r=s(e),c=0,u=[];for(n in r)!o(a,n)&&o(r,n)&&l(u,n);while(t.length>c)o(r,n=t[c++])&&(~i(u,n)||l(u,n));return u}},5296:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7674:function(e,t,n){var r=n(1702),o=n(9670),s=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(n,[]),t=n instanceof Array}catch(i){}return function(n,r){return o(n),s(r),t?e(n,r):n.__proto__=r,n}}():void 0)},2140:function(e,t,n){var r=n(6916),o=n(614),s=n(111),i=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&o(n=e.toString)&&!s(a=r(n,e)))return a;if(o(n=e.valueOf)&&!s(a=r(n,e)))return a;if("string"!==t&&o(n=e.toString)&&!s(a=r(n,e)))return a;throw i("Can't convert object to primitive value")}},3887:function(e,t,n){var r=n(5005),o=n(1702),s=n(8006),i=n(5181),a=n(9670),l=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=s.f(a(e)),n=i.f;return n?l(t,n(e)):t}},2626:function(e,t,n){var r=n(3070).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},4488:function(e){var t=TypeError;e.exports=function(e){if(void 0==e)throw t("Can't call method on "+e);return e}},6200:function(e,t,n){var r=n(2309),o=n(9711),s=r("keys");e.exports=function(e){return s[e]||(s[e]=o(e))}},5465:function(e,t,n){var r=n(7854),o=n(3072),s="__core-js_shared__",i=r[s]||o(s,{});e.exports=i},2309:function(e,t,n){var r=n(1913),o=n(5465);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.24.1",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"})},1400:function(e,t,n){var r=n(9303),o=Math.max,s=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):s(n,t)}},5656:function(e,t,n){var r=n(8361),o=n(4488);e.exports=function(e){return r(o(e))}},9303:function(e,t,n){var r=n(4758);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},7466:function(e,t,n){var r=n(9303),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},7908:function(e,t,n){var r=n(4488),o=Object;e.exports=function(e){return o(r(e))}},7593:function(e,t,n){var r=n(6916),o=n(111),s=n(2190),i=n(8173),a=n(2140),l=n(5112),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!o(e)||s(e))return e;var n,l=i(e,u);if(l){if(void 0===t&&(t="default"),n=r(l,e,t),!o(n)||s(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},4948:function(e,t,n){var r=n(7593),o=n(2190);e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},1694:function(e,t,n){var r=n(5112),o=r("toStringTag"),s={};s[o]="z",e.exports="[object z]"===String(s)},1340:function(e,t,n){var r=n(648),o=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},6330:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},9711:function(e,t,n){var r=n(1702),o=0,s=Math.random(),i=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+i(++o+s,36)}},3307:function(e,t,n){var r=n(133);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(e,t,n){var r=n(9781),o=n(7293);e.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5112:function(e,t,n){var r=n(7854),o=n(2309),s=n(2597),i=n(9711),a=n(133),l=n(3307),c=o("wks"),u=r.Symbol,d=u&&u["for"],p=l?u:u&&u.withoutSetter||i;e.exports=function(e){if(!s(c,e)||!a&&"string"!=typeof c[e]){var t="Symbol."+e;a&&s(u,e)?c[e]=u[e]:c[e]=l&&d?d(t):p(t)}return c[e]}},9191:function(e,t,n){"use strict";var r=n(5005),o=n(2597),s=n(8880),i=n(7976),a=n(7674),l=n(9920),c=n(2626),u=n(9587),d=n(6277),p=n(8340),h=n(7741),f=n(2914),g=n(9781),m=n(1913);e.exports=function(e,t,n,v){var b="stackTraceLimit",y=v?2:1,w=e.split("."),S=w[w.length-1],C=r.apply(null,w);if(C){var _=C.prototype;if(!m&&o(_,"cause")&&delete _.cause,!n)return C;var E=r("Error"),k=t((function(e,t){var n=d(v?t:e,void 0),r=v?new C(e):new C;return void 0!==n&&s(r,"message",n),f&&s(r,"stack",h(r.stack,2)),this&&i(_,this)&&u(r,this,k),arguments.length>y&&p(r,arguments[y]),r}));if(k.prototype=_,"Error"!==S?a?a(k,E):l(k,E,{name:!0}):g&&b in C&&(c(k,C,b),c(k,C,"prepareStackTrace")),l(k,C),!m)try{_.name!==S&&s(_,"name",S),_.constructor=k}catch(T){}return k}}},1703:function(e,t,n){var r=n(2109),o=n(7854),s=n(2104),i=n(9191),a="WebAssembly",l=o[a],c=7!==Error("e",{cause:7}).cause,u=function(e,t){var n={};n[e]=i(e,t,c),r({global:!0,constructor:!0,arity:1,forced:c},n)},d=function(e,t){if(l&&l[e]){var n={};n[e]=i(a+"."+e,t,c),r({target:a,stat:!0,constructor:!0,arity:1,forced:c},n)}};u("Error",(function(e){return function(t){return s(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return s(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return s(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return s(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return s(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return s(e,this,arguments)}})),u("URIError",(function(e){return function(t){return s(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return s(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return s(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return s(e,this,arguments)}}))},8675:function(e,t,n){"use strict";var r=n(260),o=n(6244),s=n(9303),i=r.aTypedArray,a=r.exportTypedArrayMethod;a("at",(function(e){var t=i(this),n=o(t),r=s(e),a=r>=0?r:n+r;return a<0||a>=n?void 0:t[a]}))},4590:function(e,t,n){"use strict";var r=n(260),o=n(9671).findLastIndex,s=r.aTypedArray,i=r.exportTypedArrayMethod;i("findLastIndex",(function(e){return o(s(this),e,arguments.length>1?arguments[1]:void 0)}))},3408:function(e,t,n){"use strict";var r=n(260),o=n(9671).findLast,s=r.aTypedArray,i=r.exportTypedArrayMethod;i("findLast",(function(e){return o(s(this),e,arguments.length>1?arguments[1]:void 0)}))},1118:function(e,t,n){n(4590)},7380:function(e,t,n){n(3408)},2801:function(e,t,n){"use strict";var r=n(2109),o=n(7854),s=n(5005),i=n(9114),a=n(3070).f,l=n(2597),c=n(5787),u=n(9587),d=n(6277),p=n(3678),h=n(7741),f=n(9781),g=n(1913),m="DOMException",v=s("Error"),b=s(m),y=function(){c(this,w);var e=arguments.length,t=d(e<1?void 0:arguments[0]),n=d(e<2?void 0:arguments[1],"Error"),r=new b(t,n),o=v(t);return o.name=m,a(r,"stack",i(1,h(o.stack,1))),u(r,this,y),r},w=y.prototype=b.prototype,S="stack"in v(m),C="stack"in new b(1,2),_=b&&f&&Object.getOwnPropertyDescriptor(o,m),E=!!_&&!(_.writable&&_.configurable),k=S&&!E&&!C;r({global:!0,constructor:!0,forced:g||k},{DOMException:k?y:b});var T=s(m),x=T.prototype;if(x.constructor!==T)for(var R in g||a(x,"constructor",i(1,T)),p)if(l(p,R)){var A=p[R],j=A.s;l(T,j)||a(T,j,i(6,A.c))}},3693:function(e,t,n){n(1703),n(2801),function(t,n){e.exports=n()}(0,(function(){"use strict";var e,t;function n(t){this.name="__st"+(1e9*Math.random()>>>0)+e+"__",null!=t&&t.forEach(this.add,this),e+=1}Array.prototype.find||Object.defineProperty(Array.prototype,"find",{configurable:!0,writable:!0,value:function(e){if(null===this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],o=0;o<n;){var s=t[o];if(e.call(r,s,o,t))return s;o+=1}}}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){return this.substring(t=!t||t<0?0:+t,t+e.length)===e}}),window.WeakSet||(e=Date.now()%1e9,n.prototype.add=function(e){var t=this.name;return e[t]||Object.defineProperty(e,t,{value:!0,writable:!0}),this},n.prototype.delete=function(e){return!!e[this.name]&&!(e[this.name]=void 0)},n.prototype.has=function(e){return!!e[this.name]},t=n,Object.defineProperty(window,"WeakSet",{value:function(e){return new t(e)}})),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),n=1;n<arguments.length;n++)if(null!=(r=arguments[n]))for(var r=Object(r),o=Object.keys(Object(r)),s=0,i=o.length;s<i;s++){var a=o[s],l=Object.getOwnPropertyDescriptor(r,a);null!=l&&l.enumerable&&(t[a]=r[a])}return t}});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function s(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)r[o]=s[i];return r}function i(e){try{return encodeURIComponent(decodeURIComponent(e))}catch(d){return e}}var a,l=["ext1","ext2","ext3","level","trace","tag","seq","code"],c=(d.prototype.indexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n].callback===t)return n;return-1},d.prototype.on=function(e,t,n){var r;if(void 0===n&&(n=0),this)return(r=this.eventsList[e])||(this.eventsList[e]=[],r=this.eventsList[e]),-1===this.indexOf(r,t)&&r.push({name:e,type:n||0,callback:t}),this},d.prototype.one=function(e,t){this.on(e,t,1)},d.prototype.remove=function(e,t){if(this){var n=this.eventsList[e];if(n){if(t)return n.length&&(t=this.indexOf(n,t),n.splice(t,1)),this;try{delete this.eventsList[e]}catch(e){}}return null}},d.prototype.clear=function(){this.eventsList={}},d),u=function(e){if(!e||0===e.length)return"{}";e=Array.isArray(e)?e:[e];var t=Object.keys(e[0]),n={};return t.forEach((function(t){n[t]=e.map((function(e){return e[t]}))})),n.count=e.length,M(n)};function d(){var e=this;this.emit=function(t,n){if(e){var r;if(null!=(o=e.eventsList[t])&&o.length)for(var o=o.slice(),s=0;s<o.length;s++){r=o[s];try{var i=r.callback.apply(e,[n]);if(1===r.type&&e.remove(t,r.callback),!1===i)break}catch(t){throw t}}return e}},this.eventsList={}}function p(e,t){return"number"==typeof e||"string"==typeof e?e:t?a.string:a.number}function h(e,t){return"string"==typeof e?e.split("?")[t?1:0]||"":e}function f(e){return"string"==typeof e&&e.startsWith("//")?"undefined"!=typeof location&&"https:"===location.protocol:/^https/.test(e)}function g(e,t,n){var r,o;try{if("function"==typeof(null==t?void 0:t.retCodeHandler))return{code:void 0===(s=(o=t.retCodeHandler(e,null==n?void 0:n.url,null==n?void 0:n.ctx,null==n?void 0:n.payload)||{}).code)?"unknown":s,isErr:o.isErr};"string"==typeof e&&(e=JSON.parse(e)),"function"==typeof(null==(r=null==t?void 0:t.ret)?void 0:r.join)&&(O=[].concat(t.ret.map((function(e){return e.toLowerCase()}))));var s,i=Object.getOwnPropertyNames(e).filter((function(e){return-1!==O.indexOf(e.toLowerCase())}));return i.length?{code:""+(s=e[i[0]]),isErr:0!==s&&"0"!==s}:{code:"unknown",isErr:!1}}catch(e){return{code:"unknown",isErr:!1}}}function m(e,t,n){try{var r="function"==typeof t?t(e,null==n?void 0:n.url)||"":e;return L(r).slice(0,102400)}catch(e){return""}}function v(e,t){var n,r=[],o=e.config;return e.lifeCycle.on("destroy",(function(){r.length=0})),function(s,i){Array.isArray(s)?r=r.concat(s):r.push(s),t&&r.length>=t||e.sendNow&&0<r.length?(r=H(r),i(r.splice(0,r.length)),n&&clearTimeout(n)):(n&&clearTimeout(n),n=setTimeout((function(){n=null,0<(r=H(r)).length&&i(r.splice(0,r.length))}),o.delay))}}function b(e,t){return Array.isArray(e)?t(e.map((function(e){return t=o(o({},e),{msg:"string"==typeof e.msg?e.msg:[].concat(e.msg).map(P).join(" ")}),l.forEach((function(e){t[e]||delete t[e]})),t;var t}))):t([o(o({},e),{msg:"string"==typeof e.msg?e.msg:P(e.msg)})])}function y(e,t){return function(n,r){var s,i,a,c=Array.isArray(n),u=c?n:[n],d=(e.lifeCycle.emit("beforeRequest",n),e.config.beforeRequest);(u="function"==typeof d?u.map((function(e){try{var n=d({logs:e,logType:t});return(null==n?void 0:n.logType)===t&&null!=n&&n.logs?n.logs:!1!==n&&e}catch(n){return e}})).filter((function(e){return!1!==e})):u).length&&(s=u,n=l,!Array.isArray(s)||s.length<=1||(i=[],a=[],!(a="string"==typeof n?[n]:n)||a.length<=0||(a.forEach((function(e){s.forEach((function(t){null!=t&&t[e]&&i.push(e)}))})),0<i.length&&(s=s.map((function(e){var t={};return i.forEach((function(e){t[e]=""})),o(o({},t),e)}))))),u=s,r(c?u:u[0]))}}function w(e){return function(t,n){e.lifeCycle.emit("modifyRequest",t);var r=e.config.modifyRequest;if("function"==typeof r)try{var o=r(t);"object"==typeof o&&"url"in o&&(t=o)}catch(t){console.error(t)}n(t)}}function S(e){return function(t,n){e.lifeCycle.emit("afterRequest",t);var r=e.config.afterRequest;"function"==typeof r&&!1===r(t)||n(t)}}function C(e){if(e&&e.reduce&&e.length)return 1===e.length?function(t,n){e[0](t,n||q)}:e.reduce((function(e,t){return function(n,r){return void 0===r&&(r=q),e(n,(function(e){return null==t?void 0:t(e,r)}))}}));throw new TypeError("createPipeline need at least one function param")}function _(e,t){Object.getOwnPropertyNames(e).forEach((function(n){"function"==typeof e[n]&&"constructor"!==n&&(t?t[n]="sendPipeline"===n?function(){return function(){}}:function(){}:e[n]=function(){})}))}function E(){return void 0!==window.performance&&"function"==typeof performance.clearResourceTimings&&"function"==typeof performance.getEntriesByType&&"function"==typeof performance.now}function k(e,t){function n(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))}addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)}function T(e){return G.some((function(t){return-1<e.indexOf(t)}))}function x(e){return-1!==Z.indexOf(e)}(z=a=a||{})[z.number=-1]="number",z.string="";var R,A,j,I=["application/xhtml+xml","application/xml","application/pdf","application/pkcs12","application/javascript","application/ecmascript","application/vnd.mspowerpoint","application/vnd.apple.mpegurl","application/ogg","text/css","text/javascript","image","audio","video"],N=/\.(json|js|css|jpg|jpeg|png|svg|apng|webp|gif|bmp|mp4|mp3|mpeg|wav|webm|ogg|flv|m3u8|ttf|woff2|otf|eot|woff|)$/gi,O=["ret","retcode","code","errcode"],D=function(){var e=new WeakSet;return function(t,n){if(n instanceof Error)return"Error.message: "+n.message+" \n  Error.stack: "+n.stack;if("object"==typeof n&&null!==n){if(e.has(n))return"[Circular "+(t||"root")+"]";e.add(n)}return n}},P=function(e){if("string"==typeof e)return e;try{return e instanceof Error?(JSON.stringify(e,D(),4)||"undefined").replace(/"/gim,""):JSON.stringify(e,D(),4)||"undefined"}catch(e){return"error happen when aegis stringify: \n "+e.message+" \n "+e.stack}},M=function(e){if("string"==typeof e)return e;try{return JSON.stringify(e,D())||"undefined"}catch(e){return"error happen when aegis stringify: \n "+e.message+" \n "+e.stack}},L=function(e,t){void 0===t&&(t=3);var n,r,o,s="";return Array.isArray(e)?(s+="[",n=e.length,e.forEach((function(e,r){s=(s+="object"==typeof e&&1<t?L(e,t-1):B(e))+(r===n-1?"":",")})),s+="]"):e instanceof Object?(s="{",r=Object.keys(e),o=r.length,r.forEach((function(n,i){"object"==typeof e[n]&&1<t?s+='"'+n+'":'+L(e[n],t-1):s+=$(n,e[n]),s+=i===o-1||i<o-1&&void 0===e[r[i+1]]?"":","})),s+="}"):s+=e,s},$=function(e,t){var n=typeof t,r="";return"string"==n||"object"==n?r+='"'+e+'":"'+t+'"':"function"==typeof t?r+='"'+e+'":"function '+t.name+'"':"symbol"==typeof t?r+='"'+e+'":"symbol"':"number"!=typeof t&&"boolean"!=n||(r+='"'+e+'": '+t),r},B=function(e){var t=typeof e;return""+("undefined"==t||"symbol"==t||"function"==t?"null":"string"==t||"object"==t?'"'+e+'"':e)},H=((z=R=R||{}).INFO_ALL="-1",z.API_RESPONSE="1",z.INFO="2",z.ERROR="4",z.PROMISE_ERROR="8",z.AJAX_ERROR="16",z.SCRIPT_ERROR="32",z.IMAGE_ERROR="64",z.CSS_ERROR="128",z.CONSOLE_ERROR="256",z.MEDIA_ERROR="512",z.RET_ERROR="1024",z.REPORT="2048",z.PV="4096",z.EVENT="8192",z.PAGE_NOT_FOUND_ERROR="16384",z.WEBSOCKET_ERROR="32768",z.BRIDGE_ERROR="65536",(z=A=A||{}).LOG="log",z.SPEED="speed",z.PERFORMANCE="performance",z.OFFLINE="offline",z.WHITE_LIST="whiteList",z.VITALS="vitals",z.PV="pv",z.CUSTOM_PV="customPV",z.EVENT="event",z.CUSTOM="custom",z.SDK_ERROR="sdkError",z.SET_DATA="setData",z.LOAD_PACKAGE="loadPackage",(z=j=j||{}).production="production",z.development="development",z.gray="gray",z.pre="pre",z.daily="daily",z.local="local",z.test="test",z.others="others",function(e){return e.filter((function(t,n){return"static"!==t.type||!e.find((function(e,r){return t.url===e.url&&200===t.status&&n<r}))}))}),U=function(e){e.level===R.INFO_ALL&&(e.level=R.INFO)},V=function(e){return(Array.isArray(e)?e:[e]).map((function(e){return Object.getOwnPropertyNames(e).reduce((function(t,n){return"ctx"!==n&&(t[n]=e[n]),t}),{level:R.INFO,msg:""})}))},F=function(e){return function(t){return e.sendPipeline([function(t,n){return n({url:e.config.url||"",data:u(V(t)),method:"post",contentType:"application/json",type:A.LOG,log:t,requestConfig:{timeout:5e3},success:function(){var r=e.config.onReport;"function"==typeof r&&t.forEach((function(e){r(e)})),"function"==typeof n&&n([])},fail:function(t){"403 forbidden"===t&&e.destroy()}})}],A.LOG)(t)}},q=function(){},z=(Object.defineProperty(te.prototype,"__version__",{get:function(){return console.warn("__version__ has discard, please use version"),"1.36.5"},enumerable:!1,configurable:!0}),Object.defineProperty(te.prototype,"LogType",{get:function(){return console.warn("LogType has discard, please use logType"),R},enumerable:!1,configurable:!0}),te.prototype.init=function(e){this.setConfig(e);for(var t=0;t<te.installedPlugins.length;t++)try{te.installedPlugins[t].patch(this)}catch(e){this.sendSDKError(e)}this.lifeCycle.emit("onInited")},te.prototype.setConfig=function(e){Object.assign(this.config,e);e=this.config;var t=e.id,n=e.uin,r=e.version,o=e.ext1,s=e.ext2,i=e.ext3,a=e.aid,l=e.env,c=void 0===l?"production":l;l=e.pageUrl,e=this.bean.id!==t||this.bean.uin!==n||this.bean.aid!==a;return this.bean.id=t||"",this.bean.uin=n||"",this.bean.version=r||"1.36.5",this.bean.aid=a||"",this.bean.env=function(){switch(c){case j.production:case j.development:case j.gray:case j.pre:case j.daily:case j.local:case j.test:case j.others:return 1;default:return}}()?c:j.others,l&&this.extendBean("from",encodeURIComponent(l)),o&&this.extendBean("ext1",encodeURIComponent(o)),s&&this.extendBean("ext2",encodeURIComponent(s)),i&&this.extendBean("ext3",encodeURIComponent(i)),e&&this.lifeCycle.emit("onConfigChange",this.config),this.config},te.use=function(e){-1===te.installedPlugins.indexOf(e)&&e.aegisPlugin&&te.installedPlugins.push(e)},te.unuse=function(e){e=te.installedPlugins.indexOf(e),-1!==e&&te.installedPlugins.splice(e,1)},te.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={level:R.INFO,msg:e};1===e.length&&e[0].msg&&Object.assign(n,o({},e[0]),{level:R.INFO}),this.normalLogPipeline(n)},te.prototype.infoAll=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={level:R.INFO_ALL,msg:e};1===e.length&&e[0].msg&&Object.assign(n,o({},e[0]),{level:R.INFO_ALL}),this.normalLogPipeline(n)},te.prototype.report=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={level:R.REPORT,msg:e};1===e.length&&e[0].msg&&Object.assign(n,o({},e[0])),this.normalLogPipeline(n)},te.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={level:R.ERROR,msg:e};1===e.length&&e[0].msg&&Object.assign(n,o({},e[0]),{level:R.ERROR}),this.normalLogPipeline(n)},te.prototype.speedLogPipeline=function(e){throw new Error('You need to override "speedLogPipeline" method')},te.prototype.reportPv=function(e){var t,n=this;e&&(console.warn("reportPv is deprecated, please use reportEvent"),t=""+Object.getOwnPropertyNames(this.bean).filter((function(e){return"id"!==e})).map((function(e){return e+"="+n.bean[e]})).join("&"),this.sendPipeline([function(r,o){o({url:n.config.url+"/"+e+"?"+t,addBean:!1,type:A.CUSTOM_PV,fail:function(e){"403 forbidden"===e&&n.destroy()}})}],A.CUSTOM_PV)(null))},te.prototype.reportEvent=function(e){e&&((e="string"==typeof e?{name:e,ext1:this.config.ext1||"",ext2:this.config.ext2||"",ext3:this.config.ext3||""}:e).name?this.eventPipeline(e):console.warn("reportEvent params error"))},te.prototype.reportTime=function(e,t){if("object"==typeof e)return this.reportT(e);"string"==typeof e?"number"==typeof t?t<0||6e4<t?console.warn("reportTime: duration must between 0 and 60000"):this.submitCustomTime(e,t):console.warn("reportTime: second param must be number"):console.warn("reportTime: first param must be a string")},te.prototype.reportT=function(e){var t=e.name,n=e.duration,r=e.ext1,o=(r=void 0===r?"":r,e.ext2),s=(o=void 0===o?"":o,e.ext3);s=void 0===s?"":s,e=e.from;if("string"==typeof t&&"number"==typeof n&&"string"==typeof r&&"string"==typeof o&&"string"==typeof s){if(!(n<0||6e4<n))return this.submitCustomTime(t,n,r,o,s,void 0===e?"":e);console.warn("reportTime: duration must between 0 and 60000")}else console.warn("reportTime: params error")},te.prototype.time=function(e){"string"==typeof e?this.timeMap[e]?console.warn("Timer "+e+" already exists"):this.timeMap[e]=Date.now():console.warn("time: first param must be a string")},te.prototype.timeEnd=function(e){"string"==typeof e?this.timeMap[e]?(this.submitCustomTime(e,Date.now()-this.timeMap[e]),delete this.timeMap[e]):console.warn("Timer "+e+" does not exist"):console.warn("timeEnd: first param must be a string")},te.prototype.submitCustomTime=function(e,t,n,r,o,s){this.customTimePipeline({name:e,duration:t,ext1:n||this.config.ext1,ext2:r||this.config.ext2,ext3:o||this.config.ext3,from:s||void 0})},te.prototype.extendBean=function(e,t){this.bean[e]=t},te.prototype.sendPipeline=function(e,t){var n,r=this;return C(s([function(e,t){if("number"!=typeof n.config.random&&(console.warn("random must in [0, 1], default is 1."),n.config.random=1),!n.isHidden||!n.isGetSample)if(n.isGetSample)n.isHidden||t(e);else{if(n.isGetSample=!0,Math.random()<n.config.random)return n.isHidden=!1,t(e);n.isHidden=!0}},y(n=this,t)],e,[w(this),function(e,t){r.request(e,(function(){for(var n,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];r.failRequestCount=0,t({isErr:!1,result:o,logType:null==e?void 0:e.type,logs:null==e?void 0:e.log}),null!=(n=null==e?void 0:e.success)&&n.call.apply(n,s([e],o))}),(function(){for(var n,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];10<=++r.failRequestCount&&r.destroy(),t({isErr:!0,result:o,logType:null==e?void 0:e.type,logs:null==e?void 0:e.log}),null!=(n=null==e?void 0:e.fail)&&n.call.apply(n,s([e],o))}))},S(this)]))},te.prototype.send=function(e,t,n){var r=this;return C([w(this),function(e,o){r.request(e,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];o({isErr:!1,result:n,logType:e.type,logs:e.log}),null!=t&&t.apply(void 0,n)}),(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];o({isErr:!0,result:t,logType:e.type,logs:e.log}),null!=n&&n.apply(void 0,t)}))},S(this)])(e)},te.prototype.ready=function(e,t,n){throw new Error('You need to override "ready" method')},te.prototype.request=function(e,t,n){throw new Error('You need to override "request" method')},te.prototype.sendSDKError=function(e){var t=this;this.sendPipeline([function(e,n){n({url:t.config.url+"?id=1085&msg[0]="+encodeURIComponent(P(e))+"&level[0]=2&from="+t.config.id+"&count=1&version="+t.config.id+"(1.36.5)",addBean:!1,method:"get",type:A.SDK_ERROR,log:e})}],A.SDK_ERROR)(e)},te.prototype.destroy=function(e){void 0===e&&(e=!1);var t,n,r=te.instances.indexOf(this);-1!==r&&te.instances.splice(r,1);for(var o=te.installedPlugins.length-1;0<=o;o--)try{te.installedPlugins[o].unpatch(this)}catch(e){this.sendSDKError(e)}if(this.lifeCycle.emit("destroy"),this.lifeCycle.clear(),e)t=this,n=Object.getOwnPropertyDescriptors(t),Object.keys(n).forEach((function(e){n[e].writable&&(t[e]=null)})),Object.setPrototypeOf(this,null);else{for(var s=this;s.constructor!==Object&&_(s,this),s=Object.getPrototypeOf(s););0===te.instances.length&&(r=Object.getPrototypeOf(this).constructor,_(r),_(te))}},te.version="1.36.5",te.instances=[],te.logType=R,te.environment=j,te.installedPlugins=[],te),W=(ee.prototype.patch=function(e){this.canUse(e)&&this.exist(e)&&(this.instances.push(e),this.triggerInit(e),this.triggerOnNewAegis(e))},ee.prototype.unpatch=function(e){e=this.instances.indexOf(e),-1!==e&&(this.instances.splice(e,1),0===this.instances.length&&this.uninstall())},ee.prototype.countInstance=function(){return this.instances.length},ee.prototype.uninstall=function(){var e;null!=(e=null==(e=this.option)?void 0:e.destroy)&&e.apply(this)},ee.prototype.walk=function(e){var t=this;this.instances.forEach((function(n){var r=t.canUse(n);r&&e(n,r)}))},ee.prototype.canUse=function(e){return e=this.getConfig(e),!(!e||"object"!=typeof e)||!!e},ee.prototype.getConfig=function(e){return null==(e=e.config)?void 0:e[this.name]},ee.prototype.exist=function(e){return-1===this.instances.indexOf(e)},ee.prototype.triggerInit=function(e){var t;this.inited||(this.inited=!0,null!=(t=null==(t=this.option)?void 0:t.init)&&t.call(this.option,this.getConfig(e)))},ee.prototype.triggerOnNewAegis=function(e){var t;null!=(t=null==(t=this.option)?void 0:t.onNewAegis)&&t.call(this.option,e,this.getConfig(e))},ee),Y=new W({name:"aid",aid:"",init:function(e){try{var t=!0!==e&&e||window.localStorage.getItem("AEGIS_ID");t||(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),window.localStorage.setItem("AEGIS_ID",t)),this.aid=t}catch(e){}},onNewAegis:function(e){e.bean.aid=this.aid,e.config.aid=this.aid}}),G=["/collect/offlineAuto","/aegis-sdk","/flog.core.min.js"],K=function(e){var t;return e.payload?(t={},Object.keys(e).forEach((function(n){"payload"!==n&&(t[n]=e[n])})),t):e},X=new W({name:"reportAssetSpeed"}),J=X=new W({name:"reportAssetSpeed",collectCur:0,collectEntryType:"resource",ASSETS_INITIATOR_TYPE:["img","css","script","link","audio","video"],onNewAegis:function(e){var t=this;E()&&(this.collectSuccessLog(e),this.collectFailLog(e),performance.onresourcetimingbufferfull=function(){t.collectCur=0,performance.clearResourceTimings()})},publish:function(e){this.$walk((function(t){t.speedLogPipeline(e)}))},publishMany:function(e,t){for(var n=t.config,r=0,o=e.length;r<o;r++){var s=e[r];-1===this.ASSETS_INITIATOR_TYPE.indexOf(s.initiatorType)||T(s.name)||this.publish(this.generateLog(s,n))}},collectSuccessLog:function(e){var t,n,r=this;"function"==typeof window.PerformanceObserver?(this.publishMany(performance.getEntriesByType(this.collectEntryType),e),(t=new window.PerformanceObserver((function(t){r.publishMany(t.getEntries(),e)}))).observe({entryTypes:[this.collectEntryType]}),e.lifeCycle.on("destroy",(function(){0===X.countInstance()&&t.disconnect()}))):(n=setInterval((function(){var t=performance.getEntriesByType(r.collectEntryType),n=t.slice(r.collectCur);r.collectCur=t.length,r.publishMany(n,e)}),3e3),e.lifeCycle.on("destroy",(function(){0===X.countInstance()&&clearInterval(n)})))},collectFailLog:function(e){function t(e){var t,o;e&&(e=e.target||e.srcElement,!(t=(null==e?void 0:e.src)||(null==e?void 0:e.href))||"string"!=typeof t||-1<window.location.href.indexOf(t)||(e="function"==typeof(null==(e=r.api)?void 0:e.resourceTypeHandler)?null==(e=r.api)?void 0:e.resourceTypeHandler(t):"",o=performance.getEntriesByType(n.collectEntryType).find((function(e){return e.name===t})),T(t)||(o={url:h(t),status:400,duration:Number(((null==o?void 0:o.duration)||0).toFixed(2)),method:"get",type:e||"static",isHttps:f(t),urlQuery:h(t,!0),nextHopProtocol:"",domainLookup:0,connectTime:0},n.publish(o))))}var n=this,r=e.config;window.document.addEventListener("error",t,!0),e.lifeCycle.on("destroy",(function(){0===X.countInstance()&&window.document.removeEventListener("error",t,!0)}))},generateLog:function(e,t){var n;t="function"==typeof(null==(n=t.api)?void 0:n.resourceTypeHandler)?null==(n=t.api)?void 0:n.resourceTypeHandler(e.name):"";return{url:h(e.name),method:"get",duration:Number(e.duration.toFixed(2)),status:200,type:t||"static",isHttps:f(e.name),nextHopProtocol:e.nextHopProtocol||"",urlQuery:h(e.name,!0),domainLookup:p(e.domainLookupEnd-e.domainLookupStart),connectTime:p(e.connectEnd-e.connectStart)}},collectNotReportedLog:function(e){var t,n;E()&&(t=(n=performance.getEntriesByType(this.collectEntryType)).length,"function"!=typeof window.PerformanceObserver&&this.collectCur!==t&&(n=n.slice(this.collectCur),this.collectCur=t,this.publishMany(n,e,!0)))},destroy:function(){this.option.publish=function(){}}}),Z=window.navigator.userAgent.toLowerCase(),Q={};function ee(e){this.aegisPlugin=!0,this.name="",this.instances=[],this.inited=!1,e.$walk=this.walk.bind(this),e.$getConfig=this.getConfig.bind(this),this.option=e,this.name=e.name}function te(e){var t,n,r,o,s,i,a,l,u,d,p,h,f,g,m,y=this;this.isGetSample=!1,this.isHidden=!1,this.config={version:0,delay:1e3,onError:!0,repeat:5,random:1,aid:!0,device:!0,pagePerformance:!0,webVitals:!0,speedSample:!0,onClose:!0,hostUrl:"https://aegis.qq.com",websocketHack:!1,env:"production",url:"",offlineUrl:"",whiteListUrl:"",pvUrl:"",speedUrl:"",customTimeUrl:"",performanceUrl:"",webVitalsUrl:"",eventUrl:"",setDataReportUrl:"",reportImmediately:!0},this.isWhiteList=!1,this.lifeCycle=new c,this.bean={},this.normalLogPipeline=C([v(this,5),b,function(e,n){var r=t.config;n(e=e.map((function(e){var t,n=r.maxLength||102400;try{if(!e.msg||e.msg.length<=n)return e;e.msg=null==(t=e.msg)?void 0:t.substring(0,n)}catch(t){e.msg=P(e.msg).substring(0,r.maxLength)}return e})))},(g=(t=this).config,m={},function(e,t){var n="number"==typeof g.repeat?g.repeat:5;if(0===n)return t(e);t(e.filter((function(e){return e.level!==R.ERROR&&e.level!==R.PROMISE_ERROR&&e.level!==R.AJAX_ERROR&&e.level!==R.SCRIPT_ERROR&&e.level!==R.IMAGE_ERROR&&e.level!==R.CSS_ERROR&&e.level!==R.MEDIA_ERROR||(m[e.msg]=m[e.msg]||0,m[e.msg]+=1,!(m[e.msg]>n))})))}),(h=this.lifeCycle.emit,f=this.config,function(e,t){var n,r=f.logCreated;return"function"==typeof r?(n=e.filter((function(e){return!1!==r(e)})),h("beforeWrite",n),t(n)):(h("beforeWrite",e),t(e))}),(p=this,setTimeout((function(){var e=p.config.pvUrl,t=void 0===e?"":e;t&&p.sendPipeline([function(e,n){n({url:t,type:A.PV,fail:function(e){"403 forbidden"===e&&p.destroy()}})}],A.PV)(null)}),100),function(e,t){t(e)}),(u=l=a=!1,d=[],(s=this).lifeCycle.on("onConfigChange",(function(){i&&clearTimeout(i),i=setTimeout((function(){var e,t;!u&&s.config&&(u=!0,e=s.config.whiteListUrl,(t=void 0===e?"":e)&&s.sendPipeline([function(e,n){n({url:t,type:A.WHITE_LIST,success:function(e){l=!0;try{var t=e.data||JSON.parse(e),n=t.retcode,r=t.result,o=void 0===r?{}:r;if(0===n){if(a=o.is_in_white_list,s.isWhiteList=a,o.shutdown)return void s.destroy();0<=o.rate&&o.rate<=1&&(s.config.random=o.rate,s.isGetSample=!1)}s.isWhiteList&&d.length?F(s)(d.splice(0),(function(){})):!s.isWhiteList&&d.length&&(d.length=0);var i=s.config.onWhitelist;"function"==typeof i&&i(a)}catch(e){}},fail:function(e){"403 forbidden"===e&&s.destroy(),l=!0}})}],A.WHITE_LIST)(null),u=!1)}),s.config.uin?50:500)})),s.lifeCycle.on("destroy",(function(){d.length=0})),function(e,t){var n;a||null!=(n=null==(n=s.config)?void 0:n.api)&&n.reportRequest?t(e.concat(d.splice(0)).map((function(e){return U(e),e}))):(n=e.filter((function(e){return e.level!==R.INFO&&e.level!==R.API_RESPONSE?(U(e),!0):(l||(d.push(e),200<=d.length&&(d.length=200)),!1)}))).length&&t(n)}),function(e,t){try{var n=JSON.parse(JSON.stringify(e)),r=(y.lifeCycle.emit("beforeReport",n),y.config.beforeReport);(e="function"==typeof r?e.filter((function(e){return!1!==r(e)})):e).length&&t(e)}catch(e){}},F(this)]),this.eventPipeline=C([v(this,10),(o=this,function(e){o.sendPipeline([function(e,t){var n=e.map((function(e){return{name:e.name,ext1:e.ext1||o.config.ext1||"",ext2:e.ext2||o.config.ext2||"",ext3:e.ext3||o.config.ext3||""}}));t({url:o.config.eventUrl+"?payload="+encodeURIComponent(JSON.stringify(n)),type:A.EVENT,log:e,fail:function(e){"403 forbidden"===e&&o.destroy()}})}],A.EVENT)(e)})]),this.timeMap={},this.failRequestCount=0,this.customTimePipeline=C([v(this,10),(r=this,function(e){return r.sendPipeline([function(e,t){t({url:r.config.customTimeUrl+"?payload="+encodeURIComponent(JSON.stringify({custom:e})),type:A.CUSTOM,log:e,fail:function(e){"403 forbidden"===e&&r.destroy()}})}],A.CUSTOM)(e)})]),this.config=(n=this.config,void 0===(e=e.hostUrl)&&(e="https://aegis.qq.com"),n.url=n.url||e+"/collect",n.offlineUrl=n.offlineUrl||e+"/offline",n.whiteListUrl=n.whiteListUrl||e+"/collect/whitelist",n.pvUrl=n.pvUrl||e+"/collect/pv",n.eventUrl=n.eventUrl||e+"/collect/events",n.speedUrl=n.speedUrl||e+"/speed",n.customTimeUrl=n.customTimeUrl||e+"/speed/custom",n.performanceUrl=n.performanceUrl||e+"/speed/performance",n.webVitalsUrl=n.webVitalsUrl||e+"/speed/webvitals",n.setDataReportUrl=n.SetDataReportUrl||e+"/speed/miniProgramData",n),te.instances.push(this)}function ne(e){de.find((function(t){return t.name===e.name}))||(de.push(e),!ue&&window.XMLHttpRequest&&(ue=!0,window.XMLHttpRequest.prototype.open=function(){if(this.aegisMethod=arguments[0],this.aegisUrl=arguments[1],this.aegisXhrStartTime=Date.now(),this.sendByAegis)Q.isIE()||(this.timeout=5e3);else for(var e=0;e<de.length;e++){var t=de[e];try{"function"==typeof t.open&&t.open(this)}catch(e){}}return he.apply(this,arguments)},window.XMLHttpRequest.prototype.setRequestHeader=function(){var e=arguments[0],t=arguments[1];return this.aegisXhrReqHeader=this.aegisXhrReqHeader||{},this.aegisXhrReqHeader[e]=t,fe.apply(this,arguments)},window.XMLHttpRequest.prototype.send=function(){if(!this.sendByAegis)for(var e=0;e<de.length;e++){var t=de[e];try{"function"==typeof t.send&&t.send(this,arguments[0])}catch(e){}}return pe.apply(this,arguments)}))}function re(e){var t=de.findIndex((function(t){return t.name===e.name}));-1!==t&&de.splice(t,1),window.XMLHttpRequest.prototype.send=pe,window.XMLHttpRequest.prototype.open=he,window.XMLHttpRequest.prototype.setRequestHeader=fe}function oe(e){return e.split("\r\n").reduce((function(e,t){return t=t.split(": "),t[0]&&t[1]&&(e[t[0]]=t[1]),e}),{})}function se(e,t,n){return null!=t&&t.length&&"object"==typeof e?t.reduce((function(t,r){var o=e instanceof Headers?e.get(r):e[r];return o?t+(""===t?"\n":"\n\n")+n+" header "+r+": "+o:t}),""):""}function ie(e){var t,n="";return"object"==typeof e&&(t=(e=function(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=e[r]||"function"==typeof e.get&&e.get(r);if(o)return[r,o]}return["",""]}(e,Object.keys(be)))[0],e=e[1],t&&(n=be[t](e))),n}Q.macos=function(){return x("mac")},Q.ios=function(){return Q.iphone()||Q.ipod()||Q.ipad()},Q.iphone=function(){return!Q.windows()&&x("iphone")},Q.ipod=function(){return x("ipod")},Q.ipad=function(){var e="MacIntel"===navigator.platform&&1<navigator.maxTouchPoints;return x("ipad")||e},Q.android=function(){return!Q.windows()&&x("android")},Q.androidPhone=function(){return Q.android()&&x("mobile")},Q.androidTablet=function(){return Q.android()&&!x("mobile")},Q.blackberry=function(){return x("blackberry")||x("bb10")},Q.blackberryPhone=function(){return Q.blackberry()&&!x("tablet")},Q.blackberryTablet=function(){return Q.blackberry()&&x("tablet")},Q.windows=function(){return x("windows")},Q.windowsPhone=function(){return Q.windows()&&x("phone")},Q.windowsTablet=function(){return Q.windows()&&x("touch")&&!Q.windowsPhone()},Q.fxos=function(){return(x("(mobile")||x("(tablet"))&&x(" rv:")},Q.fxosPhone=function(){return Q.fxos()&&x("mobile")},Q.fxosTablet=function(){return Q.fxos()&&x("tablet")},Q.meego=function(){return x("meego")},Q.cordova=function(){return window.cordova&&"file:"===location.protocol},Q.nodeWebkit=function(){return"object"==typeof window.process},Q.mobile=function(){return Q.androidPhone()||Q.iphone()||Q.ipod()||Q.windowsPhone()||Q.blackberryPhone()||Q.fxosPhone()||Q.meego()},Q.tablet=function(){return Q.ipad()||Q.androidTablet()||Q.blackberryTablet()||Q.windowsTablet()||Q.fxosTablet()},Q.desktop=function(){return!Q.tablet()&&!Q.mobile()};var ae,le,ce,ue=!(Q.isIE=function(){return"ActiveXObject"in window}),de=[],pe=window.XMLHttpRequest.prototype.send,he=window.XMLHttpRequest.prototype.open,fe=window.XMLHttpRequest.prototype.setRequestHeader,ge=window.fetch,me=!1,ve=[],be={sw8:function(e){return e=e.split("-")[1],e?atob(e):""},traceparent:function(e){return e.split("-")[1]},"sentry-trace":function(e){return e.split("-")[0]}},ye=(new W({name:"reportApiSpeed"}),new W({name:"reportApiSpeed",override:!1,onNewAegis:function(e){this.override||(this.override=!0,this.overrideFetch(e.config),this.overrideXhr(e.config))},getRequestType:function(e,t,n){void 0===t&&(t="");var r,o;e="function"==typeof(null==(o=e.api)?void 0:o.resourceTypeHandler)?null==(o=e.api)?void 0:o.resourceTypeHandler(n):"";return"fetch"===e&&"static"===e||(r=void 0===t?"":t,o=(void 0===n?"":n).split("?")[0],e=N.test(o)||I.some((function(e){return-1!==String(r).indexOf(e)}))?"static":"fetch"),e},overrideFetch:function(e){var t=this,n={name:this.name,then:function(n,r,o,s){var i,l;e.hostUrl&&-1<o.indexOf(e.hostUrl)||(i=n.headers?n.headers.get("content-type"):"",i=t.getRequestType(e,i,n.url),l={url:n.url,isHttps:f(n.url),method:(null==s?void 0:s.method)||"get",duration:r,type:i,nextHopProtocol:"",status:n.status||0},"fetch"===i?n.clone().text().then((function(i){var a=n.status<=0||400<=n.status,c=(null==(c=e.api)?void 0:c.reqHeaders)||[],u=(c=se(null==s?void 0:s.headers,c,"req"),(null==(u=e.api)?void 0:u.resHeaders)||[]),d=(u=se(n.headers,u,"res"),ie(null==s?void 0:s.headers)),p=g(i,e.api,{url:o,ctx:n,payload:null==s?void 0:s.body}),h=p.code,f=(p=p.isErr,null==(f=e.api)?void 0:f.apiDetail),v=f?m(null==s?void 0:s.body,null==(v=e.api)?void 0:v.reqParamHandler,{url:o}):"";f=f?m(i,null==(f=e.api)?void 0:f.resBodyHandler,{url:o,ctx:n}):"",i=(a?"FETCH_ERROR: "+i+" \n\n":"")+"fetch req url: "+o+" \n                                \nres status: "+(n.status||0)+" \n                                \nres duration: "+r+"ms \n                                \nreq method: "+((null==s?void 0:s.method)||"get")+" \n                                \nres retcode: "+h+"\n                                \nreq param: "+v+"\n                                \nres data: "+f+"\n                                "+c+"\n                                "+u;l.payload=null==s?void 0:s.body,l.ret=h,l.isErr=+p,t.publishNormalLog({msg:i,level:a?R.AJAX_ERROR:p?R.RET_ERROR:R.API_RESPONSE,code:h,trace:d}),t.publishSpeed(l)})):(Object.assign(l,{type:"static",urlQuery:h(n.url,!0),domainLookup:a.number,connectTime:a.number}),t.publishSpeed(l)))},catch:function(n,r,o,s){var i,a,l;if(!(e.hostUrl&&-1<o.indexOf(e.hostUrl)))throw i=t.getRequestType(e,"",o),i={url:o,isHttps:f(o),method:(null==s?void 0:s.method)||"get",duration:r,nextHopProtocol:"",type:i,status:0},t.publishSpeed(i),i=(null==(i=e.api)?void 0:i.reqHeaders)||[],i=se(null==s?void 0:s.headers,i,"req"),a=ie(null==s?void 0:s.headers),l=null!=(l=e.api)&&l.apiDetail?m(null==s?void 0:s.body,null==(l=e.api)?void 0:l.reqParamHandler,{url:o}):"",o="AJAX_ERROR: "+n+"\n                          \nreq url: "+o+"\n                          \nres status: 0\n                          \nres duration: "+r+"ms\n                          \nreq method: "+((null==s?void 0:s.method)||"get")+"\n                          \nreq param:"+l+"\n                          "+i,t.publishNormalLog({msg:o,level:R.AJAX_ERROR,code:-400,trace:a}),n}},r=(this.hackFetchOptions=n,this.hackFetchOptions);if(ve.find((function(e){return e.name===r.name})))throw new Error("name '"+r.name+"' is already in hackFetch option list");ve.push(r),!me&&window.fetch&&(me=!0,window.fetch=function(e,t){void 0===t&&(t={});for(var n="string"==typeof e?e:e.url,r=0;r<ve.length;r++){var o=ve[r];try{"function"==typeof o.beforeFetch&&o.beforeFetch(n,t)}catch(e){}}var s=Date.now();return ge(e,t).then((function(e){for(var r=0;r<ve.length;r++){var o=ve[r];try{"function"==typeof o.then&&o.then(e,Date.now()-s,n,t)}catch(e){}}return e})).catch((function(e){for(var r=0;r<ve.length;r++){var o=ve[r];try{"function"==typeof o.catch&&o.catch(e,Date.now()-s,n,t)}catch(e){}}throw e}))})},overrideXhr:function(e){var t=this,n={name:this.name,send:function(n,r){var o=Date.now();n.addEventListener("loadend",(function(){var s=n.aegisUrl||"";if(s&&!(e.hostUrl&&-1<s.indexOf(e.hostUrl))){var i=Date.now()-o,l=n.getResponseHeader("content-type"),c=(l=t.getRequestType(e,l,s),{url:s,isHttps:f(s),status:n.status||0,method:n.aegisMethod||"get",type:l,nextHopProtocol:"",duration:i}),u=(null==(u=e.api)?void 0:u.reqHeaders)||[],d=se(n.aegisXhrReqHeader,u,"req"),p=(u=(null==(u=e.api)?void 0:u.resHeaders)||[],oe(n.getAllResponseHeaders())),g=se(p,u,"res"),v=ie(n.aegisXhrReqHeader),b=(u=null==(p=e.api)?void 0:p.apiDetail,u?m(r,null==(p=e.api)?void 0:p.reqParamHandler,{url:s}):""),y=u?m(n.response,null==(p=e.api)?void 0:p.resBodyHandler,{url:s}):"";if("fetch"===l)try{var w,S,C,_,E=n.response,k=e.api,T={url:s,ctx:n,payload:r},x=function(e){var n=e.code,o=(e=e.isErr,"xhr req url: "+s+"\n                    \nres status: "+c.status+"\n                    \nres duration: "+i+"ms\n                    \nreq method: "+c.method+"\n                    \nres retcode: "+n+"\n                    \nreq param: "+b+"\n                    \nres data: "+y+"\n                    "+d+"\n                    "+g);c.ret=n,c.isErr=+e,c.payload=r,t.publishNormalLog({msg:o,level:e?R.RET_ERROR:R.API_RESPONSE,code:n,trace:v}),t.publishSpeed(c)};try{if("function"==typeof(null==k?void 0:k.retCodeHandlerAsync))return void k.retCodeHandlerAsync(E,null==T?void 0:T.url,null==T?void 0:T.ctx,(function(e){var t=e.code;e=e.isErr;null!=x&&x({code:void 0===t?"unknown":t,isErr:e})}));if("function"==typeof(null==k?void 0:k.retCodeHandler))return C=(S=k.retCodeHandler(E,null==T?void 0:T.url,null==T?void 0:T.ctx,null==T?void 0:T.payload)||{}).code,_=S.isErr,void(null!=x&&x({code:void 0===C?"unknown":C,isErr:_}));"string"==typeof E&&(E=JSON.parse(E)),"function"==typeof(null==(w=null==k?void 0:k.ret)?void 0:w.join)&&(O=[].concat(k.ret.map((function(e){return e.toLowerCase()}))));var A=Object.getOwnPropertyNames(E).filter((function(e){return-1!==O.indexOf(e.toLowerCase())}));if(A.length)return C=E[A[0]],void(null!=x&&x({code:""+C,isErr:0!==C&&"0"!==C}));null!=x&&x({code:"unknown",isErr:!1})}catch(E){null!=x&&x({code:"unknown",isErr:!1})}}catch(l){c.ret="unknown",t.publishSpeed(c)}else Object.assign(c,{type:"static",urlQuery:h(s,!0),domainLookup:a.number,connectTime:a.number}),t.publishSpeed(c)}}))}};this.hackXHROptions=n,ne(this.hackXHROptions)},publishSpeed:function(e){var t=this;this.$walk((function(n){var r=t.$getConfig(n);"fetch"===e.type&&r&&"function"==typeof r.urlHandler?n.speedLogPipeline(o(o({},e),{url:h(r.urlHandler(e.url,e.payload))})):(e.url=h(e.url),n.speedLogPipeline(e))}))},publishNormalLog:function(e){this.$walk((function(t){t.normalLogPipeline(e)}))},destroy:function(){var e,t;this.option.publishSpeed=function(){},this.option.publishNormalLog=function(){},this.option.hackXHROptions&&re(this.option.hackXHROptions),this.option.hackFetchOptions&&(e=this.option.hackFetchOptions,-1!==(t=ve.findIndex((function(t){return t.name===e.name})))&&ve.splice(t,1),window.fetch=ge)}})),we=new W({name:"reportBridgeSpeed",override:!1,onNewAegis:function(e){this.override||(this.override=!0,this.overrideBridge(e))},publishSpeed:function(e){this.$walk((function(t){t.speedLogPipeline(e)}))},overrideBridge:function(e){var t=this,n=Date.now(),r=e.config;r.reportBridgeSpeed&&r.h5Bridge&&r.h5BridgeFunc.length&&r.h5BridgeFunc.forEach((function(e){var o=r.h5Bridge[e];r.h5Bridge[e]=function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];var i=e[0],a=e[1],l=e[2],c=e[3];o(i,a,l,(function(e){var o=g(e,r.api),s=o.code;o=o.isErr,s={url:i+"-"+a,name:i+"-"+a,duration:Date.now()-n,type:"bridge",ret:s,isErr:+o};t.publishSpeed(s),c(e)}))}}))}});function Se(e,t,n,r){return void 0===n&&(n=3e4),void 0===r&&(r=0),(t=void 0===t?0:t)<=e&&e<=n?e:r}(Ie=ae=ae||{})[Ie.unknown=100]="unknown",Ie[Ie.wifi=1]="wifi",Ie[Ie.net2g=2]="net2g",Ie[Ie.net3g=3]="net3g",Ie[Ie.net4g=4]="net4g",Ie[Ie.net5g=5]="net5g",Ie[Ie.net6g=6]="net6g",(Ie=le=le||{})[Ie.android=1]="android",Ie[Ie.ios=2]="ios",Ie[Ie.windows=3]="windows",Ie[Ie.macos=4]="macos",Ie[Ie.linux=5]="linux",Ie[Ie.other=100]="other",(Ie=ce=ce||{})[Ie.unknown=100]="unknown",Ie[Ie.normal=0]="normal",Ie[Ie.weak=1]="weak",Ie[Ie.disconnected=2]="disconnected";var Ce,_e,Ee,ke,Te,xe,Re,Ae,je,Ie=new W({name:"device",onNewAegis:function(e){e.extendBean("platform",this.getPlatform()),e.extendBean("netType",ae.unknown),this.getDpi(e),this.refreshNetworkTypeToBean(e),this.refreshNetworkStatusToBean(e)},getDpi:function(e){e.extendBean("vp",Math.round(window.innerWidth)+" * "+Math.round(window.innerHeight)),window.screen&&e.extendBean("sr",Math.round(window.screen.width)+" * "+Math.round(window.screen.height))},getPlatform:function(){var e={android:/\bAndroid\s*([^;]+)/,ios:/\b(iPad|iPhone|iPod)\b.*? OS ([\d_]+)/,windows:/\b(Windows NT)/,macos:/\b(Mac OS)/,linux:/\b(Linux)/i},t=Object.keys(e).find((function(t){return e[t].test(navigator.userAgent)}));return t?le[t]:le.other},refreshNetworkTypeToBean:function(e){var t=this,n=e.config;n&&("function"==typeof n.getNetworkType?n.getNetworkType:Ne)((function(n){ae[n]||(n=ae.unknown),e.extendBean("netType",n),t.NetworkRefreshTimer=setTimeout((function(){t.refreshNetworkTypeToBean(e),clearTimeout(t.NetworkRefreshTimer)}),1e4)}))},refreshNetworkStatusToBean:function(e){var t,n=this,r=e.config;!r||null!=(t="function"==typeof r.getNetworkStatus?r.getNetworkStatus:t)&&t((function(t){void 0===ce[t]&&(t=ce.unknown),e.extendBean("netStatus",t),n.NetworkStatusRefreshTimer=setTimeout((function(){n.refreshNetworkStatusToBean(e),clearTimeout(n.NetworkStatusRefreshTimer)}),1e4)}))}}),Ne=function(e){var t="",n=navigator.userAgent.match(/NetType\/(\w+)/);n?t=n[1]:navigator.connection&&(t=navigator.connection.effectiveType||navigator.connection.type),e((n=t=t||"unknown",0<=(n=String(n).toLowerCase()).indexOf("4g")?ae.net4g:0<=n.indexOf("wifi")?ae.wifi:0<=n.indexOf("5g")?ae.net5g:0<=n.indexOf("6g")?ae.net6g:0<=n.indexOf("3g")?ae.net3g:0<=n.indexOf("2g")?ae.net2g:ae.unknown))},Oe=window.WebSocket,De=[],Pe={construct:function(e,t){var n=new e(t[0],t[1]);return n.originSend=n.send,n.addEventListener("error",(function(e){e=(null==e?void 0:e.currentTarget)||{};var t=e.url,n=e.readyState;null!=De&&De.forEach((function(e){e=e.onErr,null!=e&&e({msg:"无法获知具体错误信息，需在浏览器控制台查看！",readyState:n,connectUrl:t})}))})),Object.defineProperty(n,"send",{get:function(){return function(e){null!=(t=n.originSend)&&t.call(n,e);var t=n.readyState,r=(e=WebSocket.OPEN,WebSocket.CLOSED),s=WebSocket.CONNECTING,i=WebSocket.CLOSING;if(t!==e){var a={readyState:t,connectUrl:n.url};switch(t){case r:De.forEach((function(e){e=e.sendErr,null!=e&&e(o({msg:"消息发送失败，连接已关闭！"},a))}));break;case s:De.forEach((function(e){(0,e.sendErr)(o({msg:"消息发送失败，正在连接中！"},a))}));break;case i:De.forEach((function(e){(0,e.sendErr)(o({msg:"消息发送失败，连接正在关闭！"},a))}))}}}}}),n}},Me=new W({name:"onError"}),Le=Me=new W({name:"onError",onNewAegis:function(e){this.startListen(e)},startListen:function(e){function t(e){e=e&&P(e.reason),a.publishErrorLog({msg:"PROMISE_ERROR: "+e,level:R.PROMISE_ERROR})}function n(e){if(e=(null==e?void 0:e.target)||(null==e?void 0:e.srcElement)){var t=e.src||e.href;e=e.tagName;if("string"==typeof t&&e&&!(-1<window.location.href.indexOf(t))){var n={msg:e+" load fail: "+t,level:R.INFO};if(/\.js$/.test(t))n.level=R.SCRIPT_ERROR;else if(/\.css$/.test(t))n.level=R.CSS_ERROR;else switch(e.toLowerCase()){case"script":n.level=R.SCRIPT_ERROR;break;case"link":n.level=R.CSS_ERROR;break;case"img":n.level=R.IMAGE_ERROR;break;case"audio":case"video":n.level=R.MEDIA_ERROR;break;default:return}a.publishErrorLog(n)}}}var r,o,i,a=this,l=window.onerror,c=(window.onerror=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a.publishErrorLog({msg:(P(e[0])||"")+" @ ("+(P(e[1])||"")+":"+(e[2]||0)+":"+(e[3]||0)+")\n          \n"+P(e[4]||""),level:R.ERROR}),null!=l&&l.call.apply(l,s([window],e))},window.addEventListener("unhandledrejection",t),window.document.addEventListener("error",n,!0),e.lifeCycle.on("destroy",(function(){0===Me.countInstance()&&(window.document.removeEventListener("unhandledrejection",t),window.document.removeEventListener("error",n,!0))})),this),u={name:this.name,send:function(t,n){t.addEventListener("loadend",(function(){var r,o,s,i,a,l,u,d="";this.failType?d=this.failType:this.status?400<=this.status&&(d="error"):d="failed",e.config.hostUrl&&this.aegisUrl&&-1<this.aegisUrl.indexOf(e.config.hostUrl)||!d||(r=t.aegisUrl,o=(null==(o=e.config.api)?void 0:o.reqHeaders)||[],o=se(t.aegisXhrReqHeader,o,"req"),i=(null==(i=e.config.api)?void 0:i.resHeaders)||[],s=oe(t.getAllResponseHeaders()),s=se(s,i,"res"),i=ie(t.aegisXhrReqHeader),a=g(t.response,e.config.api,{url:r,ctx:t,payload:n}).code,l=(u=null==(u=e.config.api)?void 0:u.apiDetail)?m(n,null==(l=e.config.api)?void 0:l.reqParamHandler,{url:r}):"",u=u?m(t.responseType&&"text"!==t.responseType&&"json"!==t.responseType?"":L(t.response),null==(u=e.config.api)?void 0:u.resBodyHandler,{url:r}):"",c.publishErrorLog({msg:"AJAX_ERROR: request "+d+"\n                      \nreq url: "+this.aegisUrl+"\n                      \nres status: "+(this.status||0)+"\n                      \nres duration: "+(Date.now()-t.aegisXhrStartTime)+"ms\n                      \nres retcode: "+a+"\n                      \nreq method: "+this.aegisMethod+"\n                      \nreq param: "+l+"\n                      \nres data: "+u+"\n                      "+o+"\n                      "+s,level:R.AJAX_ERROR,trace:i}))})),t.addEventListener("timeout",(function(){t.failType="timeout"})),t.addEventListener("error",(function(){t.failType="error"})),t.addEventListener("abort",(function(){t.failType="abort"}))}};this.hackXHROptions=u,ne(this.hackXHROptions),e.config.websocketHack&&(u={key:e.config.id+"-"+this.name,onErr:function(e){var t;null!=(t=a.publishWsErrorLog)&&t.call(a,e)},sendErr:function(e){var t;null!=(t=a.publishWsErrorLog)&&t.call(a,e)}},this.hackWebsocketConfig=u,u=this.hackWebsocketConfig,window.Proxy&&window.WebSocket&&(r=window.WebSocket,window&&!r.isHack&&(o=new Proxy(WebSocket,Pe),r.isHack=!0,window.WebSocket=o),i=u,De.find((function(e){return e.key===i.key}))||i&&De.push(i)))},publishErrorLog:function(e){this.$walk((function(t){t.normalLogPipeline(e)}))},publishWsErrorLog:function(e){var t=e.connectUrl,n=e.msg;e=e.readyState;this.publishErrorLog({msg:"WEBSOCKET_ERROR: \n              connect: "+t+"\n              readyState: "+e+"\n              msg: "+n,level:R.WEBSOCKET_ERROR})},destroy:function(){var e,t;this.option.publishErrorLog=function(){},this.option.hackXHROptions&&re(this.option.hackXHROptions),this.option.hackWebsocketConfig&&(e=this.option.hackWebsocketConfig,window.WebSocket=Oe,-1!==(t=De.findIndex((function(t){return t.key===e.key})))&&De.splice(t,1))}}),$e=(new W({name:"pagePerformance"}),3),Be=new W({name:"pagePerformance",onNewAegis:function(e){E()&&(Ce?this.publish(Ce,e):this.startCalcPerformance(e))},publish:function(e,t){var n=this;t.sendPipeline([function(e,r){var o,s=[];for(o in e)s.push(o+"="+e[o]);var i,a=n.$getConfig(t);if(a)return i=-1===t.config.performanceUrl.indexOf("?")?"?":"&","function"==typeof a.urlHandler?r({url:t.config.performanceUrl+i+s.join("&")+"&from="+(encodeURIComponent(a.urlHandler())||window.location.href),beanFilter:["from"],type:A.PERFORMANCE,log:e}):r({url:t.config.performanceUrl+i+s.join("&"),type:A.PERFORMANCE,log:e})}],A.PERFORMANCE)(e)},startCalcPerformance:function(e){var t=this;try{this.getFirstScreenTiming(e,(function(n){var r=performance.timing;r&&(Ce={dnsLookup:Se(r.domainLookupEnd-r.domainLookupStart),tcp:Se(r.connectEnd-r.connectStart),ssl:Se(0===r.secureConnectionStart?0:r.requestStart-r.secureConnectionStart),ttfb:Se(r.responseStart-r.requestStart),contentDownload:Se(r.responseEnd-r.responseStart),domParse:Se(r.domInteractive-r.domLoading,0,3e4,1070),resourceDownload:Se(r.loadEventStart-r.domInteractive,0,3e4,1070),firstScreenTiming:Se(Math.floor(n),0,6e4)},(r=e.config).extraPerformanceData&&"{}"!==JSON.stringify(r.extraPerformanceData)&&(r=(n=r.extraPerformanceData).engineInit,n=n.bundleLoad,Ce=o(o({},Ce),{engineInit:Se(r,0,1e4),bundleLoad:Se(n,0,1e4)})),t.publish(Ce,e))}))}catch(e){}},getFirstScreenTiming:function(e,t){e.lifeCycle.on("destroy",(function(){l&&clearTimeout(l)}));var n=this,r=["script","style","link","br"],o=[],s={},i=new MutationObserver((function(e){var t={roots:[],rootsDomNum:[],time:performance.now()};e.forEach((function(e){e&&e.addedNodes&&e.addedNodes.forEach&&e.addedNodes.forEach((function(e){1===e.nodeType&&(e.hasAttribute("AEGIS-FIRST-SCREEN-TIMING")||e.querySelector("[AEGIS-FIRST-SCREEN-TIMING]"))?(Object.prototype.hasOwnProperty.apply(s,[t.time])||(s[t.time]=[]),s[t.time].push(e)):1!==e.nodeType||-1!==r.indexOf(e.nodeName.toLocaleLowerCase())||n.isEleInArray(e,t.roots)||e.hasAttribute("AEGIS-IGNORE-FIRST-SCREEN-TIMING")||(t.roots.push(e),t.rootsDomNum.push(n.walkAndCount(e)||0))}))})),t.roots.length&&o.push(t)})),a=(i.observe(document,{childList:!0,subtree:!0}),function(r){(r=void 0===r?0:r)||(c=0,(u=Object.keys(s).filter((function(e){return s[+e].find((function(e){return n.isInFirstScreen(e)}))}))).length?(r=Math.max.apply(null,u),("object"!=typeof(null==(u=e.config)?void 0:u.pagePerformance)||null!=(u=e.config.pagePerformance)&&u.firstScreenInfo)&&(e.firstScreenInfo={element:null==(u=s[r])?void 0:u[0],timing:r,markDoms:s})):o.forEach((function(t){for(var o,s=0;s<t.roots.length;s++)t.rootsDomNum[s]>c&&n.isInFirstScreen(t.roots[s])&&(c=t.rootsDomNum[s],r=t.time,("object"!=typeof(null==(o=e.config)?void 0:o.pagePerformance)||null!=(o=e.config.pagePerformance)&&o.firstScreenInfo)&&(e.firstScreenInfo={element:t.roots[s],timing:r}))})),o.length=0,Object.keys(s).forEach((function(e){s[e]=s[e].map((function(e){var t={tagName:e.tagName},n=e.attributes;if(!n)return e;for(var r=0;r<n.length;r++){var o=n[r];o.name&&(t[o.name]=e.getAttribute(o.name))}return t}))})));var c,u=performance.timing,d=u.domInteractive-u.domLoading,p=(u=u.loadEventStart-u.domInteractive,r);l=null;for(var h=0,f=[d,u,p];h<f.length;h++)if(f[h]<=0&&0<$e){l=setTimeout((function(){return a(p)}),3e3);break}l?--$e:(i.disconnect(),null!=t&&t(r))}),l=setTimeout((function(){return a()}),3e3)},isEleInArray:function(e,t){return!(!e||e===document.documentElement)&&(-1!==t.indexOf(e)||this.isEleInArray(e.parentElement,t))},isInFirstScreen:function(e){var t,n;return!(!e||"function"!=typeof e.getBoundingClientRect)&&(e=e.getBoundingClientRect(),t=window.innerHeight,n=window.innerWidth,0<=e.left&&e.left<n&&0<=e.top&&e.top<t&&0<e.width&&0<e.height)},walkAndCount:function(e){var t=0;if(e&&1===e.nodeType){t+=1;var n=e.children;if(null!=n&&n.length)for(var r=0;r<n.length;r++)t+=this.walkAndCount(n[r])}return t}});function He(){Te=[],Ee=-1,_e=null,Fe(addEventListener)}function Ue(e,t){_e||(_e=t,Ee=e,ke=new Date,Fe(removeEventListener),Ve())}function Ve(){var e;0<=Ee&&Ee<ke-Re&&(e={entryType:"first-input",name:_e.type,target:_e.target,cancelable:_e.cancelable,startTime:_e.timeStamp,processingStart:_e.timeStamp+Ee},Te.forEach((function(t){t(e)})),Te=[])}function Fe(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,Ae,xe)}))}function qe(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v1-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}}function ze(e,t){try{var n;if(PerformanceObserver.supportedEntryTypes.includes(e)&&("first-input"!==e||"PerformanceEventTiming"in self))return(n=new PerformanceObserver((function(e){return e.getEntries().map(t)}))).observe({type:e,buffered:!0}),n}catch(e){}}function We(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)}function Ye(e,t,n){var r;return function(){0<=t.value&&(n||tt.has(t)||"hidden"===document.visibilityState)&&(t.delta=t.value-(r||0),!t.delta&&void 0!==r||(r=t.value,e(t)))}}function Ge(){et((function(e){e=e.timeStamp,nt=e}),!0)}function Ke(){return nt<0&&((nt=self.webVitals.firstHiddenTime)===1/0&&Ge(),We((function(){setTimeout((function(){nt="hidden"===document.visibilityState?0:1/0,Ge()}),0)}))),{get timeStamp(){return nt}}}function Xe(e){var t=e.name;e=e.value;rt[t]=e}function Je(e,t){function n(e){c=e}function r(e){a=a.concat(e)}function s(e,t){l={conds:e=void 0===e?{}:e,params:t=void 0===t?{}:t}}var a=[],l=null,c=null;it.useAsyncPlugin(e,{exportsConstructor:"Flog",onAegisInit:function(e){e.lifeCycle.on("beforeWrite",r),e.lifeCycle.on("uploadLogs",s),e.lifeCycle.on("onConfigChange",n)},onAegisInitAndPluginLoaded:function(e,u){var d,p,h,f,g,m,v=t.dbConfig,b=(v=void 0===v?{}:v,t.url),y=(b=void 0===b?it.urls.aegisCollect:b,t.offlineLogExp),w=(y=void 0===y?3:y,t.id),S=t.uin;null!=(d=e.lifeCycle)&&d.remove("beforeWrite",r),null!=(d=e.lifeCycle)&&d.remove("uploadLogs",s),null!=(d=e.lifeCycle)&&d.remove("onConfigChange",n),b=Object.assign({lookupUrl:b+"/offlineAuto?id="+w,preservedDay:y,id:w,uin:S,aid:(null==(d=e.bean)?void 0:d.aid)||"",beforeRequest:e.config.beforeRequest,afterRequest:e.config.afterRequest},v,{sessionId:it.sessionID});try{var C=new u(b);a.forEach((function(e){C.add(o(o({},e),{level:e.level===R.INFO_ALL?R.INFO:e.level}))})),null!=(p=e.lifeCycle)&&p.on("beforeWrite",(function(e){(e=void 0===e?[]:e).forEach((function(e){C.add(o(o({},e),{level:e.level===R.INFO_ALL?R.INFO:e.level}))}))})),null!=(h=e.lifeCycle)&&h.on("uploadLogs",(function(n,r){var o;void 0===n&&(n={}),void 0===r&&(r={}),C.uploadLogs(Object.assign({id:t.id,uin:t.uin,aid:null==(o=e.bean)?void 0:o.aid},n),r)})),null!=(f=e.lifeCycle)&&f.on("onConfigChange",(function(e){C.setConfig(e)})),null!=(g=e.lifeCycle)&&g.on("destroy",(function(){0===at.countInstance()&&(a.length=0,"function"==typeof((l=null)==C?void 0:C.destroy)&&C.destroy())})),C.on("PERREVENT",(function(n){e.sendPipeline([function(e,n){r={msg:P(e),level:R.INFO};var r=(r=Array.isArray(r)?r:[r]).map((function(e,t){return Object.getOwnPropertyNames(e).map((function(n){return i(n)+"["+t+"]="+(void 0===e[n]?"":i(e[n]))})).join("&")})).join("&")+(r.length?"&count="+r.length:"");n({type:A.OFFLINE,data:r,contentType:"application/x-www-form-urlencoded",method:"post",addBean:!1,url:t.url+"?id=893&sessionId="+it.sessionID+"&uin="+t.uin+"&from="+t.id+"&count=1&version=1.36.5",log:e})}],A.OFFLINE)(n)})),c&&(C.setConfig(c),c=null),l&&(null!=(m=e.lifeCycle)&&m.emit("uploadLogs",l.conds,l.params),l=null),e.flog=C}catch(e){console.log(e)}}})}xe={passive:!0,capture:!0},Re=new Date,Ae=function(e){var t,n,r,o;function s(){Ue(n,r),o()}function i(){o()}e.cancelable&&(t=(1e12<e.timeStamp?new Date:performance.now())-e.timeStamp,"pointerdown"==e.type?(n=t,r=e,o=function(){removeEventListener("pointerup",s,xe),removeEventListener("pointercancel",i,xe)},addEventListener("pointerup",s,xe),addEventListener("pointercancel",i,xe)):Ue(t,e))},je="hidden"===document.visibilityState?0:1/0,addEventListener("visibilitychange",(function e(t){"hidden"===document.visibilityState&&(je=t.timeStamp,removeEventListener("visibilitychange",e,!0))}),!0),He(),self.webVitals={firstInputPolyfill:function(e){Te.push(e),Ve()},resetFirstInputPolyfill:He,get firstHiddenTime(){return je}};var Ze,Qe,et=function(e,t){function n(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))}addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},tt=new("function"==typeof WeakSet?WeakSet:Set),nt=-1,rt=(new W({name:"webVitals"}),{FCP:-1,LCP:-1,FID:-1,CLS:-1}),ot=new W({name:"webVitals",onNewAegis:function(e){if(E()&&"function"==typeof window.PerformanceObserver&&"function"==typeof performance.getEntriesByName)try{v=Xe,y=Ke(),w=qe("FCP"),S=performance.getEntriesByName("first-contentful-paint")[0],C=S?null:ze("paint",x),(S||C)&&(b=Ye(v,w,void 0),S&&x(S),We((function(e){w=qe("FCP"),b=Ye(v,w,void 0),requestAnimationFrame((function(){requestAnimationFrame((function(){w.value=performance.now()-e.timeStamp,tt.add(w),b()}))}))}))),d=Xe,f=Ke(),g=qe("LCP"),(m=ze("largest-contentful-paint",T))&&(p=Ye(d,g,void 0),h=function(){tt.has(g)||(m.takeRecords().map(T),m.disconnect(),tt.add(g),p())},["keydown","click"].forEach((function(e){addEventListener(e,h,{once:!0,capture:!0})})),et(h,!0),We((function(e){g=qe("LCP"),p=Ye(d,g,void 0),requestAnimationFrame((function(){requestAnimationFrame((function(){g.value=performance.now()-e.timeStamp,tt.add(g),p()}))}))}))),i=Xe,a=Ke(),l=qe("FID"),c=ze("first-input",_),u=Ye(i,l,void 0),c&&et((function(){c.takeRecords().map(_),c.disconnect()}),!0),c||window.webVitals.firstInputPolyfill(_),We((function(){l=qe("FID"),u=Ye(i,l,void 0),window.webVitals.resetFirstInputPolyfill(),window.webVitals.firstInputPolyfill(_)})),n=Xe,o=qe("CLS",0),(s=ze("layout-shift",t))&&(r=Ye(n,o,void 0),et((function(){s.takeRecords().map(t),r()})),We((function(){o=qe("CLS",0),r=Ye(n,o,void 0)}))),k(this.publish.bind(this,e),!0)}catch(e){}function t(e){e.hadRecentInput||(o.value+=e.value,o.entries.push(e),r())}var n,r,o,s,i,a,l,c,u,d,p,h,f,g,m,v,b,y,w,S,C;function _(e){e.startTime<a.timeStamp&&(l.value=e.processingStart-e.startTime,l.entries.push(e),tt.add(l),u())}function T(e){var t=e.startTime;t<f.timeStamp&&(g.value=t,g.entries.push(e)),p()}function x(e){"first-contentful-paint"===e.name&&(C&&C.disconnect(),e.startTime<y.timeStamp&&(w.value=e.startTime,w.entries.push(e),tt.add(w),b()))}},publish:function(e){e.sendPipeline([function(t,n){var r,o=[];for(r in t)o.push(r+"="+t[r]);var s=-1===e.config.performanceUrl.indexOf("?")?"?":"&";n({url:e.config.webVitalsUrl+s+o.join("&"),type:A.VITALS,log:t,sendBeacon:!0})}],A.VITALS)(rt)},destroy:function(){this.option.publish=function(){}}}),st=0,it=(r(Qe=ct,z=Ze=z),Qe.prototype=null===z?Object.create(z):(ut.prototype=z.prototype,new ut),ct.prototype.getBean=function(e){var t=this;return void 0===e&&(e=[]),""+Object.getOwnPropertyNames(this.bean).filter((function(t){return-1===e.indexOf(t)})).map((function(e){return"from"===e?"from="+t.getCurrentPageUrl():e+"="+t.bean[e]})).join("&")},ct.prototype.getCurrentPageUrl=function(){var e=this.config.pageUrl||location.href;return"function"==typeof this.config.urlHandler&&(e=this.config.urlHandler()),encodeURIComponent(e)},ct.prototype.ready=function(){function e(){var n,r,o,s;t.reportRequestQueue.length&&(n=t.reportRequestQueue.splice(0,1)[0],r=n.options,o=n.success,s=n.fail,t.$request(r,(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return null==o?void 0:o.apply(r,t)}finally{e()}}),(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return null==s?void 0:s.apply(r,t)}finally{e()}})))}var t=this;e(),this.isReportReady=!0},ct.prototype.request=function(e,t,n){this.config.reportImmediately||this.isReportReady?this.$request(e,t,n):this.reportRequestQueue.push({options:e,success:t,fail:n})},ct.prototype.$request=function(e,t,n){var r,o,s,i;if(e&&"string"==typeof e.url&&""!==e.url&&this.bean.id)return i=e.url,!1!==e.addBean&&(i=i+(-1===i.indexOf("?")?"?":"&")+this.getBean(e.beanFilter)),e.url=i,i=e.method||"get",(e=(o=this.config.onBeforeRequest)?o(e,this):e)?e.url?void((null!=e&&e.sendBeacon||this.sendNow)&&"function"==typeof(null===navigator||void 0===navigator?void 0:navigator.sendBeacon)?navigator.sendBeacon(e.url,e.data):((r=new XMLHttpRequest).sendByAegis=!0,r.addEventListener("readystatechange",(function(){4===r.readyState&&(400<=r.status||0===r.status?null!=n&&n(r.response):null!=t&&t(r.response))})),"get"===i.toLocaleLowerCase()?(r.open("get",(o=e.url,s=e.data,"string"!=typeof o?"":"object"==typeof s&&s?(i=Object.getOwnPropertyNames(s).map((function(e){var t=s[e];return e+"="+("string"==typeof t?encodeURIComponent(t):encodeURIComponent(JSON.stringify(t)))})).join("&").replace(/eval/gi,"evaI"),o+(-1===o.indexOf("?")?"?":"&")+i):o)),r.send()):(r.open("post",e.url),e.contentType&&r.setRequestHeader("Content-Type",e.contentType),"string"==typeof e.data&&(e.data=e.data.replace(/eval/gi,"evaI")),r.send(e.data)))):console.warn("Please handle the parameters reasonably, options.url is necessary"):console.warn("Sending request blocked")},ct.useAsyncPlugin=function(e,t){var n=(t=void 0===t?{}:t).exportsConstructor,r=void 0===n?"aegis-plugin-"+st:n,o=(n=t.onAegisInit,void 0===n?function(){}:n),s=(n=t.onAegisInitAndPluginLoaded,void 0===n?function(){}:n);if(st+=1,"string"!=typeof e)throw new TypeError("useAsyncPlugin first param must be string");if("function"!=typeof o||"function"!=typeof s)throw new TypeError("onAegisInit and onAegisInitAndPluginLoaded must be function");this.use(new W({name:"asyncPlugin",onNewAegis:function(t){try{o(t),ct.asyncPlugin[e]?s(t,window[ct.asyncPlugin[e]]):(n=e,i=r,a=function(n){n||(ct.asyncPlugin[e]=r,n=window[r],s(t,n))},l=document.createElement("script"),c=document.head,"function"==typeof i&&(a=i,i=""),l.src=n,l.setAttribute("name",i),l.name=i,l.setAttribute("crossorigin","anonymous"),l.crossorigin="anonymous",l.defer=!0,l.hasLoaded=!1,l.onreadystatechange=function(){l.hasLoaded||l.readyState&&"loaded"!==l.readyState&&"complete"!==l.readyState||(l.hasLoaded=!0,"function"==typeof a&&a(!1),setTimeout((function(){c.contains(l)&&c.removeChild(l)})))},l.onload=l.onreadystatechange,l.onerror=function(){"function"==typeof a&&a(!0),setTimeout((function(){c.contains(l)&&c.removeChild(l)}))},"complete"===document.readyState?c.appendChild(l):window.addEventListener("load",(function(){c.appendChild(l)})))}catch(n){console.log("error on below is caused by "+e+" "),console.error(n)}var n,i,a,l,c}}))},ct.prototype.publishPluginsLogs=function(){var e=ct.installedPlugins.find((function(e){return"reportAssetSpeed"===e.name}));null!=e&&e.option.collectNotReportedLog(this)},ct.prototype.uploadLogs=function(e,t){this.lifeCycle.emit("uploadLogs",e=void 0===e?{}:e,t=void 0===t?{}:t)},ct.sessionID="session-"+Date.now(),ct.asyncPlugin={},ct.urls={aegisCollect:"https://aegis.qq.com/collect",flog:"https://cdn-go.cn/vasdev/web_webpersistance_v2/v1.8.2/flog.core.min.js"},ct),at=new W({name:"offlineLog"}),lt=(z=at=new W({name:"offlineLog",onNewAegis:function(e){Je(it.urls.flog,e.config)}}),new W({name:"spa"}),new W({name:"spa",init:function(){history.pushState=this.wr("pushState")||history.pushState,history.replaceState=this.wr("replaceState")||history.replaceState;var e=(null==(e=location.href)?void 0:e.split("?"))[0];this.$fireUrl=e,this.sendPv=this.sendPv.bind(this),this.onPageChange()},onPageChange:function(){window.addEventListener("replaceState",this.sendPv),window.addEventListener("pushState",this.sendPv),window.addEventListener("popstate",this.sendPv)},wr:function(e){var t=history[e],n="__"+e+"__hasWrittenByTamSpa";return"function"==typeof t&&!history[n]&&(Object.defineProperty(history,n,{value:!0,enumerable:!1}),function(){var n=t.apply(this,arguments),r=null;return"function"==typeof Event?r=new Event(e):(r=document.createEvent("HTMLEvents")).initEvent(e,!1,!0),window.dispatchEvent(r),n})},sendPv:function(){var e=this;setTimeout((function(){var t=location.href,n=(null==(n=location.href)?void 0:n.split("?"))[0];n&&n!==e.$fireUrl&&(e.$walk((function(e){e.sendPipeline([function(n,r){r({url:e.config.pvUrl+"?from="+encodeURIComponent(t),beanFilter:["from"],type:A.PV})}],A.PV)(null)})),e.$fireUrl=n)}),0)},destroy:function(){window.removeEventListener("replaceState",this.option.sendPv),window.removeEventListener("pushState",this.option.sendPv),window.removeEventListener("popstate",this.option.sendPv)}}));function ct(e){var t,n,r,s,i,a=Ze.call(this,e)||this;a.sendNow=!1,a.isReportReady=!1,a.reportRequestQueue=[],a.speedLogPipeline=C([v(a),(s=a.config,i={},function(e,t){var n,r;s.speedSample?(r="object"==typeof s.repeat?s.repeat:{repeat:s.repeat},n=+r.speed||+r.repeat||5,Array.isArray(e)?(r=e.filter((function(e){var t=!i[e.url]||i[e.url]<n;return i[e.url]=1+~~i[e.url],t}))).length&&t(r):(!i[e.url]||i[e.url]<n)&&(i[e.url]=1+~~i[e.url],t(e))):t(e)}),(r=a,function(e,t){Ne((function(n){r.extendBean("netType",n),t(e)}))}),function(e,t){a.lifeCycle.emit("beforeReportSpeed",e);var n=a.config.beforeReportSpeed;if((e="function"==typeof n?e.filter((function(e){return!1!==n(e)})):e).length)return t(e)},function(e){return a.sendPipeline([function(e,t){var n,r,s,i;t({type:A.SPEED,url:""+a.config.speedUrl,method:"post",data:(t=e,n=o(o({},a.bean),{from:a.getCurrentPageUrl()}),s={fetch:[],static:[],bridge:[]},i=new FormData,Array.isArray(t)?t.forEach((function(e){var t=K(e);s[e.type].push(t)})):(r=K(t),s[t.type].push(r)),i.append("payload",M(o({duration:s},n))),i),log:e})}],A.SPEED)(e)}]),e.asyncPlugin=!0;try{"undefined"!=typeof document&&(e.uin=e.uin||(null!=(t=document.cookie.match(/\buin=\D+(\d*)/))?t:[])[1]||(null!=(n=document.cookie.match(/\bilive_uin=\D*(\d+)/))?n:[])[1]||""),a.init(e),a.extendBean("sessionId",ct.sessionID),a.extendBean("from",a.getCurrentPageUrl()),"undefined"!=typeof document&&a.extendBean("referer",encodeURIComponent(document.referrer||"")),e.ext1&&a.extendBean("ext1",encodeURIComponent(e.ext1)),e.ext2&&a.extendBean("ext2",encodeURIComponent(e.ext2)),e.ext3&&a.extendBean("ext3",encodeURIComponent(e.ext3))}catch(e){console.warn(e),console.log("%cThe above error occurred in the process of initializing Aegis, which will affect your normal use of Aegis.\nIt is recommended that you contact us for feedback and thank you for your support.","color: red"),a.sendSDKError(e)}return a}function ut(){this.constructor=Qe}new W({name:"ie"}),new W({name:"onClose"});var dt=new W({name:"onClose",onNewAegis:function(){var e,t=this;Q.desktop()?(e=window.onunload,window.onunload=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t.publishNotReportedLog(),null!=e&&e.call.apply(e,s([window],n))}):k(this.publishNotReportedLog.bind(this),!0)},publishNotReportedLog:function(){var e=this;this.$walk((function(t){t.sendNow=!0,t.publishPluginsLogs(),e.publishThrottlePipeLogs(t)}))},publishThrottlePipeLogs:function(e){null!=e&&e.speedLogPipeline([]),null!=e&&e.eventPipeline([]),null!=e&&e.customTimePipeline([]),null!=e&&e.normalLogPipeline([])}});return new W({name:"aid"}),it.use(Le),it.use(ye),it.use(J),it.use(Be),it.use(ot),it.use(Y),it.use(Ie),it.use(z),it.use(lt),it.use(dt),it.use(we),it}))},8364:function(e,t,n){e.exports=n(7818)},9651:function(e,t,n){"use strict";n(2801);var r=n(603),o=n(8424),s=n(5319),i=n(999),a=n(8826),l=n(8753),c=n(6942),u=n(8836),d=n(9420),p=n(8104),h=n(816);e.exports=function(e){return new Promise((function(t,n){var f,g=e.data,m=e.headers,v=e.responseType;function b(){e.cancelToken&&e.cancelToken.unsubscribe(f),e.signal&&e.signal.removeEventListener("abort",f)}r.isFormData(g)&&r.isStandardBrowserEnv()&&delete m["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var w=e.auth.username||"",S=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(w+":"+S)}var C=a(e.baseURL,e.url);function _(){if(y){var r="getAllResponseHeaders"in y?l(y.getAllResponseHeaders()):null,s=v&&"text"!==v&&"json"!==v?y.response:y.responseText,i={data:s,status:y.status,statusText:y.statusText,headers:r,config:e,request:y};o((function(e){t(e),b()}),(function(e){n(e),b()}),i),y=null}}if(y.open(e.method.toUpperCase(),i(C,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=_:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(_)},y.onabort=function(){y&&(n(new d("Request aborted",d.ECONNABORTED,e,y)),y=null)},y.onerror=function(){n(new d("Network Error",d.ERR_NETWORK,e,y,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||u;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new d(t,r.clarifyTimeoutError?d.ETIMEDOUT:d.ECONNABORTED,e,y)),y=null},r.isStandardBrowserEnv()){var E=(e.withCredentials||c(C))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;E&&(m[e.xsrfHeaderName]=E)}"setRequestHeader"in y&&r.forEach(m,(function(e,t){"undefined"===typeof g&&"content-type"===t.toLowerCase()?delete m[t]:y.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),v&&"json"!==v&&(y.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(f=function(e){y&&(n(!e||e&&e.type?new p:e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(f),e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f))),g||(g=null);var k=h(C);k&&-1===["http","https","file"].indexOf(k)?n(new d("Unsupported protocol "+k+":",d.ERR_BAD_REQUEST,e)):y.send(g)}))}},7818:function(e,t,n){"use strict";var r=n(603),o=n(8250),s=n(7016),i=n(1304),a=n(2568);function l(e){var t=new s(e),n=o(s.prototype.request,t);return r.extend(n,s.prototype,t),r.extend(n,t),n.create=function(t){return l(i(e,t))},n}var c=l(a);c.Axios=s,c.CanceledError=n(8104),c.CancelToken=n(210),c.isCancel=n(8501),c.VERSION=n(157).version,c.toFormData=n(4898),c.AxiosError=n(9420),c.Cancel=c.CanceledError,c.all=function(e){return Promise.all(e)},c.spread=n(3326),c.isAxiosError=n(2842),e.exports=c,e.exports["default"]=c},210:function(e,t,n){"use strict";n(1703);var r=n(8104);function o(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e,t=new o((function(t){e=t}));return{token:t,cancel:e}},e.exports=o},8104:function(e,t,n){"use strict";var r=n(9420),o=n(603);function s(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}o.inherits(s,r,{__CANCEL__:!0}),e.exports=s},8501:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},7016:function(e,t,n){"use strict";var r=n(603),o=n(999),s=n(855),i=n(8632),a=n(1304),l=n(8826),c=n(6538),u=c.validators;function d(e){this.defaults=e,this.interceptors={request:new s,response:new s}}d.prototype.request=function(e,t){"string"===typeof e?(t=t||{},t.url=e):t=e||{},t=a(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var s,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!o){var d=[i,void 0];Array.prototype.unshift.apply(d,r),d=d.concat(l),s=Promise.resolve(t);while(d.length)s=s.then(d.shift(),d.shift());return s}var p=t;while(r.length){var h=r.shift(),f=r.shift();try{p=h(p)}catch(g){f(g);break}}try{s=i(p)}catch(g){return Promise.reject(g)}while(l.length)s=s.then(l.shift(),l.shift());return s},d.prototype.getUri=function(e){e=a(this.defaults,e);var t=l(e.baseURL,e.url);return o(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){d.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(a(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}d.prototype[e]=t(),d.prototype[e+"Form"]=t(!0)})),e.exports=d},9420:function(e,t,n){"use strict";n(1703);var r=n(603);function o(e,t,n,r,o){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}r.inherits(o,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var s=o.prototype,i={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){i[e]={value:e}})),Object.defineProperties(o,i),Object.defineProperty(s,"isAxiosError",{value:!0}),o.from=function(e,t,n,i,a,l){var c=Object.create(s);return r.toFlatObject(e,c,(function(e){return e!==Error.prototype})),o.call(c,e.message,t,n,i,a),c.name=e.name,l&&Object.assign(c,l),c},e.exports=o},855:function(e,t,n){"use strict";var r=n(603);function o(){this.handlers=[]}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},8826:function(e,t,n){"use strict";var r=n(5786),o=n(3345);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},8632:function(e,t,n){"use strict";var r=n(603),o=n(8720),s=n(8501),i=n(2568),a=n(8104);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a}e.exports=function(e){l(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||i.adapter;return t(e).then((function(t){return l(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return s(t)||(l(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},1304:function(e,t,n){"use strict";var r=n(603);e.exports=function(e,t){t=t||{};var n={};function o(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function i(e){if(!r.isUndefined(t[e]))return o(void 0,t[e])}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function l(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||s,o=t(e);r.isUndefined(o)&&t!==l||(n[e]=o)})),n}},8424:function(e,t,n){"use strict";var r=n(9420);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},8720:function(e,t,n){"use strict";var r=n(603),o=n(2568);e.exports=function(e,t,n){var s=this||o;return r.forEach(n,(function(n){e=n.call(s,e,t)})),e}},2568:function(e,t,n){"use strict";var r=n(603),o=n(3524),s=n(9420),i=n(8836),a=n(4898),l={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function u(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(9651)),e}function d(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(o){if("SyntaxError"!==o.name)throw o}return(n||JSON.stringify)(e)}var p={transitional:i,adapter:u(),transformRequest:[function(e,t){if(o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,s=r.isObject(e),i=t&&t["Content-Type"];if((n=r.isFileList(e))||s&&"multipart/form-data"===i){var l=this.env&&this.env.FormData;return a(n?{"files[]":e}:e,l&&new l)}return s||"application/json"===i?(c(t,"application/json"),d(e)):e}],transformResponse:[function(e){var t=this.transitional||p.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||o&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw s.from(a,s.ERR_BAD_RESPONSE,this,null,this.response);throw a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(1061)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){p.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){p.headers[e]=r.merge(l)})),e.exports=p},8836:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},157:function(e){e.exports={version:"0.27.2"}},8250:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},999:function(e,t,n){"use strict";var r=n(603);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var s;if(n)s=n(t);else if(r.isURLSearchParams(t))s=t.toString();else{var i=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),i.push(o(t)+"="+o(e))})))})),s=i.join("&")}if(s){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},3345:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},5319:function(e,t,n){"use strict";var r=n(603);e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,o,s,i){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(s)&&a.push("domain="+s),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},5786:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},2842:function(e,t,n){"use strict";var r=n(603);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},6942:function(e,t,n){"use strict";var r=n(603);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return function(){return!0}}()},3524:function(e,t,n){"use strict";var r=n(603);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},1061:function(e){e.exports=null},8753:function(e,t,n){"use strict";var r=n(603),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,s,i={};return e?(r.forEach(e.split("\n"),(function(e){if(s=e.indexOf(":"),t=r.trim(e.substr(0,s)).toLowerCase(),n=r.trim(e.substr(s+1)),t){if(i[t]&&o.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}})),i):i}},816:function(e){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},3326:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},4898:function(e,t,n){"use strict";n(1703);var r=n(603);function o(e,t){t=t||new FormData;var n=[];function o(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function s(e,i){if(r.isPlainObject(e)||r.isArray(e)){if(-1!==n.indexOf(e))throw Error("Circular reference detected in "+i);n.push(e),r.forEach(e,(function(e,n){if(!r.isUndefined(e)){var a,l=i?i+"."+n:n;if(e&&!i&&"object"===typeof e)if(r.endsWith(n,"{}"))e=JSON.stringify(e);else if(r.endsWith(n,"[]")&&(a=r.toArray(e)))return void a.forEach((function(e){!r.isUndefined(e)&&t.append(l,o(e))}));s(e,l)}})),n.pop()}else t.append(i,o(e))}return s(e),t}e.exports=o},6538:function(e,t,n){"use strict";var r=n(157).version,o=n(9420),s={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){s[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var i={};function a(e,t,n){if("object"!==typeof e)throw new o("options must be an object",o.ERR_BAD_OPTION_VALUE);var r=Object.keys(e),s=r.length;while(s-- >0){var i=r[s],a=t[i];if(a){var l=e[i],c=void 0===l||a(l,i,e);if(!0!==c)throw new o("option "+i+" must be "+c,o.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new o("Unknown option "+i,o.ERR_BAD_OPTION)}}s.transitional=function(e,t,n){function s(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new o(s(r," has been removed"+(t?" in "+t:"")),o.ERR_DEPRECATED);return t&&!i[r]&&(i[r]=!0,console.warn(s(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={assertOptions:a,validators:s}},603:function(e,t,n){"use strict";n(8675),n(7380),n(1118);var r=n(8250),o=Object.prototype.toString,s=function(e){return function(t){var n=o.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function i(e){return e=e.toLowerCase(),function(t){return s(t)===e}}function a(e){return Array.isArray(e)}function l(e){return"undefined"===typeof e}function c(e){return null!==e&&!l(e)&&null!==e.constructor&&!l(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var u=i("ArrayBuffer");function d(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&u(e.buffer),t}function p(e){return"string"===typeof e}function h(e){return"number"===typeof e}function f(e){return null!==e&&"object"===typeof e}function g(e){if("object"!==s(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var m=i("Date"),v=i("File"),b=i("Blob"),y=i("FileList");function w(e){return"[object Function]"===o.call(e)}function S(e){return f(e)&&w(e.pipe)}function C(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||o.call(e)===t||w(e.toString)&&e.toString()===t)}var _=i("URLSearchParams");function E(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function k(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function T(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}function x(){var e={};function t(t,n){g(e[n])&&g(t)?e[n]=x(e[n],t):g(t)?e[n]=x({},t):a(t)?e[n]=t.slice():e[n]=t}for(var n=0,r=arguments.length;n<r;n++)T(arguments[n],t);return e}function R(e,t,n){return T(t,(function(t,o){e[o]=n&&"function"===typeof t?r(t,n):t})),e}function A(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}function j(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)}function I(e,t,n){var r,o,s,i={};t=t||{};do{r=Object.getOwnPropertyNames(e),o=r.length;while(o-- >0)s=r[o],i[s]||(t[s]=e[s],i[s]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t}function N(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n}function O(e){if(!e)return null;var t=e.length;if(l(t))return null;var n=new Array(t);while(t-- >0)n[t]=e[t];return n}var D=function(e){return function(t){return e&&t instanceof e}}("undefined"!==typeof Uint8Array&&Object.getPrototypeOf(Uint8Array));e.exports={isArray:a,isArrayBuffer:u,isBuffer:c,isFormData:C,isArrayBufferView:d,isString:p,isNumber:h,isObject:f,isPlainObject:g,isUndefined:l,isDate:m,isFile:v,isBlob:b,isFunction:w,isStream:S,isURLSearchParams:_,isStandardBrowserEnv:k,forEach:T,merge:x,extend:R,trim:E,stripBOM:A,inherits:j,toFlatObject:I,kindOf:s,kindOfTest:i,endsWith:N,toArray:O,isTypedArray:D,isFileList:y}},5254:function(e){!function(t,n){e.exports=n()}(0,(function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",o="second",s="minute",i="hour",a="day",l="week",c="month",u="quarter",d="year",p="date",h="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},b={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(o,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(r,c),s=n-o<0,i=t.clone().add(r+(s?-1:1),c);return+(-(r+(n-o)/(s?o-i:i-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:l,d:a,D:p,h:i,m:s,s:o,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",w={};w[y]=m;var S=function(e){return e instanceof k},C=function e(t,n,r){var o;if(!t)return y;if("string"==typeof t){var s=t.toLowerCase();w[s]&&(o=s),n&&(w[s]=n,o=s);var i=t.split("-");if(!o&&i.length>1)return e(i[0])}else{var a=t.name;w[a]=t,o=a}return!r&&o&&(y=o),o||!r&&y},_=function(e,t){if(S(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new k(n)},E=b;E.l=C,E.i=S,E.w=function(e,t){return _(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var k=function(){function m(e){this.$L=C(e.locale,null,!0),this.parse(e)}var v=m.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(E.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(f);if(r){var o=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return E},v.isValid=function(){return!(this.$d.toString()===h)},v.isSame=function(e,t){var n=_(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return _(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<_(e)},v.$g=function(e,t,n){return E.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,r=!!E.u(t)||t,u=E.p(e),h=function(e,t){var o=E.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?o:o.endOf(a)},f=function(e,t){return E.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},g=this.$W,m=this.$M,v=this.$D,b="set"+(this.$u?"UTC":"");switch(u){case d:return r?h(1,0):h(31,11);case c:return r?h(1,m):h(0,m+1);case l:var y=this.$locale().weekStart||0,w=(g<y?g+7:g)-y;return h(r?v-w:v+(6-w),m);case a:case p:return f(b+"Hours",0);case i:return f(b+"Minutes",1);case s:return f(b+"Seconds",2);case o:return f(b+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,l=E.p(e),u="set"+(this.$u?"UTC":""),h=(n={},n[a]=u+"Date",n[p]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[i]=u+"Hours",n[s]=u+"Minutes",n[o]=u+"Seconds",n[r]=u+"Milliseconds",n)[l],f=l===a?this.$D+(t-this.$W):t;if(l===c||l===d){var g=this.clone().set(p,1);g.$d[h](f),g.init(),this.$d=g.set(p,Math.min(this.$D,g.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[E.p(e)]()},v.add=function(r,u){var p,h=this;r=Number(r);var f=E.p(u),g=function(e){var t=_(h);return E.w(t.date(t.date()+Math.round(e*r)),h)};if(f===c)return this.set(c,this.$M+r);if(f===d)return this.set(d,this.$y+r);if(f===a)return g(1);if(f===l)return g(7);var m=(p={},p[s]=t,p[i]=n,p[o]=e,p)[f]||1,v=this.$d.getTime()+r*m;return E.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=e||"YYYY-MM-DDTHH:mm:ssZ",o=E.z(this),s=this.$H,i=this.$m,a=this.$M,l=n.weekdays,c=n.months,u=function(e,n,o,s){return e&&(e[n]||e(t,r))||o[n].slice(0,s)},d=function(e){return E.s(s%12||12,e,"0")},p=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:E.s(a+1,2,"0"),MMM:u(n.monthsShort,a,c,3),MMMM:u(c,a),D:this.$D,DD:E.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,l,2),ddd:u(n.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(s),HH:E.s(s,2,"0"),h:d(1),hh:d(2),a:p(s,i,!0),A:p(s,i,!1),m:String(i),mm:E.s(i,2,"0"),s:String(this.$s),ss:E.s(this.$s,2,"0"),SSS:E.s(this.$ms,3,"0"),Z:o};return r.replace(g,(function(e,t){return t||f[e]||o.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,p,h){var f,g=E.p(p),m=_(r),v=(m.utcOffset()-this.utcOffset())*t,b=this-m,y=E.m(this,m);return y=(f={},f[d]=y/12,f[c]=y,f[u]=y/3,f[l]=(b-v)/6048e5,f[a]=(b-v)/864e5,f[i]=b/n,f[s]=b/t,f[o]=b/e,f)[g]||b,h?y:E.a(y)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return w[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=C(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return E.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},m}(),T=k.prototype;return _.prototype=T,[["$ms",r],["$s",o],["$m",s],["$H",i],["$W",a],["$M",c],["$y",d],["$D",p]].forEach((function(e){T[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),_.extend=function(e,t){return e.$i||(e(t,k,_),e.$i=!0),_},_.locale=C,_.isDayjs=S,_.unix=function(e){return _(1e3*e)},_.en=w[y],_.Ls=w,_.p={},_}))},1329:function(e){!function(t,n){e.exports=n()}(0,(function(){"use strict";return function(e,t,n){var r=t.prototype,o=r.format;n.en.ordinal=function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"},r.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return o.bind(this)(e);var r=this.$utils(),s=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return n.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return n.ordinal(t.week(),"W");case"w":case"ww":return r.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return r.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return r.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}}));return o.bind(this)(s)}}}))},9145:function(e,t,n){n(1703),function(t,n){e.exports=n()}(0,(function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,r=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,s={},i=function(e){return(e=+e)+(e>68?1900:2e3)},a=function(e){return function(t){this[e]=+t}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],c=function(e){var t=s[e];return t&&(t.indexOf?t:t.s.concat(t.f))},u=function(e,t){var n,r=s.meridiem;if(r){for(var o=1;o<=24;o+=1)if(e.indexOf(r(o,0,t))>-1){n=o>12;break}}else n=e===(t?"pm":"PM");return n},d={A:[o,function(e){this.afternoon=u(e,!1)}],a:[o,function(e){this.afternoon=u(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[r,a("seconds")],ss:[r,a("seconds")],m:[r,a("minutes")],mm:[r,a("minutes")],H:[r,a("hours")],h:[r,a("hours")],HH:[r,a("hours")],hh:[r,a("hours")],D:[r,a("day")],DD:[n,a("day")],Do:[o,function(e){var t=s.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],M:[r,a("month")],MM:[n,a("month")],MMM:[o,function(e){var t=c("months"),n=(c("monthsShort")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[o,function(e){var t=c("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,a("year")],YY:[n,function(e){this.year=i(e)}],YYYY:[/\d{4}/,a("year")],Z:l,ZZ:l};function p(n){var r,o;r=n,o=s&&s.formats;for(var i=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var s=r&&r.toUpperCase();return n||o[r]||e[r]||o[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),a=i.length,l=0;l<a;l+=1){var c=i[l],u=d[c],p=u&&u[0],h=u&&u[1];i[l]=h?{regex:p,parser:h}:c.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,r=0;n<a;n+=1){var o=i[n];if("string"==typeof o)r+=o.length;else{var s=o.regex,l=o.parser,c=e.slice(r),u=s.exec(c)[0];l.call(t,u),e=e.replace(u,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(i=e.parseTwoDigitYear);var r=t.prototype,o=r.parse;r.parse=function(e){var t=e.date,r=e.utc,i=e.args;this.$u=r;var a=i[1];if("string"==typeof a){var l=!0===i[2],c=!0===i[3],u=l||c,d=i[2];c&&(d=i[2]),s=this.$locale(),!l&&d&&(s=n.Ls[d]),this.$d=function(e,t,n){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var r=p(t)(e),o=r.year,s=r.month,i=r.day,a=r.hours,l=r.minutes,c=r.seconds,u=r.milliseconds,d=r.zone,h=new Date,f=i||(o||s?1:h.getDate()),g=o||h.getFullYear(),m=0;o&&!s||(m=s>0?s-1:h.getMonth());var v=a||0,b=l||0,y=c||0,w=u||0;return d?new Date(Date.UTC(g,m,f,v,b,y,w+60*d.offset*1e3)):n?new Date(Date.UTC(g,m,f,v,b,y,w)):new Date(g,m,f,v,b,y,w)}catch(e){return new Date("")}}(t,a,r),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),u&&t!=this.format(a)&&(this.$d=new Date("")),s={}}else if(a instanceof Array)for(var h=a.length,f=1;f<=h;f+=1){i[1]=a[f-1];var g=n.apply(this,i);if(g.isValid()){this.$d=g.$d,this.$L=g.$L,this.init();break}f===h&&(this.$d=new Date(""))}else o.call(this,e)}}}))},7204:function(e){!function(t,n){e.exports=n()}(0,(function(){"use strict";return function(e,t,n){t.prototype.dayOfYear=function(e){var t=Math.round((n(this).startOf("day")-n(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"day")}}}))},1873:function(e){!function(t,n){e.exports=n()}(0,(function(){"use strict";return function(e,t){t.prototype.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)}}}))},1742:function(e){!function(t,n){e.exports=n()}(0,(function(){"use strict";return function(e,t){t.prototype.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)}}}))},7423:function(e){!function(t,n){e.exports=n()}(0,(function(){"use strict";return function(e,t,n){var r=t.prototype,o=function(e){return e&&(e.indexOf?e:e.s)},s=function(e,t,n,r,s){var i=e.name?e:e.$locale(),a=o(i[t]),l=o(i[n]),c=a||l.map((function(e){return e.slice(0,r)}));if(!s)return c;var u=i.weekStart;return c.map((function(e,t){return c[(t+(u||0))%7]}))},i=function(){return n.Ls[n.locale()]},a=function(e,t){return e.formats[t]||function(e){return e.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}(e.formats[t.toUpperCase()])},l=function(){var e=this;return{months:function(t){return t?t.format("MMMM"):s(e,"months")},monthsShort:function(t){return t?t.format("MMM"):s(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):s(e,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):s(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):s(e,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return a(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return l.bind(this)()},n.localeData=function(){var e=i();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(t){return a(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},n.months=function(){return s(i(),"months")},n.monthsShort=function(){return s(i(),"monthsShort","months",3)},n.weekdays=function(e){return s(i(),"weekdays",null,null,e)},n.weekdaysShort=function(e){return s(i(),"weekdaysShort","weekdays",3,e)},n.weekdaysMin=function(e){return s(i(),"weekdaysMin","weekdays",2,e)}}}))},1546:function(e){!function(t,n){e.exports=n()}(0,(function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(r,o,s){var i=o.prototype;s.utc=function(e){var t={date:e,utc:!0,args:arguments};return new o(t)},i.utc=function(t){var n=s(this.toDate(),{locale:this.$L,utc:!0});return t?n.add(this.utcOffset(),e):n},i.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var a=i.parse;i.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),a.call(this,e)};var l=i.init;i.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else l.call(this)};var c=i.utcOffset;i.utcOffset=function(r,o){var s=this.$utils().u;if(s(r))return this.$u?0:s(this.$offset)?c.call(this):this.$offset;if("string"==typeof r&&(r=function(e){void 0===e&&(e="");var r=e.match(t);if(!r)return null;var o=(""+r[0]).match(n)||["-",0,0],s=o[0],i=60*+o[1]+ +o[2];return 0===i?0:"+"===s?i:-i}(r),null===r))return this;var i=Math.abs(r)<=16?60*r:r,a=this;if(o)return a.$offset=i,a.$u=0===r,a;if(0!==r){var l=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(a=this.local().add(i+l,e)).$offset=i,a.$x.$localOffset=l}else a=this.utc();return a};var u=i.format;i.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return u.call(this,t)},i.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},i.isUTC=function(){return!!this.$u},i.toISOString=function(){return this.toDate().toISOString()},i.toString=function(){return this.toDate().toUTCString()};var d=i.toDate;i.toDate=function(e){return"s"===e&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var p=i.diff;i.diff=function(e,t,n){if(e&&this.$u===e.$u)return p.call(this,e,t,n);var r=this.local(),o=s(e).local();return p.call(r,o,t,n)}}}))},1071:function(e){!function(t,n){e.exports=n()}(0,(function(){"use strict";var e="week",t="year";return function(n,r,o){var s=r.prototype;s.week=function(n){if(void 0===n&&(n=null),null!==n)return this.add(7*(n-this.week()),"day");var r=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var s=o(this).startOf(t).add(1,t).date(r),i=o(this).endOf(e);if(s.isBefore(i))return 1}var a=o(this).startOf(t).date(r).startOf(e).subtract(1,"millisecond"),l=this.diff(a,e,!0);return l<0?o(this).startOf("week").week():Math.ceil(l)},s.weeks=function(e){return void 0===e&&(e=null),this.week(e)}}}))},1452:function(e){!function(t,n){e.exports=n()}(0,(function(){"use strict";return function(e,t){t.prototype.weekYear=function(){var e=this.month(),t=this.week(),n=this.year();return 1===t&&11===e?n+1:0===e&&t>=52?n-1:n}}}))},7731:function(e){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var t=/["'&<>]/;function n(e){var n,r=""+e,o=t.exec(r);if(!o)return r;var s="",i=0,a=0;for(i=o.index;i<r.length;i++){switch(r.charCodeAt(i)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#39;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}a!==i&&(s+=r.substring(a,i)),a=i+1,s+=n}return a!==i?s+r.substring(a,i):s}e.exports=n},6097:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;__webpack_require__(8675),__webpack_require__(7380),__webpack_require__(1118),
/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.7.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
function(){"use strict";var ERROR="input is invalid type",WINDOW="object"===typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"===typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"===typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e){return function(t){return new Md5(!0).update(t)[e]()}},createMethod=function(){var e=createOutputMethod("hex");NODE_JS&&(e=nodeWrap(e)),e.create=function(){return new Md5},e.update=function(t){return e.create().update(t)};for(var t=0;t<OUTPUT_TYPES.length;++t){var n=OUTPUT_TYPES[t];e[n]=createOutputMethod(n)}return e},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(e){if("string"===typeof e)return crypto.createHash("md5").update(e,"utf8").digest("hex");if(null===e||void 0===e)throw ERROR;return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash("md5").update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod};function Md5(e){if(e)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var t=new ArrayBuffer(68);this.buffer8=new Uint8Array(t),this.blocks=new Uint32Array(t)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if("string"!==n){if("object"!==n)throw ERROR;if(null===e)throw ERROR;if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw ERROR;t=!0}var r,o,s=0,i=e.length,a=this.blocks,l=this.buffer8;while(s<i){if(this.hashed&&(this.hashed=!1,a[0]=a[16],a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)if(ARRAY_BUFFER)for(o=this.start;s<i&&o<64;++s)l[o++]=e[s];else for(o=this.start;s<i&&o<64;++s)a[o>>2]|=e[s]<<SHIFT[3&o++];else if(ARRAY_BUFFER)for(o=this.start;s<i&&o<64;++s)r=e.charCodeAt(s),r<128?l[o++]=r:r<2048?(l[o++]=192|r>>6,l[o++]=128|63&r):r<55296||r>=57344?(l[o++]=224|r>>12,l[o++]=128|r>>6&63,l[o++]=128|63&r):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++s)),l[o++]=240|r>>18,l[o++]=128|r>>12&63,l[o++]=128|r>>6&63,l[o++]=128|63&r);else for(o=this.start;s<i&&o<64;++s)r=e.charCodeAt(s),r<128?a[o>>2]|=r<<SHIFT[3&o++]:r<2048?(a[o>>2]|=(192|r>>6)<<SHIFT[3&o++],a[o>>2]|=(128|63&r)<<SHIFT[3&o++]):r<55296||r>=57344?(a[o>>2]|=(224|r>>12)<<SHIFT[3&o++],a[o>>2]|=(128|r>>6&63)<<SHIFT[3&o++],a[o>>2]|=(128|63&r)<<SHIFT[3&o++]):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++s)),a[o>>2]|=(240|r>>18)<<SHIFT[3&o++],a[o>>2]|=(128|r>>12&63)<<SHIFT[3&o++],a[o>>2]|=(128|r>>6&63)<<SHIFT[3&o++],a[o>>2]|=(128|63&r)<<SHIFT[3&o++]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[t>>2]|=EXTRA[3&t],t>=56&&(this.hashed||this.hash(),e[0]=e[16],e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.bytes<<3,e[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var e,t,n,r,o,s,i=this.blocks;this.first?(e=i[0]-680876937,e=(e<<7|e>>>25)-271733879<<0,r=(-1732584194^2004318071&e)+i[1]-117830708,r=(r<<12|r>>>20)+e<<0,n=(-271733879^r&(-271733879^e))+i[2]-1126478375,n=(n<<17|n>>>15)+r<<0,t=(e^n&(r^e))+i[3]-1316259209,t=(t<<22|t>>>10)+n<<0):(e=this.h0,t=this.h1,n=this.h2,r=this.h3,e+=(r^t&(n^r))+i[0]-680876936,e=(e<<7|e>>>25)+t<<0,r+=(n^e&(t^n))+i[1]-389564586,r=(r<<12|r>>>20)+e<<0,n+=(t^r&(e^t))+i[2]+606105819,n=(n<<17|n>>>15)+r<<0,t+=(e^n&(r^e))+i[3]-1044525330,t=(t<<22|t>>>10)+n<<0),e+=(r^t&(n^r))+i[4]-176418897,e=(e<<7|e>>>25)+t<<0,r+=(n^e&(t^n))+i[5]+1200080426,r=(r<<12|r>>>20)+e<<0,n+=(t^r&(e^t))+i[6]-1473231341,n=(n<<17|n>>>15)+r<<0,t+=(e^n&(r^e))+i[7]-45705983,t=(t<<22|t>>>10)+n<<0,e+=(r^t&(n^r))+i[8]+1770035416,e=(e<<7|e>>>25)+t<<0,r+=(n^e&(t^n))+i[9]-1958414417,r=(r<<12|r>>>20)+e<<0,n+=(t^r&(e^t))+i[10]-42063,n=(n<<17|n>>>15)+r<<0,t+=(e^n&(r^e))+i[11]-1990404162,t=(t<<22|t>>>10)+n<<0,e+=(r^t&(n^r))+i[12]+1804603682,e=(e<<7|e>>>25)+t<<0,r+=(n^e&(t^n))+i[13]-40341101,r=(r<<12|r>>>20)+e<<0,n+=(t^r&(e^t))+i[14]-1502002290,n=(n<<17|n>>>15)+r<<0,t+=(e^n&(r^e))+i[15]+1236535329,t=(t<<22|t>>>10)+n<<0,e+=(n^r&(t^n))+i[1]-165796510,e=(e<<5|e>>>27)+t<<0,r+=(t^n&(e^t))+i[6]-1069501632,r=(r<<9|r>>>23)+e<<0,n+=(e^t&(r^e))+i[11]+643717713,n=(n<<14|n>>>18)+r<<0,t+=(r^e&(n^r))+i[0]-373897302,t=(t<<20|t>>>12)+n<<0,e+=(n^r&(t^n))+i[5]-701558691,e=(e<<5|e>>>27)+t<<0,r+=(t^n&(e^t))+i[10]+38016083,r=(r<<9|r>>>23)+e<<0,n+=(e^t&(r^e))+i[15]-660478335,n=(n<<14|n>>>18)+r<<0,t+=(r^e&(n^r))+i[4]-405537848,t=(t<<20|t>>>12)+n<<0,e+=(n^r&(t^n))+i[9]+568446438,e=(e<<5|e>>>27)+t<<0,r+=(t^n&(e^t))+i[14]-1019803690,r=(r<<9|r>>>23)+e<<0,n+=(e^t&(r^e))+i[3]-187363961,n=(n<<14|n>>>18)+r<<0,t+=(r^e&(n^r))+i[8]+1163531501,t=(t<<20|t>>>12)+n<<0,e+=(n^r&(t^n))+i[13]-1444681467,e=(e<<5|e>>>27)+t<<0,r+=(t^n&(e^t))+i[2]-51403784,r=(r<<9|r>>>23)+e<<0,n+=(e^t&(r^e))+i[7]+1735328473,n=(n<<14|n>>>18)+r<<0,t+=(r^e&(n^r))+i[12]-1926607734,t=(t<<20|t>>>12)+n<<0,o=t^n,e+=(o^r)+i[5]-378558,e=(e<<4|e>>>28)+t<<0,r+=(o^e)+i[8]-2022574463,r=(r<<11|r>>>21)+e<<0,s=r^e,n+=(s^t)+i[11]+1839030562,n=(n<<16|n>>>16)+r<<0,t+=(s^n)+i[14]-35309556,t=(t<<23|t>>>9)+n<<0,o=t^n,e+=(o^r)+i[1]-1530992060,e=(e<<4|e>>>28)+t<<0,r+=(o^e)+i[4]+1272893353,r=(r<<11|r>>>21)+e<<0,s=r^e,n+=(s^t)+i[7]-155497632,n=(n<<16|n>>>16)+r<<0,t+=(s^n)+i[10]-1094730640,t=(t<<23|t>>>9)+n<<0,o=t^n,e+=(o^r)+i[13]+681279174,e=(e<<4|e>>>28)+t<<0,r+=(o^e)+i[0]-358537222,r=(r<<11|r>>>21)+e<<0,s=r^e,n+=(s^t)+i[3]-722521979,n=(n<<16|n>>>16)+r<<0,t+=(s^n)+i[6]+76029189,t=(t<<23|t>>>9)+n<<0,o=t^n,e+=(o^r)+i[9]-640364487,e=(e<<4|e>>>28)+t<<0,r+=(o^e)+i[12]-421815835,r=(r<<11|r>>>21)+e<<0,s=r^e,n+=(s^t)+i[15]+530742520,n=(n<<16|n>>>16)+r<<0,t+=(s^n)+i[2]-995338651,t=(t<<23|t>>>9)+n<<0,e+=(n^(t|~r))+i[0]-198630844,e=(e<<6|e>>>26)+t<<0,r+=(t^(e|~n))+i[7]+1126891415,r=(r<<10|r>>>22)+e<<0,n+=(e^(r|~t))+i[14]-1416354905,n=(n<<15|n>>>17)+r<<0,t+=(r^(n|~e))+i[5]-57434055,t=(t<<21|t>>>11)+n<<0,e+=(n^(t|~r))+i[12]+1700485571,e=(e<<6|e>>>26)+t<<0,r+=(t^(e|~n))+i[3]-1894986606,r=(r<<10|r>>>22)+e<<0,n+=(e^(r|~t))+i[10]-1051523,n=(n<<15|n>>>17)+r<<0,t+=(r^(n|~e))+i[1]-2054922799,t=(t<<21|t>>>11)+n<<0,e+=(n^(t|~r))+i[8]+1873313359,e=(e<<6|e>>>26)+t<<0,r+=(t^(e|~n))+i[15]-30611744,r=(r<<10|r>>>22)+e<<0,n+=(e^(r|~t))+i[6]-1560198380,n=(n<<15|n>>>17)+r<<0,t+=(r^(n|~e))+i[13]+1309151649,t=(t<<21|t>>>11)+n<<0,e+=(n^(t|~r))+i[4]-145523070,e=(e<<6|e>>>26)+t<<0,r+=(t^(e|~n))+i[11]-1120210379,r=(r<<10|r>>>22)+e<<0,n+=(e^(r|~t))+i[2]+718787259,n=(n<<15|n>>>17)+r<<0,t+=(r^(n|~e))+i[9]-343485551,t=(t<<21|t>>>11)+n<<0,this.first?(this.h0=e+1732584193<<0,this.h1=t-271733879<<0,this.h2=n-1732584194<<0,this.h3=r+271733878<<0,this.first=!1):(this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0)},Md5.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3;return HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3;return[255&e,e>>8&255,e>>16&255,e>>24&255,255&t,t>>8&255,t>>16&255,t>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255,255&r,r>>8&255,r>>16&255,r>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(16),t=new Uint32Array(e);return t[0]=this.h0,t[1]=this.h1,t[2]=this.h2,t[3]=this.h3,e},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var e,t,n,r="",o=this.array(),s=0;s<15;)e=o[s++],t=o[s++],n=o[s++],r+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[63&(e<<4|t>>>4)]+BASE64_ENCODE_CHAR[63&(t<<2|n>>>6)]+BASE64_ENCODE_CHAR[63&n];return e=o[s],r+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[e<<4&63]+"==",r};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()},9082:function(e,t){"use strict";t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n}},7672:function(e,t,n){n(1703),n(2801),n(8675),n(7380),n(1118),function(t,n){e.exports=n()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./dist/index.js")}({"./dist/NxwStatic.js":
/*!***************************!*\
      !*** ./dist/NxwStatic.js ***!
      \***************************/
/*! exports provided: default */
function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(
/*! . */
"./dist/index.js");class o{constructor(e,t,n=3){let s={nxuser:e,nxpass:t,nxtype:n};o.nxwCall=new r.default(s),console.log("NxwStatic inited!!!")}static placeCall(e,t){return o.nxwCall.placeCall(e,t)}static hangupCall(){return o.nxwCall.hangupCall()}static answerCall(e){return o.nxwCall.answerCall(e)}static holdCall(e){return o.nxwCall.holdCall(e)}static sendDTMF(e){return o.nxwCall.sendDTMF(e)}static setVolume(e){return o.nxwCall.setVolume(e)}static muteCall(e){return o.nxwCall.muteCall(e)}static silentCall(e){return o.nxwCall.silentCall(e)}static disconnect(){return o.nxwCall.disconnect()}}},"./dist/index.js":
/*!***********************!*\
      !*** ./dist/index.js ***!
      \***********************/
/*! exports provided: default, NxwStatic, ToneFlag, delay, getAudio, getButton, getButtons, getDiv, getInput, setInput, getSpan, getVideo, getUrlParam, getJsSrcParam, assignStream, getIP, objectId */
function(e,t,n){"use strict";n.r(t),n.d(t,"objectId",(function(){return p}));var r=n(
/*! ./nxwCall */
"./dist/nxwCall.js"),o=n(
/*! ./NxwStatic */
"./dist/NxwStatic.js");n.d(t,"NxwStatic",(function(){return o.default}));var s=n(
/*! ./nxw-types */
"./dist/nxw-types.js");n.d(t,"ToneFlag",(function(){return s.ToneFlag}));var i=n(
/*! ./nxw-utils */
"./dist/nxw-utils.js");n.d(t,"delay",(function(){return i.delay})),n.d(t,"getAudio",(function(){return i.getAudio})),n.d(t,"getButton",(function(){return i.getButton})),n.d(t,"getButtons",(function(){return i.getButtons})),n.d(t,"getDiv",(function(){return i.getDiv})),n.d(t,"getInput",(function(){return i.getInput})),n.d(t,"setInput",(function(){return i.setInput})),n.d(t,"getSpan",(function(){return i.getSpan})),n.d(t,"getVideo",(function(){return i.getVideo})),n.d(t,"getUrlParam",(function(){return i.getUrlParam})),n.d(t,"getJsSrcParam",(function(){return i.getJsSrcParam})),n.d(t,"assignStream",(function(){return i.assignStream})),n.d(t,"getIP",(function(){return i.getIP})),t.default=r.default;const a=Object(i.getJsSrcParam)("nxuser"),l=Object(i.getJsSrcParam)("nxpass"),c=Object(i.getJsSrcParam)("nxtype")||"3";console.log("NXW1: nxuser=",a,"nxpass=",l,"nxtype=",c);let u=null;a&&l&&(u=new o.default(a,l,parseInt(c)),console.log("x=",u));let d=(new Date).getTime()%1e6;function p(e){return null==e?null:(null==e.__obj_id&&(e.__obj_id=d++),e.__obj_id)}},"./dist/nxw-types.js":
/*!***************************!*\
      !*** ./dist/nxw-types.js ***!
      \***************************/
/*! exports provided: ToneFlag */
function(e,t,n){"use strict";var r;n.r(t),n.d(t,"ToneFlag",(function(){return r})),function(e){e[e.RINGIN=1]="RINGIN",e[e.RINGOUT=2]="RINGOUT",e[e.CONNECTED=4]="CONNECTED",e[e.HANGUP=8]="HANGUP",e[e.ONLINE=16]="ONLINE",e[e.OFFLINE=32]="OFFLINE",e[e.CUSTOM=128]="CUSTOM"}(r||(r={}))},"./dist/nxw-utils.js":
/*!***************************!*\
      !*** ./dist/nxw-utils.js ***!
      \***************************/
/*! exports provided: delay, getAudio, getButton, getButtons, getDiv, getInput, setInput, getSpan, getVideo, getUrlParam, getJsSrcParam, assignStream, getIP */
function(e,t,n){"use strict";function r(e){return new Promise((t=>setTimeout(t,e)))}function o(e){const t=document.getElementById(e);if(!(t instanceof HTMLAudioElement))throw new Error(`Element "${e}" not found or not an audio element.`);return t}function s(e){const t=document.getElementById(e);if(!(t instanceof HTMLButtonElement))throw new Error(`Element "${e}" not found or not a button element.`);return t}function i(e){const t=document.getElementsByClassName(e);if(!t.length)throw new Error(`Elements "${e}" not found.`);const n=[];for(let r=0;r<t.length;r++){const o=t[r];if(!(o instanceof HTMLButtonElement))throw new Error(`Element ${r} of "${e}" not a button element.`);n.push(o)}return n}function a(e){const t=document.getElementById(e);if(!(t instanceof HTMLDivElement))throw new Error(`Element "${e}" not found or not a div element.`);return t}function l(e){const t=document.getElementById(e);if(!(t instanceof HTMLInputElement))throw new Error(`Element "${e}" not found or not an input element.`);return t}function c(e,t){l(e).value=t||""}function u(e){const t=document.getElementById(e);if(!(t instanceof HTMLSpanElement))throw new Error(`Element "${e}" not found or not a span element.`);return t}function d(e){const t=document.getElementById(e);if(!(t instanceof HTMLVideoElement))throw new Error(`Element "${e}" not found or not a video element.`);return t}function p(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?decodeURI(n[2]):""}function h(e){var t=document.getElementsByTagName("script"),n=t[t.length-1],r=n.src.indexOf("?"),o=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),s=n.src.substr(r+1).match(o);return null!=s?decodeURI(s[2]):""}function f(e,t){t.autoplay=!0,t.srcObject=e,t.play().catch((e=>{console.error("Failed to play media"),console.error(e)})),e.onaddtrack=()=>{t.load(),t.play().catch((e=>{console.error("Failed to play remote media on add track"),console.error(e)}))},e.onremovetrack=()=>{t.load(),t.play().catch((e=>{console.error("Failed to play remote media on remove track"),console.error(e)}))}}function g(e,t){let n={},r=new(0,window.RTCPeerConnection);function o(t){let r=t.split(" ")[4];r&&!n[r]&&"172.2"!=r.substring(0,5)&&(e(r),n[r]=!0)}r.onicecandidate=e=>{e.candidate&&o(e.candidate.candidate)},r.createDataChannel(""),r.createOffer((e=>{r.setLocalDescription(e)}),(()=>{})),setTimeout((()=>{r.localDescription.sdp.split("\n").forEach((e=>{0===e.indexOf("a=candidate:")&&o(e)})),t()}),5e3)}n.r(t),n.d(t,"delay",(function(){return r})),n.d(t,"getAudio",(function(){return o})),n.d(t,"getButton",(function(){return s})),n.d(t,"getButtons",(function(){return i})),n.d(t,"getDiv",(function(){return a})),n.d(t,"getInput",(function(){return l})),n.d(t,"setInput",(function(){return c})),n.d(t,"getSpan",(function(){return u})),n.d(t,"getVideo",(function(){return d})),n.d(t,"getUrlParam",(function(){return p})),n.d(t,"getJsSrcParam",(function(){return h})),n.d(t,"assignStream",(function(){return f})),n.d(t,"getIP",(function(){return g}))},"./dist/nxwCall.js":
/*!*************************!*\
      !*** ./dist/nxwCall.js ***!
      \*************************/
/*! exports provided: default */
function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r,o=n(
/*! sip.js */
"./node_modules/sip.js/lib/index.js"),s=n(
/*! events */
"./node_modules/events/events.js"),i=n(
/*! ./nxw-types */
"./dist/nxw-types.js"),a=n(
/*! ./nxw-utils */
"./dist/nxw-utils.js"),l=n(
/*! . */
"./dist/index.js"),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((r=r.apply(e,t||[])).next())}))};!function(e){e[e.UA_INIT=0]="UA_INIT",e[e.UA_NXAPI=1]="UA_NXAPI",e[e.UA_CONNECTING=2]="UA_CONNECTING",e[e.UA_CONNECTED=3]="UA_CONNECTED",e[e.UA_REGISTERING=4]="UA_REGISTERING",e[e.UA_READY=5]="UA_READY",e[e.UA_CALLING_OUT=6]="UA_CALLING_OUT",e[e.UA_CALLING_CREATED=7]="UA_CALLING_CREATED",e[e.UA_INCOMING=8]="UA_INCOMING",e[e.UA_ANSWERING=9]="UA_ANSWERING",e[e.UA_TALKING=10]="UA_TALKING",e[e.UA_CALL_ENDING=11]="UA_CALL_ENDING",e[e.UA_CALL_END=12]="UA_CALL_END",e[e.UA_DISCONNECTED=13]="UA_DISCONNECTED",e[e.UA_ERROR=14]="UA_ERROR",e[e.UA_REINIT=15]="UA_REINIT"}(r||(r={}));class u{get mySimpleUser(){return this.simpleUser}set mySimpleUser(e){this.simpleUser=e}get lastRequest(){return this.request}get lastResponse(){return this.response}get myDisplayName(){return this.displayName}get mySipId(){return this.sipId}get isRegistered(){return this.registered>0}get lastCcCode(){return this.ccCode}get lastCallId(){return this.callId}get lastCcCallId(){return this.ccCallId}get mySimpleUserId(){return this.simpleUser?this.simpleUser.id:"_SIMPLE_"}get myEvents(){return this.events}get remoteName(){return this.simpleUser&&this.simpleUser.activeSession?this.simpleUser.activeSession.remoteIdentity.uri.aor:""}get talkingTime(){return this.state==r.UA_TALKING&&this.confirmTs?(new Date).valueOf()-this.confirmTs.valueOf():0}get myDataHdrs(){return this.dataHdrs}get myOrderId(){return this.orderId}set myOrderId(e){this.orderId=e}get comingOrderId(){return this.orderIdComing}set comingOrderId(e){this.orderIdComing=e}get nxRealPhone(){return this._nxRealPhone}set nxRealPhone(e){this._nxRealPhone=e}get isdid(){return this._isdid}set isdid(e){this._isdid=e}get isSendSMS(){return this._sendsms}get myState(){return this.state.toString()}get callStatusInfo(){return this.statusInfo}updateLastSessionTrying(){if(this.simpleUser){let e=this.simpleUser.activeSession;null!=e&&(this.lastSessionTrying=e)}}setAutoAnswer(e){this.autoAnswer=e}setVideo(e){e!=this.video&&(console.log("SORRY!!! not support yet!"),this.video=e)}get activeSessionState(){return this.simpleUser&&this.simpleUser.activeSession?this.simpleUser.activeSession.state.toString():""}get activeCallId(){if(this.simpleUser&&this.simpleUser.activeSession){let e=this.simpleUser.activeSession.id;return e.length>36?e.substring(0,36):e.substring(0,20)}return""}get getInfoSample(){return"sipid="+this.mySipId+" state="+this.state+" remote="+this.remoteName+" state="+this.activeSessionState}checkAndRun(){this.invalid||(this.state==r.UA_ERROR?(console.log("checkAndRun state ERROR!!!!"),this.mark++,this.mark>1&&(this.state=r.UA_REINIT)):this.state==r.UA_TALKING||this.state==r.UA_CALLING_OUT||this.state==r.UA_CALLING_CREATED||this.state==r.UA_INCOMING||this.state==r.UA_CALL_ENDING?this.fails=0:this.state==r.UA_READY||this.state==r.UA_INIT||(this.state==r.UA_CALL_END?(console.log("UA_CALL_END to UA_READY"),console.log("mark=",this.mark,"nextTarget=",this.nextTarget),this.state=r.UA_READY):(console.log("checkAndRun state=",this.state,"fails=",this.fails),this.fails++,this.fails>4&&(this.events.emit("error","fails too much "+this.state),this.state=r.UA_ERROR,this.fails=0))),this.mark>0&&(this.state==r.UA_REINIT?(this.deleteOldSimpleUser(),this.state=r.UA_INIT,this.mark--,setTimeout((()=>{console.log("checkAndRun begin NXgetUserInfo"),this.NXgetUserInfo(this.config)}),10)):this.state==r.UA_READY&&this.nextTarget.length>0&&(console.log("begin placeCall to",this.nextTarget,this.nextHdrs),this.placeCall(this.nextTarget,this.nextHdrs))))}constructor(e){this._userDelegate={onCallReceived:()=>c(this,void 0,void 0,(function*(){if(console.log(`[${this.simpleUser.id}] Call received`,this.simpleUser),this.updateLastSessionTrying(),this.state=r.UA_INCOMING,this.statusInfo="",this.ccCode="",this.simpleUser&&this.simpleUser.activeSession){let e=this.simpleUser.activeSession;console.log("call-id in is "+e.dialog.callId),this.callId=e.dialog.callId,this.ccCallId=e.request.getHeader("X-NXCC-Call-ID"),console.log("incoming nxcc-call-id is "+this.ccCallId);let t=e.request.getHeader("X-ORDERID");this.orderIdComing=t,console.log("orderIdComing X-ORDERID="+t);let n=e.request.getHeader("X-NX-REALPHONE");this._nxRealPhone=n||"",this.request=e.request}this.events.emit("onCallReceived",this.remoteName),this.autoAnswer?(console.log("try autoAnswer await"),this.answerCall()):this.play("start","ringin.wav")})),onCallCreated:()=>{this.simpleUser&&this.simpleUser.activeSession&&(console.log(`[${this.simpleUser.id}] Call created`),this.state=r.UA_CALLING_CREATED,this.statusInfo="",2==this.retries&&""!=this.nextTarget&&(console.log("onCallCreated, set nextTarget empty!"),this.nextTarget=""),this.events.emit("onCallCreated",this.remoteName))},onCallAnswered:()=>{this.updateLastSessionTrying(),this.play("end",""),console.log(`[${this.simpleUser.id}] Call answered`,this.simpleUser.activeSession),this.state=r.UA_TALKING,this.statusInfo="200 OK",this.confirmTs=new Date,1==this.retries&&""!=this.nextTarget&&(console.log("onCallAnswered, set nextTarget empty!"),this.nextTarget=""),console.log("onCallAnswered really!"),this.play("start","connected.wav"),this.events.emit("onCallAnswered",this.remoteName)},onCallHangup:()=>{this.play("end",""),this.play("start","hangup.wav"),console.log(`[${this.simpleUser.id}] Call hangup`),this.mark=1,this.state=r.UA_CALL_END,this.request=null,this.response=null,0==this.retries&&""!=this.nextTarget&&(console.log("onCallHangup, set nextTarget empty!"),this.nextTarget=""),this.events.emit("onCallHangup",this.statusInfo),""==this.nextTarget&&(this.state=r.UA_READY)},onRegistered:()=>{this.state=r.UA_READY,this.mark++,this.registered=1,console.log(`[${this.displayName}] user registered, mark=${this.mark},nextTarget=${this.nextTarget}`),this.play("start","online.wav"),setTimeout((()=>{this.play("cache","offline.wav"),this.play("cache","ringin.wav"),this.play("cache","ringout.wav"),this.play("cache","hangup.wav"),this.play("cache","connected.wav")}),500),this.events.emit("onRegistered",this.displayName),this.nextTarget&&this.nextTarget.length>0&&(console.log("begin placeCall to",this.nextTarget,this.nextHdrs),this.placeCall(this.nextTarget,this.nextHdrs))},onUnregistered:e=>{console.log(`[${this.displayName}] user unregistered ${e}`),this.registered&&(this.registered=0,this.play("start","offline.wav")),this.events.emit("onUnregistered",e)},onServerConnect:()=>{console.log(`[${this.displayName}] server connected`),this.state=r.UA_CONNECTED,this.events.emit("onServerConnect","");let e=["X-NX-RemotePubIP: "+(this.cip||"0.0.0.0")];7==this.config.nxtype&&(e.push("X-NXCC-Agent: "+(this.config.ccAgent||"NA")),e.push("X-NXCC-Token: "+(this.config.ccToken||"NA")),e.push("X-NXCC-Queue: "+(this.config.ccQueue||"NA")));let t=this;setTimeout((()=>{console.log("state ready register state="+t.state),t.state==r.UA_CONNECTED&&(t.simpleUser.register({requestDelegate:{onReject:e=>{console.warn(`[${this.displayName}] REGISTER rejected`)}},requestOptions:{extraHeaders:e}}),t.state=r.UA_REGISTERING)}),99)},onServerDisconnect:e=>{console.log(`[${this.displayName}] server disconnected ${e}`),this.simpleUser==u.lastInstance&&(this.state=r.UA_DISCONNECTED,this.events.emit("onServerDisconnect",""))},onCallHold:e=>{console.log(`[${this.simpleUser.id}] Call hold ${e}`),this.events.emit("onCallHold","")},onMessageReceived:e=>{console.log(`[${this.simpleUser.id}] recv message ${e}`),this.handleMessage(e),this.events.emit("onMessageReceived",e)},onCallDTMFReceived:(e,t)=>{console.log(`[${this.simpleUser.id}] Call DTMFReceived ${e}:${t} `),this.events.emit("dtmf_recv",e+":"+t)}},this.initByConfig(e),setInterval((()=>{this.checkFlag&&this.checkAndRun()}),5e3)}initByConfig(e){u.lastInstance&&(console.log("already has lastInstance. Free it"),u.lastInstance.unregister().finally((()=>{u.lastInstance.disconnect(),u.lastInstance=null}))),this.config=e,this.simpleUser=null,this.checkFlag=!0,this.invalid=!1,e.audioElementId?(this.audioElement=Object(a.getAudio)(e.audioElementId),console.log("Using Page Audio HTMLAudioElement",this.audioElement)):(console.log("New Audio HTMLAudioElement"),this.audioElement=new Audio),e.playElementId?(this.playElement=Object(a.getAudio)(e.playElementId),console.log("Using Page Play HTMLAudioElement",this.playElement)):(console.log("New Play HTMLAudioElement"),this.playElement=new Audio),e.video?(console.log("config.video enabled"),this.video=e.video,this.videoLocalElement=Object(l.getVideo)(e.videoLocalElementId),this.videoRemoteElement=Object(l.getVideo)(e.videoRemoteElementId)):(this.video=!1,this.videoLocalElement=void 0,this.videoRemoteElement=void 0),this.events=new s.EventEmitter,this.displayName="NA",this.state=r.UA_INIT,this.nextTarget="",this.fails=0,this.mark=0,this.logLevel=void 0===e.logLevel?"warn":e.logLevel,this.retries=void 0===e.retries?0:e.retries,this.playTone=null==e.playTone?0:Number(e.playTone),this.sipId="",this.confirmTs=null,this.lastSessionTrying=null,this.statusInfo="",this.orderId=null,this.nextHdrs=null,this.dataHdrs=null,this._nxRealPhone="",this._isdid=0,this._sendsms=!1,this.ccCode="",this.callId="",this.musicBuffer=new Map,this.autoAnswer=void 0!==e.autoAnswer&&e.autoAnswer,this.delegate=this._userDelegate,this.mark++,this.localIPs="_",this.cip="_";var t=this;Object(a.getIP)((function(e){console.log("localIp=",e),e.length<=16&&e.length>=7&&(t.localIPs=t.localIPs+e+"_"),t.state==r.UA_INIT&&(console.log("begin NXgetUserInfo"),t.NXgetUserInfo(t.config))}),(()=>{}))}NXgetUserInfo(e){let t=new XMLHttpRequest;console.log("NXgetUserInfo config=",e),this.state=r.UA_NXAPI;let n=e.nxtype?e.nxtype:0;if(6!=e.nxtype)return void this.initNxwCall(n,e);t.withCredentials=!1,t.open("GET","/api/userinfo");const o=e.nxuser+":"+e.nxpass,s="Basic "+window.btoa(o);t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("Authorization",s);let i=this;t.onreadystatechange=function(){if(4===t.readyState)if(200==t.status&&t.responseText.length>0){const e=JSON.parse(t.responseText);i.initNxwCall(n,e)}else console.log("userfinfo status="+t.status),i.state=r.UA_ERROR},t.onerror=function(e){console.log("xhr.onerror"),console.log(e),i.state=r.UA_ERROR},t.setRequestHeader("Cache-Control","no-cache"),t.send()}deleteOldSimpleUser(){this.simpleUser&&(console.log("delete old simpleUser!!",this.simpleUser),this.simpleUser.disconnect().finally((()=>{console.log("delete old simpleUser done!!")})),u.lastInstance=null,this.simpleUser=null)}initNxwCall(e,t){let n={};if(console.log("initNxwCall type=",e," param=",typeof t,t),0==e&&(e=3),e<=5){let r=t;n.authName=r.nxuser,n.displayName=r.nxuser,n.userName=r.nxuser,n.nxUserName=r.nxuser,n.secret=r.nxpass,1==e?(n.domain="nxrtc1.nxcloud.com",n.wssServer="wss://nxrtc1.nxcloud.com:7443"):2==e?(n.domain="cs.gate110.com",n.wssServer="wss://cs.gate110.com:4442"):3==e?(n.domain="nxrtc1.nxcloud.com",n.wssServer="wss://nxrtc1.nxcloud.com:8089"):4==e?(n.domain="ucloud.arya.top",n.wssServer="wss://ucloud.arya.top:7443"):5==e&&(n.domain="nxcs50.nxcloud.com",n.wssServer="wss://nxcs50.nxcloud.com:7443"),n.aor="sip:"+n.userName+"@"+n.domain,n.forceRport=!0,console.log("wssServer "+n.wssServer)}else if(7==e){let e=t;n.authName=e.nxuser,n.displayName=e.nxuser,n.userName=e.nxuser,n.nxUserName=e.nxuser,n.secret=e.nxpass,n.domain=e.domain,n.wssServer=e.wssurl,n.ccAgent=e.ccAgent,n.ccToken=e.ccToken,n.ccQueue=e.ccQueue,n.aor="sip:"+n.userName+"@"+n.domain,n.forceRport=!0}else if(6==e){let e=t;n.displayName=e.username,n.domain=e.sipdomain,n.userName=e.sipaccount,n.nxUserName=e.username,n.authName=e.sipaccount,n.secret=e.sippassword,n.cip=e.cip,n.isdid=Number(e.isdid),n.sendsms=e.sendsms,console.log("resp= ",e),null!=e.wssserver?(e.wssport=443,n.wssServer="wss://"+e.wssserver+":"+e.wssport+"/wss",this.config.wssurl&&this.config.wssurl.startsWith("wss://")&&(console.log("force using wssServer= "+this.config.wssurl),n.wssServer=this.config.wssurl),console.log("wssServer= "+n.wssServer+" flushreg="+e.flushreg)):console.log("FIXME: no wssServer ！！！"),n.aor="sip:"+n.userName+"@"+n.domain,n.forceRport=!0}else if(8==e)return;this.simpleUser&&this.state>=r.UA_CONNECTED&&this.deleteOldSimpleUser(),this.cip=n.cip,this.displayName=n.displayName?n.displayName:"NA",this.sipId=n.authName,this._isdid=n.isdid,this._sendsms=n.sendsms,this.simpleUser=this.buildSimpleUser(n),u.lastInstance=this.simpleUser,this.state=r.UA_CONNECTING,this.simpleUser.connect().catch((e=>{this.events.emit("error",e),this.state=r.UA_ERROR,console.error(`[${this.sipId}] failed to connect`),console.error(e)}))}leftpad(e,t=2,n="0"){return(String(n).repeat(t)+String(e)).slice(String(e).length)}buildSimpleUser(e){let t=null;console.log("displayName="+e.displayName+" username="+e.userName+" aor="+e.aor);const n=new Date,[r,s,i,a,l]=[n.getMonth()+1,this.leftpad(n.getDate(),2),this.leftpad(n.getHours(),2),this.leftpad(n.getMinutes(),2),this.leftpad(n.getSeconds(),2)];let c="230509_"+r+s+i+a+l;t=this.video?{delegate:this.delegate,aor:e.aor,media:{constraints:{audio:!0,video:!0},local:{video:this.videoLocalElement},remote:{video:this.videoRemoteElement,audio:this.audioElement}},userAgentOptions:{logLevel:this.logLevel,displayName:e.displayName,contactName:e.userName,viaHost:e.domain,contactParams:{transport:"wss",nxuser:e.nxUserName,nxw:"V"+c,ips:this.localIPs,cip:this.cip},userAgentString:"NXW/"+e.nxUserName,authorizationPassword:e.secret,authorizationUsername:e.authName,sipExtension100rel:o.SIPExtension.Supported,transportOptions:{server:e.wssServer,keepAliveInterval:20,connectionTimeout:35},forceRport:e.forceRport,sessionDescriptionHandlerFactoryOptions:{alwaysAcquireMediaFirst:!0}},registererOptions:{expires:300,refreshFrequency:70}}:{delegate:this.delegate,aor:e.aor,media:{constraints:{audio:!0,video:!1},remote:{audio:this.audioElement}},userAgentOptions:{logLevel:this.logLevel,displayName:e.displayName,contactName:e.userName,viaHost:e.domain,contactParams:{transport:"wss",nxuser:e.nxUserName,nxw:"v"+c,ips:this.localIPs,cip:this.cip},userAgentString:"NXW/"+e.nxUserName,authorizationPassword:e.secret,authorizationUsername:e.authName,sipExtension100rel:o.SIPExtension.Supported,transportOptions:{server:e.wssServer,keepAliveInterval:20,connectionTimeout:35},forceRport:e.forceRport,sessionDescriptionHandlerFactoryOptions:{alwaysAcquireMediaFirst:!0}},registererOptions:{expires:36e3,refreshFrequency:99}},this.registered=0;const u=new o.Web.SimpleUser(e.wssServer,t);return console.log("new simpleUser = ",u),u}isConnected(){return!!this.simpleUser&&this.simpleUser.isConnected()}isBusy(){return!(!this.simpleUser||!this.simpleUser.activeSession)}isReady(){return this.state==r.UA_READY}cacheMusic(e){let t=new(0,window.AudioContext);t.resume();let n=this;fetch(e,{method:"GET",mode:"cors"}).then((e=>e.arrayBuffer())).then((e=>t.decodeAudioData(e))).then((r=>{n.musicBuffer.set(e,r),t.close(),t=null})).catch((e=>{console.log("error ",e)}))}playSync(e,t){if(console.log(">>>play: action="+e,"type="+t,"playTone="+this.playTone),"begin"==e||"start"==e||"cache"==e){let n="",r=!1,o=0;if(n=t,"ringin.wav"==t?(o=i.ToneFlag.RINGIN,r=!0):"ringout.wav"==t?(o=i.ToneFlag.RINGOUT,r=!0):"connected.wav"==t?(o=i.ToneFlag.CONNECTED,r=!1):"hangup.wav"==t?(o=i.ToneFlag.HANGUP,r=!1):"online.wav"==t?(o=i.ToneFlag.ONLINE,r=!1):"offline.wav"==t?(o=i.ToneFlag.OFFLINE,r=!0):(o=i.ToneFlag.CUSTOM,r=!1),console.log(">>> play ",o,t,n,r),""!=t&&this.playTone&o){console.log("start play ",o,t,n,r),this.playElement&&this.playElement.played&&this.playElement.played.length>0&&this.playElement.pause();let s=this.config.audioSrcPath;null==s&&(s="audio");let i=s+"/"+n;if((n.startsWith(".")||n.startsWith("/"))&&(i=n),"cache"==e)return console.log("cacheMusic only  "+i),void this.cacheMusic(i);let a=this.musicBuffer.get(i);this.track&&(this.track.stop(),this.track.disconnect(),this.track=null),u.audioCtx&&(u.audioCtx.destination.disconnect(),u.audioCtx.close().catch((e=>{console.log(e)})),u.audioCtx=null);const l=window.AudioContext;if(u.audioCtx=new l,a){console.log("using cache for "+i),this.track=u.audioCtx.createBufferSource();const e=u.audioCtx.createMediaStreamDestination();this.track.buffer=a,this.track.loop=r,this.track.connect(u.audioCtx.destination),this.track.start(0),this.playElement.srcObject=e.stream,this.playElement.loop=r}else console.log("cacheMusic for first use  "+i),this.cacheMusic(i),this.playElement&&(this.playElement.loop=!1,this.playElement.pause(),this.playElement=null),this.playElement=new Audio(i),this.playElement.loop=r;this.playElement.muted=!0,u.audioCtx.resume().then((()=>{this.playElement.play()})).then((()=>{this.playElement.muted=!1,this.playElement.currentTime=0})).catch((e=>{console.log("play error:",e)}))}}else"end"!=e&&"stop"!=e||(this.playElement&&(this.playElement.src="",this.playElement.loop=!1,this.playElement.pause()),this.track&&(this.track.stop(),this.track.disconnect(),this.track=null),u.audioCtx&&(u.audioCtx.destination.disconnect(),u.audioCtx.close().catch((e=>{console.log(e)})),u.audioCtx=null))}play(e,t){setTimeout((()=>{this.playSync(e,t)}),1)}placeCall(e,t){if(console.log("placeCall state="+this.state,e,t),!this.simpleUser)return!1;if(this.state==r.UA_READY){this.state=r.UA_CALLING_OUT,this.events.emit("placeCall",e),"sip:"!=e.substr(0,4)&&(e="sip:"+e),-1==e.indexOf("@")&&(e+="@nxcloud.com"),console.log("pacecall with earlymedia");var n=this;n.ccCode="",n.earlyAnswer=!1;var o={requestDelegate:{onAccept:t=>{console.log("Positive response = ",t),n.callId=t.message.callId,n.statusInfo="200 OK";let{message:r}=t;n.response=r,n.ccCode=r.getHeader("X-NXCC-CODE"),console.log("onAccept ccCode=",n.ccCode),n.ccCallId=r.getHeader("X-NXCC-Call-ID"),console.log("onAccept ccCallId=",n.ccCallId),n.events.emit("onAccept",e)},onReject:t=>{console.log("Negative response = ",t);let{message:r}=t;n.response=r,n.statusInfo=r.statusCode.toString()+" "+r.reasonPhrase,n.callId=t.message.callId;let o=r.getHeader("X-NXCC-CODE");o&&(n.ccCode=o,n.events.emit("onReject",e))},onProgress:t=>{console.log("onProgress response = ",typeof t,t),n.callId=t.message.callId;let{message:r}=t;n.response=r,n.statusInfo=r.statusCode.toString()+" "+r.reasonPhrase;let o=t.session;if(console.log("onProgress session=",o),n.ccCode=r.getHeader("X-NXCC-CODE"),n.ccCallId=r.getHeader("X-NXCC-Call-ID"),n.events.emit("onProgress",e),100==r.statusCode)console.log("onProgress 100 trying");else if(r.statusCode>=180&&r.statusCode<190){console.log("onProgress statusCode= ${message.statusCode} ");let e=r.getHeader("Content-Type");e&&"application/sdp"==e.toLowerCase()&&(n.earlyAnswer=!0,n.play("end","ringout.wav"))}else console.log("onProgress others ",r.statusCode)}},sessionDescriptionHandlerOptions:{constraints:{audio:!0,video:this.video}}};return t||(t=[]),this.cip&&this.cip.length>0&&t.push("X-NX-RemotePubIP: "+this.cip),this.orderId&&this.orderId.length>0&&t.push("X-ORDERID: "+this.orderId),6==this.config.nxtype?t.push("X-actiontype: 7"):7==this.config.nxtype&&(t.push("X-NXCC-Agent: "+(this.config.ccAgent||"NA")),t.push("X-NXCC-Token: "+(this.config.ccToken||"NA")),t.push("X-NXCC-Queue: "+(this.config.ccQueue||"NA")),t.push("X-actiontype: 7")),this.dataHdrs=t,this.simpleUser.call(e,{inviteWithoutSdp:!1,earlyMedia:!0,extraHeaders:t},o).then((()=>{this.play("start","ringout.wav"),this.events.emit("placeCallOK",e)})).catch((e=>{console.error(`[${this.simpleUser.id}] failed to place call`),console.error(e),this.state=r.UA_READY})),!0}return 0==this.config.retries?(console.log("Please wait state=",this.state),!1):(this.nextTarget=e,this.nextHdrs=t,this.mark++,console.log("placeCallWait nextTarget=",this.nextTarget),this.events.emit("placeCallWait",e),!0)}answerCall(e){if(console.log("answerCall now ... ",this.simpleUser),this.state==r.UA_INCOMING&&this.simpleUser){null==this.simpleUser.activeSession&&console.log("FIXME: answerCall with undefined activeSession!"),e||(e=[]),this.orderId&&this.orderId.length>0&&e.push("X-ORDERID: "+this.orderId),this.dataHdrs=e;let t={};t.extraHeaders=e,t.sessionDescriptionHandlerOptions={iceGatheringTimeout:500},this.state=r.UA_ANSWERING,this.simpleUser.answer(t).then((()=>{this.state=r.UA_TALKING,this.events.emit("answer","")})).catch((e=>{console.error(`[${this.simpleUser.id}] failed to answer call`),console.error(e)}))}else console.log("FIXME: force answerCall!"),this.state=r.UA_ANSWERING,this.simpleUser.answer().then((()=>{this.state=r.UA_TALKING,this.events.emit("answer","")})).catch((e=>{console.error(`[${this.simpleUser.id}] failed to answer call`),console.error(e)}))}declineCall(){console.log("declineCall now ... ",this.simpleUser),this.state==r.UA_INCOMING&&this.simpleUser&&this.simpleUser.activeSession&&this.simpleUser.decline().then((()=>{this.state=r.UA_READY,this.events.emit("decline","")})).catch((e=>{this.events.emit("error",e),this.state=r.UA_ERROR,console.error(`[${this.simpleUser.id}] failed to decline call`),console.error(e)}))}hangupCall(){if(console.log("hangupCall try... ",this.simpleUser,this.state,this.lastSessionTrying),this.simpleUser){let e="",t=0;if(this.state==r.UA_INCOMING)return void this.declineCall();if(this.simpleUser.activeSession&&this.state>r.UA_READY){for(;this.state==r.UA_ANSWERING&&t<100;)t++;e=this.simpleUser.activeSession.id,this.state=r.UA_CALL_ENDING,this.simpleUser.hangup().then((()=>{this.events.emit("hangup","")})).catch((e=>{this.events.emit("error",e),console.error(`[${this.simpleUser.id}] failed to hangup call`),console.error(e)}))}e.length>0&&this.lastSessionTrying&&this.lastSessionTrying.id==e&&(console.log("hangup OK. clear lastSessionTrying "+e),this.lastSessionTrying=null),this.lastSessionTrying&&(console.log("fixme: try lastSessionTrying... ",this.lastSessionTrying.state),this.lastSessionTrying.state!=o.SessionState.Terminated&&this.lastSessionTrying.bye().catch((e=>{console.warn("!!!!! BYE lastSessionTrying error"+e)})),this.lastSessionTrying=null)}}cleanupMedia(){this.audioElement&&(this.audioElement.srcObject=null,this.audioElement.pause()),this.videoRemoteElement&&(this.videoRemoteElement.srcObject=null,this.videoRemoteElement.pause()),this.videoLocalElement&&(this.videoLocalElement.srcObject=null,this.videoLocalElement.pause())}disconnect(e=!0){if(this.simpleUser){var t=this.simpleUser;this.simpleUser=null,t.disconnect().then((()=>{this.events.emit("disconnect",""),this.state=r.UA_INIT})).catch((e=>{this.events.emit("error",e),this.state=r.UA_ERROR,console.error(`[${this.simpleUser.id}] failed to disconnect`)}))}e&&(this.events.emit("disconnect","invalid"),this.invalid=!0,this.simpleUser=null,u.lastInstance=null)}unregister(){this.simpleUser&&this.simpleUser.unregister().finally((()=>{console.log("unregister start!")}))}register(){this.simpleUser&&this.simpleUser.register().finally((()=>{console.log("register start!")}))}handleMessage(e){try{let t=JSON.parse(e);if(t.cmd="unreg"){let e=t.delay||100;console.log("begin unregister! delay="+e),setTimeout((()=>{this.unregister()}),e)}}catch(e){console.log(e)}}sendDTMF(e){if(e&&e.length>0)for(let t=0;t<e.length;t++){let n=e[t];console.log("try sendDTMF "+n),this.simpleUser.sendDTMF(n).then((()=>{this.events.emit("dtmf",n)})).catch((e=>{console.log("sendDTMF err:"+n),this.events.emit("error",e),console.error(e)}))}}holdCall(e){console.log("holdCall"+e+" for session",this.simpleUser.activeSession),this.simpleUser.activeSession&&(e?(this.events.emit("hold","try"),this.simpleUser.hold().then((()=>{this.events.emit("hold","ok")})).catch((e=>{this.events.emit("error",e),this.state=r.UA_ERROR,console.error(`[${this.simpleUser.id}] failed to hold call`),console.error(e)}))):(this.events.emit("unhold","try"),this.simpleUser.unhold().then((()=>{this.events.emit("unhold","ok")})).catch((e=>{this.events.emit("error",e),this.state=r.UA_ERROR,console.error(`[${this.simpleUser.id}] failed to unhold call`),console.error(e)}))))}muteCall(e){console.log("muteCall"+e+" for session",this.simpleUser.activeSession),this.simpleUser.activeSession&&(e?(this.events.emit("mute","on"),this.simpleUser.mute(),!1===this.simpleUser.isMuted()&&(this.state=r.UA_ERROR,console.error(`[${this.simpleUser.id}] failed to mute call`))):(this.events.emit("mute","off"),this.simpleUser.unmute(),!0===this.simpleUser.isMuted()&&(this.state=r.UA_ERROR,console.error(`[${this.simpleUser.id}] failed to unmute call`))))}silentCall(e){console.log("silentCall"+e+" for session",this.simpleUser.activeSession),this.simpleUser.activeSession&&this.audioElement&&(this.events.emit("silent",e?"on":"off"),this.audioElement.muted=e)}setVolume(e){if((e=Math.abs(e))>100?e=1:e>1&&(e/=100),this.audioElement){if(console.log("set Volume="+e),!this.simpleUser.activeSession)return;this.events.emit("volume",e),this.audioElement.volume=e}}clearException(){console.log("clearException"),this.state!=r.UA_TALKING&&(this.lastSessionTrying&&this.lastSessionTrying.bye().finally((()=>{console.log("bye lastSessionTrying"),this.lastSessionTrying=null})),setTimeout((()=>c(this,void 0,void 0,(function*(){this.simpleUser.disconnect()}))),10))}}},"./node_modules/events/events.js":
/*!***************************************!*\
      !*** ./node_modules/events/events.js ***!
      \***************************************/
/*! no static exports found */
function(e,t,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,s=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,s),r(n)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}m(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&m(e,"error",t,n)}(e,o,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var l=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var o,s,i,a;if(c(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),i=s[t]),void 0===i)i=s[t]=n,++e._eventsCount;else if("function"==typeof i?i=s[t]=r?[n,i]:[i,n]:r?i.unshift(n):i.push(n),(o=u(e))>0&&i.length>o&&!i.warned){i.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=i.length,a=l,console&&console.warn&&console.warn(a)}return e}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(r);return o.listener=n,r.wrapFn=o,o}function h(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):g(o,o.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(s){r.once&&e.removeEventListener(t,o),n(s)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var a=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw a.context=i,a}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)s(l,this,t);else{var c=l.length,u=g(l,c);for(n=0;n<c;++n)s(u[n],this,t)}return!0},a.prototype.addListener=function(e,t){return d(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return d(this,e,t,!0)},a.prototype.once=function(e,t){return c(t),this.on(e,p(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,p(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,o,s,i;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){i=n[s].listener,o=s;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,i||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(o=s[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return h(this,e,!0)},a.prototype.rawListeners=function(e){return h(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},a.prototype.listenerCount=f,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},"./node_modules/sip.js/lib/api/ack.js":
/*!********************************************!*\
      !*** ./node_modules/sip.js/lib/api/ack.js ***!
      \********************************************/
/*! exports provided: Ack */
function(e,t,n){"use strict";n.r(t),n.d(t,"Ack",(function(){return r}));class r{constructor(e){this.incomingAckRequest=e}get request(){return this.incomingAckRequest.message}}},"./node_modules/sip.js/lib/api/bye.js":
/*!********************************************!*\
      !*** ./node_modules/sip.js/lib/api/bye.js ***!
      \********************************************/
/*! exports provided: Bye */
function(e,t,n){"use strict";n.r(t),n.d(t,"Bye",(function(){return r}));class r{constructor(e){this.incomingByeRequest=e}get request(){return this.incomingByeRequest.message}accept(e){return this.incomingByeRequest.accept(e),Promise.resolve()}reject(e){return this.incomingByeRequest.reject(e),Promise.resolve()}}},"./node_modules/sip.js/lib/api/cancel.js":
/*!***********************************************!*\
      !*** ./node_modules/sip.js/lib/api/cancel.js ***!
      \***********************************************/
/*! exports provided: Cancel */
function(e,t,n){"use strict";n.r(t),n.d(t,"Cancel",(function(){return r}));class r{constructor(e){this.incomingCancelRequest=e}get request(){return this.incomingCancelRequest}}},"./node_modules/sip.js/lib/api/emitter.js":
/*!************************************************!*\
      !*** ./node_modules/sip.js/lib/api/emitter.js ***!
      \************************************************/
/*! exports provided: EmitterImpl */
function(e,t,n){"use strict";n.r(t),n.d(t,"EmitterImpl",(function(){return r}));class r{constructor(){this.listeners=new Array}addListener(e,t){const n=t=>{this.removeListener(n),e(t)};!0===(null==t?void 0:t.once)?this.listeners.push(n):this.listeners.push(e)}emit(e){this.listeners.slice().forEach((t=>t(e)))}removeAllListeners(){this.listeners=[]}removeListener(e){this.listeners=this.listeners.filter((t=>t!==e))}on(e){return this.addListener(e)}off(e){return this.removeListener(e)}once(e){return this.addListener(e,{once:!0})}}},"./node_modules/sip.js/lib/api/exceptions/content-type-unsupported.js":
/*!****************************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/exceptions/content-type-unsupported.js ***!
      \****************************************************************************/
/*! exports provided: ContentTypeUnsupportedError */
function(e,t,n){"use strict";n.r(t),n.d(t,"ContentTypeUnsupportedError",(function(){return o}));var r=n(
/*! ../../core/exceptions/exception.js */
"./node_modules/sip.js/lib/core/exceptions/exception.js");class o extends r.Exception{constructor(e){super(e||"Unsupported content type.")}}},"./node_modules/sip.js/lib/api/exceptions/index.js":
/*!*********************************************************!*\
      !*** ./node_modules/sip.js/lib/api/exceptions/index.js ***!
      \*********************************************************/
/*! exports provided: ContentTypeUnsupportedError, RequestPendingError, SessionDescriptionHandlerError, SessionTerminatedError, StateTransitionError */
function(e,t,n){"use strict";n.r(t);var r=n(
/*! ./content-type-unsupported.js */
"./node_modules/sip.js/lib/api/exceptions/content-type-unsupported.js");n.d(t,"ContentTypeUnsupportedError",(function(){return r.ContentTypeUnsupportedError}));var o=n(
/*! ./request-pending.js */
"./node_modules/sip.js/lib/api/exceptions/request-pending.js");n.d(t,"RequestPendingError",(function(){return o.RequestPendingError}));var s=n(
/*! ./session-description-handler.js */
"./node_modules/sip.js/lib/api/exceptions/session-description-handler.js");n.d(t,"SessionDescriptionHandlerError",(function(){return s.SessionDescriptionHandlerError}));var i=n(
/*! ./session-terminated.js */
"./node_modules/sip.js/lib/api/exceptions/session-terminated.js");n.d(t,"SessionTerminatedError",(function(){return i.SessionTerminatedError}));var a=n(
/*! ./state-transition.js */
"./node_modules/sip.js/lib/api/exceptions/state-transition.js");n.d(t,"StateTransitionError",(function(){return a.StateTransitionError}))},"./node_modules/sip.js/lib/api/exceptions/request-pending.js":
/*!*******************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/exceptions/request-pending.js ***!
      \*******************************************************************/
/*! exports provided: RequestPendingError */
function(e,t,n){"use strict";n.r(t),n.d(t,"RequestPendingError",(function(){return o}));var r=n(
/*! ../../core/exceptions/exception.js */
"./node_modules/sip.js/lib/core/exceptions/exception.js");class o extends r.Exception{constructor(e){super(e||"Request pending.")}}},"./node_modules/sip.js/lib/api/exceptions/session-description-handler.js":
/*!*******************************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/exceptions/session-description-handler.js ***!
      \*******************************************************************************/
/*! exports provided: SessionDescriptionHandlerError */
function(e,t,n){"use strict";n.r(t),n.d(t,"SessionDescriptionHandlerError",(function(){return o}));var r=n(
/*! ../../core/exceptions/exception.js */
"./node_modules/sip.js/lib/core/exceptions/exception.js");class o extends r.Exception{constructor(e){super(e||"Unspecified session description handler error.")}}},"./node_modules/sip.js/lib/api/exceptions/session-terminated.js":
/*!**********************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/exceptions/session-terminated.js ***!
      \**********************************************************************/
/*! exports provided: SessionTerminatedError */
function(e,t,n){"use strict";n.r(t),n.d(t,"SessionTerminatedError",(function(){return o}));var r=n(
/*! ../../core/exceptions/exception.js */
"./node_modules/sip.js/lib/core/exceptions/exception.js");class o extends r.Exception{constructor(){super("The session has terminated.")}}},"./node_modules/sip.js/lib/api/exceptions/state-transition.js":
/*!********************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/exceptions/state-transition.js ***!
      \********************************************************************/
/*! exports provided: StateTransitionError */
function(e,t,n){"use strict";n.r(t),n.d(t,"StateTransitionError",(function(){return o}));var r=n(
/*! ../../core/exceptions/exception.js */
"./node_modules/sip.js/lib/core/exceptions/exception.js");class o extends r.Exception{constructor(e){super(e||"An error occurred during state transition.")}}},"./node_modules/sip.js/lib/api/index.js":
/*!**********************************************!*\
      !*** ./node_modules/sip.js/lib/api/index.js ***!
      \**********************************************/
/*! exports provided: ContentTypeUnsupportedError, RequestPendingError, SessionDescriptionHandlerError, SessionTerminatedError, StateTransitionError, Ack, Bye, Cancel, EmitterImpl, Info, Invitation, Inviter, Message, Messager, Notification, PublisherState, Publisher, Referral, RegistererState, Registerer, SessionState, Session, Subscriber, SubscriptionState, Subscription, TransportState, SIPExtension, UserAgentRegisteredOptionTags, UserAgentState, UserAgent */
function(e,t,n){"use strict";n.r(t);var r=n(
/*! ./exceptions/index.js */
"./node_modules/sip.js/lib/api/exceptions/index.js");n.d(t,"ContentTypeUnsupportedError",(function(){return r.ContentTypeUnsupportedError})),n.d(t,"RequestPendingError",(function(){return r.RequestPendingError})),n.d(t,"SessionDescriptionHandlerError",(function(){return r.SessionDescriptionHandlerError})),n.d(t,"SessionTerminatedError",(function(){return r.SessionTerminatedError})),n.d(t,"StateTransitionError",(function(){return r.StateTransitionError}));var o=n(
/*! ./ack.js */
"./node_modules/sip.js/lib/api/ack.js");n.d(t,"Ack",(function(){return o.Ack}));var s=n(
/*! ./bye.js */
"./node_modules/sip.js/lib/api/bye.js");n.d(t,"Bye",(function(){return s.Bye}));var i=n(
/*! ./cancel.js */
"./node_modules/sip.js/lib/api/cancel.js");n.d(t,"Cancel",(function(){return i.Cancel}));var a=n(
/*! ./emitter.js */
"./node_modules/sip.js/lib/api/emitter.js");n.d(t,"EmitterImpl",(function(){return a.EmitterImpl}));var l=n(
/*! ./info.js */
"./node_modules/sip.js/lib/api/info.js");n.d(t,"Info",(function(){return l.Info})),n(
/*! ./invitation-accept-options.js */
"./node_modules/sip.js/lib/api/invitation-accept-options.js"),n(
/*! ./invitation-progress-options.js */
"./node_modules/sip.js/lib/api/invitation-progress-options.js"),n(
/*! ./invitation-reject-options.js */
"./node_modules/sip.js/lib/api/invitation-reject-options.js");var c=n(
/*! ./invitation.js */
"./node_modules/sip.js/lib/api/invitation.js");n.d(t,"Invitation",(function(){return c.Invitation})),n(
/*! ./inviter-cancel-options.js */
"./node_modules/sip.js/lib/api/inviter-cancel-options.js"),n(
/*! ./inviter-invite-options.js */
"./node_modules/sip.js/lib/api/inviter-invite-options.js"),n(
/*! ./inviter-options.js */
"./node_modules/sip.js/lib/api/inviter-options.js");var u=n(
/*! ./inviter.js */
"./node_modules/sip.js/lib/api/inviter.js");n.d(t,"Inviter",(function(){return u.Inviter}));var d=n(
/*! ./message.js */
"./node_modules/sip.js/lib/api/message.js");n.d(t,"Message",(function(){return d.Message})),n(
/*! ./messager-message-options.js */
"./node_modules/sip.js/lib/api/messager-message-options.js"),n(
/*! ./messager-options.js */
"./node_modules/sip.js/lib/api/messager-options.js");var p=n(
/*! ./messager.js */
"./node_modules/sip.js/lib/api/messager.js");n.d(t,"Messager",(function(){return p.Messager}));var h=n(
/*! ./notification.js */
"./node_modules/sip.js/lib/api/notification.js");n.d(t,"Notification",(function(){return h.Notification})),n(
/*! ./publisher-options.js */
"./node_modules/sip.js/lib/api/publisher-options.js"),n(
/*! ./publisher-publish-options.js */
"./node_modules/sip.js/lib/api/publisher-publish-options.js");var f=n(
/*! ./publisher-state.js */
"./node_modules/sip.js/lib/api/publisher-state.js");n.d(t,"PublisherState",(function(){return f.PublisherState})),n(
/*! ./publisher-unpublish-options.js */
"./node_modules/sip.js/lib/api/publisher-unpublish-options.js");var g=n(
/*! ./publisher.js */
"./node_modules/sip.js/lib/api/publisher.js");n.d(t,"Publisher",(function(){return g.Publisher}));var m=n(
/*! ./referral.js */
"./node_modules/sip.js/lib/api/referral.js");n.d(t,"Referral",(function(){return m.Referral})),n(
/*! ./registerer-options.js */
"./node_modules/sip.js/lib/api/registerer-options.js"),n(
/*! ./registerer-register-options.js */
"./node_modules/sip.js/lib/api/registerer-register-options.js");var v=n(
/*! ./registerer-state.js */
"./node_modules/sip.js/lib/api/registerer-state.js");n.d(t,"RegistererState",(function(){return v.RegistererState})),n(
/*! ./registerer-unregister-options.js */
"./node_modules/sip.js/lib/api/registerer-unregister-options.js");var b=n(
/*! ./registerer.js */
"./node_modules/sip.js/lib/api/registerer.js");n.d(t,"Registerer",(function(){return b.Registerer})),n(
/*! ./session-bye-options.js */
"./node_modules/sip.js/lib/api/session-bye-options.js"),n(
/*! ./session-delegate.js */
"./node_modules/sip.js/lib/api/session-delegate.js"),n(
/*! ./session-description-handler-factory.js */
"./node_modules/sip.js/lib/api/session-description-handler-factory.js"),n(
/*! ./session-description-handler.js */
"./node_modules/sip.js/lib/api/session-description-handler.js"),n(
/*! ./session-info-options.js */
"./node_modules/sip.js/lib/api/session-info-options.js"),n(
/*! ./session-invite-options.js */
"./node_modules/sip.js/lib/api/session-invite-options.js"),n(
/*! ./session-message-options.js */
"./node_modules/sip.js/lib/api/session-message-options.js"),n(
/*! ./session-options.js */
"./node_modules/sip.js/lib/api/session-options.js"),n(
/*! ./session-refer-options.js */
"./node_modules/sip.js/lib/api/session-refer-options.js");var y=n(
/*! ./session-state.js */
"./node_modules/sip.js/lib/api/session-state.js");n.d(t,"SessionState",(function(){return y.SessionState}));var w=n(
/*! ./session.js */
"./node_modules/sip.js/lib/api/session.js");n.d(t,"Session",(function(){return w.Session})),n(
/*! ./subscriber-options.js */
"./node_modules/sip.js/lib/api/subscriber-options.js"),n(
/*! ./subscriber-subscribe-options.js */
"./node_modules/sip.js/lib/api/subscriber-subscribe-options.js");var S=n(
/*! ./subscriber.js */
"./node_modules/sip.js/lib/api/subscriber.js");n.d(t,"Subscriber",(function(){return S.Subscriber})),n(
/*! ./subscription-delegate.js */
"./node_modules/sip.js/lib/api/subscription-delegate.js"),n(
/*! ./subscription-options.js */
"./node_modules/sip.js/lib/api/subscription-options.js");var C=n(
/*! ./subscription-state.js */
"./node_modules/sip.js/lib/api/subscription-state.js");n.d(t,"SubscriptionState",(function(){return C.SubscriptionState})),n(
/*! ./subscription-subscribe-options.js */
"./node_modules/sip.js/lib/api/subscription-subscribe-options.js"),n(
/*! ./subscription-unsubscribe-options.js */
"./node_modules/sip.js/lib/api/subscription-unsubscribe-options.js");var _=n(
/*! ./subscription.js */
"./node_modules/sip.js/lib/api/subscription.js");n.d(t,"Subscription",(function(){return _.Subscription})),n(
/*! ./transport.js */
"./node_modules/sip.js/lib/api/transport.js");var E=n(
/*! ./transport-state.js */
"./node_modules/sip.js/lib/api/transport-state.js");n.d(t,"TransportState",(function(){return E.TransportState})),n(
/*! ./user-agent-delegate.js */
"./node_modules/sip.js/lib/api/user-agent-delegate.js");var k=n(
/*! ./user-agent-options.js */
"./node_modules/sip.js/lib/api/user-agent-options.js");n.d(t,"SIPExtension",(function(){return k.SIPExtension})),n.d(t,"UserAgentRegisteredOptionTags",(function(){return k.UserAgentRegisteredOptionTags}));var T=n(
/*! ./user-agent-state.js */
"./node_modules/sip.js/lib/api/user-agent-state.js");n.d(t,"UserAgentState",(function(){return T.UserAgentState}));var x=n(
/*! ./user-agent.js */
"./node_modules/sip.js/lib/api/user-agent.js");n.d(t,"UserAgent",(function(){return x.UserAgent}))},"./node_modules/sip.js/lib/api/info.js":
/*!*********************************************!*\
      !*** ./node_modules/sip.js/lib/api/info.js ***!
      \*********************************************/
/*! exports provided: Info */
function(e,t,n){"use strict";n.r(t),n.d(t,"Info",(function(){return r}));class r{constructor(e){this.incomingInfoRequest=e}get request(){return this.incomingInfoRequest.message}accept(e){return this.incomingInfoRequest.accept(e),Promise.resolve()}reject(e){return this.incomingInfoRequest.reject(e),Promise.resolve()}}},"./node_modules/sip.js/lib/api/invitation-accept-options.js":
/*!******************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/invitation-accept-options.js ***!
      \******************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/invitation-progress-options.js":
/*!********************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/invitation-progress-options.js ***!
      \********************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/invitation-reject-options.js":
/*!******************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/invitation-reject-options.js ***!
      \******************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/invitation.js":
/*!***************************************************!*\
      !*** ./node_modules/sip.js/lib/api/invitation.js ***!
      \***************************************************/
/*! exports provided: Invitation */
function(e,t,n){"use strict";n.r(t),n.d(t,"Invitation",(function(){return m}));var r=n(
/*! ../grammar/grammar.js */
"./node_modules/sip.js/lib/grammar/grammar.js"),o=n(
/*! ../core/messages/body.js */
"./node_modules/sip.js/lib/core/messages/body.js"),s=n(
/*! ../core/session/session.js */
"./node_modules/sip.js/lib/core/session/session.js"),i=n(
/*! ../core/timers.js */
"./node_modules/sip.js/lib/core/timers.js"),a=n(
/*! ../core/exceptions/transaction-state-error.js */
"./node_modules/sip.js/lib/core/exceptions/transaction-state-error.js"),l=n(
/*! ../core/messages/utils.js */
"./node_modules/sip.js/lib/core/messages/utils.js"),c=n(
/*! ./cancel.js */
"./node_modules/sip.js/lib/api/cancel.js"),u=n(
/*! ./exceptions/content-type-unsupported.js */
"./node_modules/sip.js/lib/api/exceptions/content-type-unsupported.js"),d=n(
/*! ./exceptions/session-description-handler.js */
"./node_modules/sip.js/lib/api/exceptions/session-description-handler.js"),p=n(
/*! ./exceptions/session-terminated.js */
"./node_modules/sip.js/lib/api/exceptions/session-terminated.js"),h=n(
/*! ./session.js */
"./node_modules/sip.js/lib/api/session.js"),f=n(
/*! ./session-state.js */
"./node_modules/sip.js/lib/api/session-state.js"),g=n(
/*! ./user-agent-options.js */
"./node_modules/sip.js/lib/api/user-agent-options.js");class m extends h.Session{constructor(e,t){super(e),this.incomingInviteRequest=t,this.disposed=!1,this.expiresTimer=void 0,this.isCanceled=!1,this.rel100="none",this.rseq=Math.floor(1e4*Math.random()),this.userNoAnswerTimer=void 0,this.waitingForPrack=!1,this.logger=e.getLogger("sip.Invitation");const n=this.incomingInviteRequest.message,o=n.getHeader("require");o&&o.toLowerCase().includes("100rel")&&(this.rel100="required");const s=n.getHeader("supported");if(s&&s.toLowerCase().includes("100rel")&&(this.rel100="supported"),n.toTag=t.toTag,"string"!=typeof n.toTag)throw new TypeError("toTag should have been a string.");if(this.userNoAnswerTimer=setTimeout((()=>{t.reject({statusCode:480}),this.stateTransition(f.SessionState.Terminated)}),this.userAgent.configuration.noAnswerTimeout?1e3*this.userAgent.configuration.noAnswerTimeout:6e4),n.hasHeader("expires")){const e=1e3*Number(n.getHeader("expires")||0);this.expiresTimer=setTimeout((()=>{this.state===f.SessionState.Initial&&(t.reject({statusCode:487}),this.stateTransition(f.SessionState.Terminated))}),e)}const i=this.request.getHeader("P-Asserted-Identity");i&&(this._assertedIdentity=r.Grammar.nameAddrHeaderParse(i)),this._contact=this.userAgent.contact.toString();const a=n.parseHeader("Content-Disposition");a&&"render"===a.type&&(this._renderbody=n.body,this._rendertype=n.getHeader("Content-Type")),this._id=n.callId+n.fromTag,this.userAgent._sessions[this._id]=this}dispose(){if(this.disposed)return Promise.resolve();switch(this.disposed=!0,this.expiresTimer&&(clearTimeout(this.expiresTimer),this.expiresTimer=void 0),this.userNoAnswerTimer&&(clearTimeout(this.userNoAnswerTimer),this.userNoAnswerTimer=void 0),this.prackNeverArrived(),this.state){case f.SessionState.Initial:case f.SessionState.Establishing:return this.reject().then((()=>super.dispose()));case f.SessionState.Established:case f.SessionState.Terminating:case f.SessionState.Terminated:return super.dispose();default:throw new Error("Unknown state.")}}get autoSendAnInitialProvisionalResponse(){return"required"!==this.rel100&&this.userAgent.configuration.sendInitialProvisionalResponse}get body(){return this.incomingInviteRequest.message.body}get localIdentity(){return this.request.to}get remoteIdentity(){return this.request.from}get request(){return this.incomingInviteRequest.message}accept(e={}){if(this.logger.log("Invitation.accept"),this.state!==f.SessionState.Initial){const e=new Error(`Invalid session state ${this.state}`);return this.logger.error(e.message),Promise.reject(e)}return e.sessionDescriptionHandlerModifiers&&(this.sessionDescriptionHandlerModifiers=e.sessionDescriptionHandlerModifiers),e.sessionDescriptionHandlerOptions&&(this.sessionDescriptionHandlerOptions=e.sessionDescriptionHandlerOptions),this.stateTransition(f.SessionState.Establishing),this.sendAccept(e).then((({message:e,session:t})=>{t.delegate={onAck:e=>this.onAckRequest(e),onAckTimeout:()=>this.onAckTimeout(),onBye:e=>this.onByeRequest(e),onInfo:e=>this.onInfoRequest(e),onInvite:e=>this.onInviteRequest(e),onMessage:e=>this.onMessageRequest(e),onNotify:e=>this.onNotifyRequest(e),onPrack:e=>this.onPrackRequest(e),onRefer:e=>this.onReferRequest(e)},this._dialog=t,this.stateTransition(f.SessionState.Established),this._replacee&&this._replacee._bye()})).catch((e=>this.handleResponseError(e)))}progress(e={}){if(this.logger.log("Invitation.progress"),this.state!==f.SessionState.Initial){const e=new Error(`Invalid session state ${this.state}`);return this.logger.error(e.message),Promise.reject(e)}const t=e.statusCode||180;if(t<100||t>199)throw new TypeError("Invalid statusCode: "+t);return e.sessionDescriptionHandlerModifiers&&(this.sessionDescriptionHandlerModifiers=e.sessionDescriptionHandlerModifiers),e.sessionDescriptionHandlerOptions&&(this.sessionDescriptionHandlerOptions=e.sessionDescriptionHandlerOptions),this.waitingForPrack?(this.logger.warn("Unexpected call for progress while waiting for prack, ignoring"),Promise.resolve()):100===e.statusCode?this.sendProgressTrying().then((()=>{})).catch((e=>this.handleResponseError(e))):"required"===this.rel100||"supported"===this.rel100&&e.rel100||"supported"===this.rel100&&this.userAgent.configuration.sipExtension100rel===g.SIPExtension.Required?this.sendProgressReliableWaitForPrack(e).then((()=>{})).catch((e=>this.handleResponseError(e))):this.sendProgress(e).then((()=>{})).catch((e=>this.handleResponseError(e)))}reject(e={}){if(this.logger.log("Invitation.reject"),this.state!==f.SessionState.Initial&&this.state!==f.SessionState.Establishing){const e=new Error(`Invalid session state ${this.state}`);return this.logger.error(e.message),Promise.reject(e)}const t=e.statusCode||480,n=e.reasonPhrase?e.reasonPhrase:Object(l.getReasonPhrase)(t),r=e.extraHeaders||[];if(t<300||t>699)throw new TypeError("Invalid statusCode: "+t);const s=e.body?Object(o.fromBodyLegacy)(e.body):void 0;return t<400?this.incomingInviteRequest.redirect([],{statusCode:t,reasonPhrase:n,extraHeaders:r,body:s}):this.incomingInviteRequest.reject({statusCode:t,reasonPhrase:n,extraHeaders:r,body:s}),this.stateTransition(f.SessionState.Terminated),Promise.resolve()}_onCancel(e){if(this.logger.log("Invitation._onCancel"),this.state===f.SessionState.Initial||this.state===f.SessionState.Establishing){if(this.delegate&&this.delegate.onCancel){const t=new c.Cancel(e);this.delegate.onCancel(t)}this.isCanceled=!0,this.incomingInviteRequest.reject({statusCode:487}),this.stateTransition(f.SessionState.Terminated)}else this.logger.error(`CANCEL received while in state ${this.state}, dropping request`)}handlePrackOfferAnswer(e){if(!this.dialog)throw new Error("Dialog undefined.");const t=Object(o.getBody)(e.message);if(!t||"session"!==t.contentDisposition)return Promise.resolve(void 0);const n={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers};switch(this.dialog.signalingState){case s.SignalingState.Initial:throw new Error(`Invalid signaling state ${this.dialog.signalingState}.`);case s.SignalingState.Stable:return this.setAnswer(t,n).then((()=>{}));case s.SignalingState.HaveLocalOffer:throw new Error(`Invalid signaling state ${this.dialog.signalingState}.`);case s.SignalingState.HaveRemoteOffer:return this.setOfferAndGetAnswer(t,n);case s.SignalingState.Closed:default:throw new Error(`Invalid signaling state ${this.dialog.signalingState}.`)}}handleResponseError(e){let t=480;if(e instanceof Error?this.logger.error(e.message):this.logger.error(e),e instanceof u.ContentTypeUnsupportedError?(this.logger.error("A session description handler occurred while sending response (content type unsupported"),t=415):e instanceof d.SessionDescriptionHandlerError?this.logger.error("A session description handler occurred while sending response"):e instanceof p.SessionTerminatedError?this.logger.error("Session ended before response could be formulated and sent (while waiting for PRACK)"):e instanceof a.TransactionStateError&&this.logger.error("Session changed state before response could be formulated and sent"),this.state===f.SessionState.Initial||this.state===f.SessionState.Establishing)try{this.incomingInviteRequest.reject({statusCode:t}),this.stateTransition(f.SessionState.Terminated)}catch(e){throw this.logger.error("An error occurred attempting to reject the request while handling another error"),e}if(!this.isCanceled)throw e;this.logger.warn("An error occurred while attempting to formulate and send a response to an incoming INVITE. However a CANCEL was received and processed while doing so which can (and often does) result in errors occurring as the session terminates in the meantime. Said error is being ignored.")}onAckTimeout(){if(this.logger.log("Invitation.onAckTimeout"),!this.dialog)throw new Error("Dialog undefined.");this.logger.log("No ACK received for an extended period of time, terminating session"),this.dialog.bye(),this.stateTransition(f.SessionState.Terminated)}sendAccept(e={}){const t={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers},n=e.extraHeaders||[];return this.waitingForPrack?this.waitForArrivalOfPrack().then((()=>clearTimeout(this.userNoAnswerTimer))).then((()=>this.generateResponseOfferAnswer(this.incomingInviteRequest,t))).then((e=>this.incomingInviteRequest.accept({statusCode:200,body:e,extraHeaders:n}))):(clearTimeout(this.userNoAnswerTimer),this.generateResponseOfferAnswer(this.incomingInviteRequest,t).then((e=>this.incomingInviteRequest.accept({statusCode:200,body:e,extraHeaders:n}))))}sendProgress(e={}){const t=e.statusCode||180,n=e.reasonPhrase,r=(e.extraHeaders||[]).slice(),s=e.body?Object(o.fromBodyLegacy)(e.body):void 0;if(183===t&&!s)return this.sendProgressWithSDP(e);try{const e=this.incomingInviteRequest.progress({statusCode:t,reasonPhrase:n,extraHeaders:r,body:s});return this._dialog=e.session,Promise.resolve(e)}catch(e){return Promise.reject(e)}}sendProgressWithSDP(e={}){const t={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers},n=e.statusCode||183,r=e.reasonPhrase,o=(e.extraHeaders||[]).slice();return this.generateResponseOfferAnswer(this.incomingInviteRequest,t).then((e=>this.incomingInviteRequest.progress({statusCode:n,reasonPhrase:r,extraHeaders:o,body:e}))).then((e=>(this._dialog=e.session,e)))}sendProgressReliable(e={}){return e.extraHeaders=(e.extraHeaders||[]).slice(),e.extraHeaders.push("Require: 100rel"),e.extraHeaders.push("RSeq: "+Math.floor(1e4*Math.random())),this.sendProgressWithSDP(e)}sendProgressReliableWaitForPrack(e={}){const t={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers},n=e.statusCode||183,r=e.reasonPhrase,o=(e.extraHeaders||[]).slice();let s;return o.push("Require: 100rel"),o.push("RSeq: "+this.rseq++),new Promise(((e,a)=>{this.waitingForPrack=!0,this.generateResponseOfferAnswer(this.incomingInviteRequest,t).then((e=>(s=e,this.incomingInviteRequest.progress({statusCode:n,reasonPhrase:r,extraHeaders:o,body:s})))).then((t=>{let l,c;this._dialog=t.session,t.session.delegate={onPrack:n=>{l=n,clearTimeout(u),clearTimeout(f),this.waitingForPrack&&(this.waitingForPrack=!1,this.handlePrackOfferAnswer(l).then((n=>{try{c=l.accept({statusCode:200,body:n}),this.prackArrived(),e({prackRequest:l,prackResponse:c,progressResponse:t})}catch(e){a(e)}})).catch((e=>a(e))))}};const u=setTimeout((()=>{this.waitingForPrack&&(this.waitingForPrack=!1,this.logger.warn("No PRACK received, rejecting INVITE."),clearTimeout(f),this.reject({statusCode:504}).then((()=>a(new p.SessionTerminatedError))).catch((e=>a(e))))}),64*i.Timers.T1),d=()=>{try{this.incomingInviteRequest.progress({statusCode:n,reasonPhrase:r,extraHeaders:o,body:s})}catch(e){return this.waitingForPrack=!1,void a(e)}f=setTimeout(d,h*=2)};let h=i.Timers.T1,f=setTimeout(d,h)})).catch((e=>{this.waitingForPrack=!1,a(e)}))}))}sendProgressTrying(){try{const e=this.incomingInviteRequest.trying();return Promise.resolve(e)}catch(e){return Promise.reject(e)}}waitForArrivalOfPrack(){if(this.waitingForPrackPromise)throw new Error("Already waiting for PRACK");return this.waitingForPrackPromise=new Promise(((e,t)=>{this.waitingForPrackResolve=e,this.waitingForPrackReject=t})),this.waitingForPrackPromise}prackArrived(){this.waitingForPrackResolve&&this.waitingForPrackResolve(),this.waitingForPrackPromise=void 0,this.waitingForPrackResolve=void 0,this.waitingForPrackReject=void 0}prackNeverArrived(){this.waitingForPrackReject&&this.waitingForPrackReject(new p.SessionTerminatedError),this.waitingForPrackPromise=void 0,this.waitingForPrackResolve=void 0,this.waitingForPrackReject=void 0}}},"./node_modules/sip.js/lib/api/inviter-cancel-options.js":
/*!***************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/inviter-cancel-options.js ***!
      \***************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/inviter-invite-options.js":
/*!***************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/inviter-invite-options.js ***!
      \***************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/inviter-options.js":
/*!********************************************************!*\
      !*** ./node_modules/sip.js/lib/api/inviter-options.js ***!
      \********************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/inviter.js":
/*!************************************************!*\
      !*** ./node_modules/sip.js/lib/api/inviter.js ***!
      \************************************************/
/*! exports provided: Inviter */
function(e,t,n){"use strict";n.r(t),n.d(t,"Inviter",(function(){return u}));var r=n(
/*! ../grammar/grammar.js */
"./node_modules/sip.js/lib/grammar/grammar.js"),o=n(
/*! ../core/messages/methods/constants.js */
"./node_modules/sip.js/lib/core/messages/methods/constants.js"),s=n(
/*! ../core/session/session.js */
"./node_modules/sip.js/lib/core/session/session.js"),i=n(
/*! ../core/messages/utils.js */
"./node_modules/sip.js/lib/core/messages/utils.js"),a=n(
/*! ./session.js */
"./node_modules/sip.js/lib/api/session.js"),l=n(
/*! ./session-state.js */
"./node_modules/sip.js/lib/api/session-state.js"),c=n(
/*! ./user-agent-options.js */
"./node_modules/sip.js/lib/api/user-agent-options.js");class u extends a.Session{constructor(e,t,n={}){super(e,n),this.disposed=!1,this.earlyMedia=!1,this.earlyMediaSessionDescriptionHandlers=new Map,this.isCanceled=!1,this.inviteWithoutSdp=!1,this.logger=e.getLogger("sip.Inviter"),this.earlyMedia=void 0!==n.earlyMedia?n.earlyMedia:this.earlyMedia,this.fromTag=Object(i.newTag)(),this.inviteWithoutSdp=void 0!==n.inviteWithoutSdp?n.inviteWithoutSdp:this.inviteWithoutSdp;const s=Object.assign({},n);s.params=Object.assign({},n.params);const a=n.anonymous||!1,l=e.contact.toString({anonymous:a,outbound:a?!e.contact.tempGruu:!e.contact.pubGruu});a&&e.configuration.uri&&(s.params.fromDisplayName="Anonymous",s.params.fromUri="sip:anonymous@anonymous.invalid");let u=e.userAgentCore.configuration.aor;if(s.params.fromUri&&(u="string"==typeof s.params.fromUri?r.Grammar.URIParse(s.params.fromUri):s.params.fromUri),!u)throw new TypeError("Invalid from URI: "+s.params.fromUri);let d=t;if(s.params.toUri&&(d="string"==typeof s.params.toUri?r.Grammar.URIParse(s.params.toUri):s.params.toUri),!d)throw new TypeError("Invalid to URI: "+s.params.toUri);const p=Object.assign({},s.params);p.fromTag=this.fromTag;const h=(s.extraHeaders||[]).slice();a&&e.configuration.uri&&(h.push("P-Preferred-Identity: "+e.configuration.uri.toString()),h.push("Privacy: id")),h.push("Contact: "+l),h.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),e.configuration.sipExtension100rel===c.SIPExtension.Required&&h.push("Require: 100rel"),e.configuration.sipExtensionReplaces===c.SIPExtension.Required&&h.push("Require: replaces"),s.extraHeaders=h,this.outgoingRequestMessage=e.userAgentCore.makeOutgoingRequestMessage(o.C.INVITE,t,u,d,p,h,void 0),this._contact=l,this._referralInviterOptions=s,this._renderbody=n.renderbody,this._rendertype=n.rendertype,n.sessionDescriptionHandlerModifiers&&(this.sessionDescriptionHandlerModifiers=n.sessionDescriptionHandlerModifiers),n.sessionDescriptionHandlerOptions&&(this.sessionDescriptionHandlerOptions=n.sessionDescriptionHandlerOptions),n.sessionDescriptionHandlerModifiersReInvite&&(this.sessionDescriptionHandlerModifiersReInvite=n.sessionDescriptionHandlerModifiersReInvite),n.sessionDescriptionHandlerOptionsReInvite&&(this.sessionDescriptionHandlerOptionsReInvite=n.sessionDescriptionHandlerOptionsReInvite),this._id=this.outgoingRequestMessage.callId+this.fromTag,this.userAgent._sessions[this._id]=this}dispose(){if(this.disposed)return Promise.resolve();switch(this.disposed=!0,this.disposeEarlyMedia(),this.state){case l.SessionState.Initial:case l.SessionState.Establishing:return this.cancel().then((()=>super.dispose()));case l.SessionState.Established:case l.SessionState.Terminating:case l.SessionState.Terminated:return super.dispose();default:throw new Error("Unknown state.")}}get body(){return this.outgoingRequestMessage.body}get localIdentity(){return this.outgoingRequestMessage.from}get remoteIdentity(){return this.outgoingRequestMessage.to}get request(){return this.outgoingRequestMessage}cancel(e={}){if(this.logger.log("Inviter.cancel"),this.state!==l.SessionState.Initial&&this.state!==l.SessionState.Establishing){const e=new Error(`Invalid session state ${this.state}`);return this.logger.error(e.message),Promise.reject(e)}if(this.isCanceled=!0,this.stateTransition(l.SessionState.Terminating),this.outgoingInviteRequest){let t;e.statusCode&&e.reasonPhrase&&(t=function(e,t){if(e&&e<200||e>699)throw new TypeError("Invalid statusCode: "+e);if(e)return"SIP;cause="+e+';text="'+(Object(i.getReasonPhrase)(e)||t)+'"'}(e.statusCode,e.reasonPhrase)),this.outgoingInviteRequest.cancel(t,e)}else this.logger.warn("Canceled session before INVITE was sent"),this.stateTransition(l.SessionState.Terminated);return Promise.resolve()}invite(e={}){if(this.logger.log("Inviter.invite"),this.state!==l.SessionState.Initial)return super.invite(e);if(e.sessionDescriptionHandlerModifiers&&(this.sessionDescriptionHandlerModifiers=e.sessionDescriptionHandlerModifiers),e.sessionDescriptionHandlerOptions&&(this.sessionDescriptionHandlerOptions=e.sessionDescriptionHandlerOptions),e.withoutSdp||this.inviteWithoutSdp)return this._renderbody&&this._rendertype&&(this.outgoingRequestMessage.body={contentType:this._rendertype,body:this._renderbody}),this.stateTransition(l.SessionState.Establishing),Promise.resolve(this.sendInvite(e));const t={sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers,sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions};return this.getOffer(t).then((t=>(this.outgoingRequestMessage.body={body:t.content,contentType:t.contentType},this.stateTransition(l.SessionState.Establishing),this.sendInvite(e)))).catch((e=>{throw this.logger.log(e.message),this.state!==l.SessionState.Terminated&&this.stateTransition(l.SessionState.Terminated),e}))}sendInvite(e={}){return this.outgoingInviteRequest=this.userAgent.userAgentCore.invite(this.outgoingRequestMessage,{onAccept:t=>this.dialog?(this.logger.log("Additional confirmed dialog, sending ACK and BYE"),void this.ackAndBye(t)):this.isCanceled?(this.logger.log("Canceled session accepted, sending ACK and BYE"),this.ackAndBye(t),void this.stateTransition(l.SessionState.Terminated)):(this.notifyReferer(t),void this.onAccept(t).then((()=>{this.disposeEarlyMedia()})).catch((()=>{this.disposeEarlyMedia()})).then((()=>{e.requestDelegate&&e.requestDelegate.onAccept&&e.requestDelegate.onAccept(t)}))),onProgress:t=>{this.isCanceled||(this.notifyReferer(t),this.onProgress(t).catch((()=>{this.disposeEarlyMedia()})).then((()=>{e.requestDelegate&&e.requestDelegate.onProgress&&e.requestDelegate.onProgress(t)})))},onRedirect:t=>{this.notifyReferer(t),this.onRedirect(t),e.requestDelegate&&e.requestDelegate.onRedirect&&e.requestDelegate.onRedirect(t)},onReject:t=>{this.notifyReferer(t),this.onReject(t),e.requestDelegate&&e.requestDelegate.onReject&&e.requestDelegate.onReject(t)},onTrying:t=>{this.notifyReferer(t),this.onTrying(t),e.requestDelegate&&e.requestDelegate.onTrying&&e.requestDelegate.onTrying(t)}}),this.outgoingInviteRequest}disposeEarlyMedia(){this.earlyMediaSessionDescriptionHandlers.forEach((e=>{e.close()})),this.earlyMediaSessionDescriptionHandlers.clear()}notifyReferer(e){if(!this._referred)return;if(!(this._referred instanceof a.Session))throw new Error("Referred session not instance of session");if(!this._referred.dialog)return;if(!e.message.statusCode)throw new Error("Status code undefined.");if(!e.message.reasonPhrase)throw new Error("Reason phrase undefined.");const t=`SIP/2.0 ${e.message.statusCode} ${e.message.reasonPhrase}`.trim();this._referred.dialog.notify(void 0,{extraHeaders:["Event: refer","Subscription-State: terminated"],body:{contentDisposition:"render",contentType:"message/sipfrag",content:t}}).delegate={onReject:()=>{this._referred=void 0}}}onAccept(e){if(this.logger.log("Inviter.onAccept"),this.state!==l.SessionState.Establishing)return this.logger.error(`Accept received while in state ${this.state}, dropping response`),Promise.reject(new Error(`Invalid session state ${this.state}`));const t=e.message,n=e.session;switch(t.hasHeader("P-Asserted-Identity")&&(this._assertedIdentity=r.Grammar.nameAddrHeaderParse(t.getHeader("P-Asserted-Identity"))),n.delegate={onAck:e=>this.onAckRequest(e),onBye:e=>this.onByeRequest(e),onInfo:e=>this.onInfoRequest(e),onInvite:e=>this.onInviteRequest(e),onMessage:e=>this.onMessageRequest(e),onNotify:e=>this.onNotifyRequest(e),onPrack:e=>this.onPrackRequest(e),onRefer:e=>this.onReferRequest(e)},this._dialog=n,n.signalingState){case s.SignalingState.Initial:case s.SignalingState.HaveLocalOffer:return this.logger.error("Received 2xx response to INVITE without a session description"),this.ackAndBye(e,400,"Missing session description"),this.stateTransition(l.SessionState.Terminated),Promise.reject(new Error("Bad Media Description"));case s.SignalingState.HaveRemoteOffer:{if(!this._dialog.offer)throw new Error(`Session offer undefined in signaling state ${this._dialog.signalingState}.`);const t={sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers,sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions};return this.setOfferAndGetAnswer(this._dialog.offer,t).then((t=>{e.ack({body:t}),this.stateTransition(l.SessionState.Established)})).catch((t=>{throw this.ackAndBye(e,488,"Invalid session description"),this.stateTransition(l.SessionState.Terminated),t}))}case s.SignalingState.Stable:{if(this.earlyMediaSessionDescriptionHandlers.size>0){const t=this.earlyMediaSessionDescriptionHandlers.get(n.id);if(!t)throw new Error("Session description handler undefined.");return this.setSessionDescriptionHandler(t),this.earlyMediaSessionDescriptionHandlers.delete(n.id),e.ack(),this.stateTransition(l.SessionState.Established),Promise.resolve()}if(this.earlyMediaDialog){if(this.earlyMediaDialog!==n){if(this.earlyMedia){const e="You have set the 'earlyMedia' option to 'true' which requires that your INVITE requests do not fork and yet this INVITE request did in fact fork. Consequentially and not surprisingly the end point which accepted the INVITE (confirmed dialog) does not match the end point with which early media has been setup (early dialog) and thus this session is unable to proceed. In accordance with the SIP specifications, the SIP servers your end point is connected to determine if an INVITE forks and the forking behavior of those servers cannot be controlled by this library. If you wish to use early media with this library you must configure those servers accordingly. Alternatively you may set the 'earlyMedia' to 'false' which will allow this library to function with any INVITE requests which do fork.";this.logger.error(e)}const t=new Error("Early media dialog does not equal confirmed dialog, terminating session");return this.logger.error(t.message),this.ackAndBye(e,488,"Not Acceptable Here"),this.stateTransition(l.SessionState.Terminated),Promise.reject(t)}return e.ack(),this.stateTransition(l.SessionState.Established),Promise.resolve()}const t=n.answer;if(!t)throw new Error("Answer is undefined.");const r={sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers,sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions};return this.setAnswer(t,r).then((()=>{let t;this._renderbody&&this._rendertype&&(t={body:{contentDisposition:"render",contentType:this._rendertype,content:this._renderbody}}),e.ack(t),this.stateTransition(l.SessionState.Established)})).catch((t=>{throw this.logger.error(t.message),this.ackAndBye(e,488,"Not Acceptable Here"),this.stateTransition(l.SessionState.Terminated),t}))}case s.SignalingState.Closed:return Promise.reject(new Error("Terminated."));default:throw new Error("Unknown session signaling state.")}}onProgress(e){var t;if(this.logger.log("Inviter.onProgress"),this.state!==l.SessionState.Establishing)return this.logger.error(`Progress received while in state ${this.state}, dropping response`),Promise.reject(new Error(`Invalid session state ${this.state}`));if(!this.outgoingInviteRequest)throw new Error("Outgoing INVITE request undefined.");const n=e.message,o=e.session;n.hasHeader("P-Asserted-Identity")&&(this._assertedIdentity=r.Grammar.nameAddrHeaderParse(n.getHeader("P-Asserted-Identity")));const i=n.getHeader("require"),a=n.getHeader("rseq"),c=!!(i&&i.includes("100rel")&&a?Number(a):void 0),u=[];switch(c&&u.push("RAck: "+n.getHeader("rseq")+" "+n.getHeader("cseq")),o.signalingState){case s.SignalingState.Initial:return c&&(this.logger.warn("First reliable provisional response received MUST contain an offer when INVITE does not contain an offer."),e.prack({extraHeaders:u})),Promise.resolve();case s.SignalingState.HaveLocalOffer:return c&&e.prack({extraHeaders:u}),Promise.resolve();case s.SignalingState.HaveRemoteOffer:if(!c)return this.logger.warn("Non-reliable provisional response MUST NOT contain an initial offer, discarding response."),Promise.resolve();{const r=this.sessionDescriptionHandlerFactory(this,this.userAgent.configuration.sessionDescriptionHandlerFactoryOptions||{});return(null===(t=this.delegate)||void 0===t?void 0:t.onSessionDescriptionHandler)&&this.delegate.onSessionDescriptionHandler(r,!0),this.earlyMediaSessionDescriptionHandlers.set(o.id,r),r.setDescription(n.body,this.sessionDescriptionHandlerOptions,this.sessionDescriptionHandlerModifiers).then((()=>r.getDescription(this.sessionDescriptionHandlerOptions,this.sessionDescriptionHandlerModifiers))).then((t=>{const n={contentDisposition:"session",contentType:t.contentType,content:t.body};e.prack({extraHeaders:u,body:n})})).catch((e=>{throw this.stateTransition(l.SessionState.Terminated),e}))}case s.SignalingState.Stable:if(c&&e.prack({extraHeaders:u}),this.earlyMedia&&!this.earlyMediaDialog){this.earlyMediaDialog=o;const e=o.answer;if(!e)throw new Error("Answer is undefined.");const t={sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers,sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions};return this.setAnswer(e,t).catch((e=>{throw this.stateTransition(l.SessionState.Terminated),e}))}return Promise.resolve();case s.SignalingState.Closed:return Promise.reject(new Error("Terminated."));default:throw new Error("Unknown session signaling state.")}}onRedirect(e){this.logger.log("Inviter.onRedirect"),this.state===l.SessionState.Establishing||this.state===l.SessionState.Terminating?this.stateTransition(l.SessionState.Terminated):this.logger.error(`Redirect received while in state ${this.state}, dropping response`)}onReject(e){this.logger.log("Inviter.onReject"),this.state===l.SessionState.Establishing||this.state===l.SessionState.Terminating?this.stateTransition(l.SessionState.Terminated):this.logger.error(`Reject received while in state ${this.state}, dropping response`)}onTrying(e){this.logger.log("Inviter.onTrying"),this.state===l.SessionState.Establishing||this.logger.error(`Trying received while in state ${this.state}, dropping response`)}}},"./node_modules/sip.js/lib/api/message.js":
/*!************************************************!*\
      !*** ./node_modules/sip.js/lib/api/message.js ***!
      \************************************************/
/*! exports provided: Message */
function(e,t,n){"use strict";n.r(t),n.d(t,"Message",(function(){return r}));class r{constructor(e){this.incomingMessageRequest=e}get request(){return this.incomingMessageRequest.message}accept(e){return this.incomingMessageRequest.accept(e),Promise.resolve()}reject(e){return this.incomingMessageRequest.reject(e),Promise.resolve()}}},"./node_modules/sip.js/lib/api/messager-message-options.js":
/*!*****************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/messager-message-options.js ***!
      \*****************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/messager-options.js":
/*!*********************************************************!*\
      !*** ./node_modules/sip.js/lib/api/messager-options.js ***!
      \*********************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/messager.js":
/*!*************************************************!*\
      !*** ./node_modules/sip.js/lib/api/messager.js ***!
      \*************************************************/
/*! exports provided: Messager */
function(e,t,n){"use strict";n.r(t),n.d(t,"Messager",(function(){return s}));var r=n(
/*! ../grammar/grammar.js */
"./node_modules/sip.js/lib/grammar/grammar.js"),o=n(
/*! ../core/messages/methods/constants.js */
"./node_modules/sip.js/lib/core/messages/methods/constants.js");class s{constructor(e,t,n,s="text/plain",i={}){this.logger=e.getLogger("sip.Messager"),i.params=i.params||{};let a=e.userAgentCore.configuration.aor;if(i.params.fromUri&&(a="string"==typeof i.params.fromUri?r.Grammar.URIParse(i.params.fromUri):i.params.fromUri),!a)throw new TypeError("Invalid from URI: "+i.params.fromUri);let l=t;if(i.params.toUri&&(l="string"==typeof i.params.toUri?r.Grammar.URIParse(i.params.toUri):i.params.toUri),!l)throw new TypeError("Invalid to URI: "+i.params.toUri);const c=i.params?Object.assign({},i.params):{},u=(i.extraHeaders||[]).slice(),d={contentDisposition:"render",contentType:s,content:n};this.request=e.userAgentCore.makeOutgoingRequestMessage(o.C.MESSAGE,t,a,l,c,u,d),this.userAgent=e}message(e={}){return this.userAgent.userAgentCore.request(this.request,e.requestDelegate),Promise.resolve()}}},"./node_modules/sip.js/lib/api/notification.js":
/*!*****************************************************!*\
      !*** ./node_modules/sip.js/lib/api/notification.js ***!
      \*****************************************************/
/*! exports provided: Notification */
function(e,t,n){"use strict";n.r(t),n.d(t,"Notification",(function(){return r}));class r{constructor(e){this.incomingNotifyRequest=e}get request(){return this.incomingNotifyRequest.message}accept(e){return this.incomingNotifyRequest.accept(e),Promise.resolve()}reject(e){return this.incomingNotifyRequest.reject(e),Promise.resolve()}}},"./node_modules/sip.js/lib/api/publisher-options.js":
/*!**********************************************************!*\
      !*** ./node_modules/sip.js/lib/api/publisher-options.js ***!
      \**********************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/publisher-publish-options.js":
/*!******************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/publisher-publish-options.js ***!
      \******************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/publisher-state.js":
/*!********************************************************!*\
      !*** ./node_modules/sip.js/lib/api/publisher-state.js ***!
      \********************************************************/
/*! exports provided: PublisherState */
function(e,t,n){"use strict";var r;n.r(t),n.d(t,"PublisherState",(function(){return r})),function(e){e.Initial="Initial",e.Published="Published",e.Unpublished="Unpublished",e.Terminated="Terminated"}(r=r||(r={}))},"./node_modules/sip.js/lib/api/publisher-unpublish-options.js":
/*!********************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/publisher-unpublish-options.js ***!
      \********************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/publisher.js":
/*!**************************************************!*\
      !*** ./node_modules/sip.js/lib/api/publisher.js ***!
      \**************************************************/
/*! exports provided: Publisher */
function(e,t,n){"use strict";n.r(t),n.d(t,"Publisher",(function(){return a}));var r=n(
/*! ../core/messages/body.js */
"./node_modules/sip.js/lib/core/messages/body.js"),o=n(
/*! ../core/messages/methods/constants.js */
"./node_modules/sip.js/lib/core/messages/methods/constants.js"),s=n(
/*! ./emitter.js */
"./node_modules/sip.js/lib/api/emitter.js"),i=n(
/*! ./publisher-state.js */
"./node_modules/sip.js/lib/api/publisher-state.js");class a{constructor(e,t,n,r={}){this.disposed=!1,this._state=i.PublisherState.Initial,this._stateEventEmitter=new s.EmitterImpl,this.userAgent=e,r.extraHeaders=(r.extraHeaders||[]).slice(),r.contentType=r.contentType||"text/plain","number"!=typeof r.expires||r.expires%1!=0?r.expires=3600:r.expires=Number(r.expires),"boolean"!=typeof r.unpublishOnClose&&(r.unpublishOnClose=!0),this.target=t,this.event=n,this.options=r,this.pubRequestExpires=r.expires,this.logger=e.getLogger("sip.Publisher");const a=r.params||{},l=a.fromUri?a.fromUri:e.userAgentCore.configuration.aor,c=a.toUri?a.toUri:t;let u;r.body&&r.contentType&&(u={contentDisposition:"render",contentType:r.contentType,content:r.body});const d=(r.extraHeaders||[]).slice();this.request=e.userAgentCore.makeOutgoingRequestMessage(o.C.PUBLISH,t,l,c,a,d,u),this.id=this.target.toString()+":"+this.event,this.userAgent._publishers[this.id]=this}dispose(){return this.disposed?Promise.resolve():(this.disposed=!0,this.logger.log(`Publisher ${this.id} in state ${this.state} is being disposed`),delete this.userAgent._publishers[this.id],this.options.unpublishOnClose&&this.state===i.PublisherState.Published?this.unpublish():(this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.pubRequestBody=void 0,this.pubRequestExpires=0,this.pubRequestEtag=void 0,Promise.resolve()))}get state(){return this._state}get stateChange(){return this._stateEventEmitter}publish(e,t={}){if(this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.options.body=e,this.pubRequestBody=this.options.body,0===this.pubRequestExpires){if(void 0===this.options.expires)throw new Error("Expires undefined.");this.pubRequestExpires=this.options.expires,this.pubRequestEtag=void 0}return this.sendPublishRequest(),Promise.resolve()}unpublish(e={}){return this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.pubRequestBody=void 0,this.pubRequestExpires=0,void 0!==this.pubRequestEtag&&this.sendPublishRequest(),Promise.resolve()}receiveResponse(e){const t=e.statusCode||0;switch(!0){case/^1[0-9]{2}$/.test(t.toString()):break;case/^2[0-9]{2}$/.test(t.toString()):if(e.hasHeader("SIP-ETag")?this.pubRequestEtag=e.getHeader("SIP-ETag"):this.logger.warn("SIP-ETag header missing in a 200-class response to PUBLISH"),e.hasHeader("Expires")){const t=Number(e.getHeader("Expires"));"number"==typeof t&&t>=0&&t<=this.pubRequestExpires?this.pubRequestExpires=t:this.logger.warn("Bad Expires header in a 200-class response to PUBLISH")}else this.logger.warn("Expires header missing in a 200-class response to PUBLISH");0!==this.pubRequestExpires?(this.publishRefreshTimer=setTimeout((()=>this.refreshRequest()),900*this.pubRequestExpires),this._state!==i.PublisherState.Published&&this.stateTransition(i.PublisherState.Published)):this.stateTransition(i.PublisherState.Unpublished);break;case/^412$/.test(t.toString()):if(void 0!==this.pubRequestEtag&&0!==this.pubRequestExpires){if(this.logger.warn("412 response to PUBLISH, recovering"),this.pubRequestEtag=void 0,void 0===this.options.body)throw new Error("Body undefined.");this.publish(this.options.body)}else this.logger.warn("412 response to PUBLISH, recovery failed"),this.pubRequestExpires=0,this.stateTransition(i.PublisherState.Unpublished),this.stateTransition(i.PublisherState.Terminated);break;case/^423$/.test(t.toString()):if(0!==this.pubRequestExpires&&e.hasHeader("Min-Expires")){const t=Number(e.getHeader("Min-Expires"));if("number"==typeof t||t>this.pubRequestExpires){if(this.logger.warn("423 code in response to PUBLISH, adjusting the Expires value and trying to recover"),this.pubRequestExpires=t,void 0===this.options.body)throw new Error("Body undefined.");this.publish(this.options.body)}else this.logger.warn("Bad 423 response Min-Expires header received for PUBLISH"),this.pubRequestExpires=0,this.stateTransition(i.PublisherState.Unpublished),this.stateTransition(i.PublisherState.Terminated)}else this.logger.warn("423 response to PUBLISH, recovery failed"),this.pubRequestExpires=0,this.stateTransition(i.PublisherState.Unpublished),this.stateTransition(i.PublisherState.Terminated);break;default:this.pubRequestExpires=0,this.stateTransition(i.PublisherState.Unpublished),this.stateTransition(i.PublisherState.Terminated)}0===this.pubRequestExpires&&(this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.pubRequestBody=void 0,this.pubRequestEtag=void 0)}send(){return this.userAgent.userAgentCore.publish(this.request,{onAccept:e=>this.receiveResponse(e.message),onProgress:e=>this.receiveResponse(e.message),onRedirect:e=>this.receiveResponse(e.message),onReject:e=>this.receiveResponse(e.message),onTrying:e=>this.receiveResponse(e.message)})}refreshRequest(){if(this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.pubRequestBody=void 0,void 0===this.pubRequestEtag)throw new Error("Etag undefined");if(0===this.pubRequestExpires)throw new Error("Expires zero");this.sendPublishRequest()}sendPublishRequest(){const e=Object.assign({},this.options);e.extraHeaders=(this.options.extraHeaders||[]).slice(),e.extraHeaders.push("Event: "+this.event),e.extraHeaders.push("Expires: "+this.pubRequestExpires),void 0!==this.pubRequestEtag&&e.extraHeaders.push("SIP-If-Match: "+this.pubRequestEtag);const t=this.target,n=this.options.params||{};let s,i;if(void 0!==this.pubRequestBody){if(void 0===this.options.contentType)throw new Error("Content type undefined.");s={body:this.pubRequestBody,contentType:this.options.contentType}}return s&&(i=Object(r.fromBodyLegacy)(s)),this.request=this.userAgent.userAgentCore.makeOutgoingRequestMessage(o.C.PUBLISH,t,n.fromUri?n.fromUri:this.userAgent.userAgentCore.configuration.aor,n.toUri?n.toUri:this.target,n,e.extraHeaders,i),this.send()}stateTransition(e){const t=()=>{throw new Error(`Invalid state transition from ${this._state} to ${e}`)};switch(this._state){case i.PublisherState.Initial:e!==i.PublisherState.Published&&e!==i.PublisherState.Unpublished&&e!==i.PublisherState.Terminated&&t();break;case i.PublisherState.Published:e!==i.PublisherState.Unpublished&&e!==i.PublisherState.Terminated&&t();break;case i.PublisherState.Unpublished:e!==i.PublisherState.Published&&e!==i.PublisherState.Terminated&&t();break;case i.PublisherState.Terminated:t();break;default:throw new Error("Unrecognized state.")}this._state=e,this.logger.log(`Publication transitioned to state ${this._state}`),this._stateEventEmitter.emit(this._state),e===i.PublisherState.Terminated&&this.dispose()}}},"./node_modules/sip.js/lib/api/referral.js":
/*!*************************************************!*\
      !*** ./node_modules/sip.js/lib/api/referral.js ***!
      \*************************************************/
/*! exports provided: Referral */
function(e,t,n){"use strict";n.r(t),n.d(t,"Referral",(function(){return o}));var r=n(
/*! ../grammar/name-addr-header.js */
"./node_modules/sip.js/lib/grammar/name-addr-header.js");class o{constructor(e,t){this.incomingReferRequest=e,this.session=t}get referTo(){const e=this.incomingReferRequest.message.parseHeader("refer-to");if(!(e instanceof r.NameAddrHeader))throw new Error("Failed to parse Refer-To header.");return e}get referredBy(){return this.incomingReferRequest.message.getHeader("referred-by")}get replaces(){const e=this.referTo.uri.getHeader("replaces");return e instanceof Array?e[0]:e}get request(){return this.incomingReferRequest.message}accept(e={statusCode:202}){return this.incomingReferRequest.accept(e),Promise.resolve()}reject(e){return this.incomingReferRequest.reject(e),Promise.resolve()}makeInviter(e){if(this.inviter)return this.inviter;const t=this.referTo.uri.clone();t.clearHeaders();const n=((e=e||{}).extraHeaders||[]).slice(),r=this.replaces;r&&n.push("Replaces: "+decodeURIComponent(r));const o=this.referredBy;return o&&n.push("Referred-By: "+o),e.extraHeaders=n,this.inviter=this.session.userAgent._makeInviter(t,e),this.inviter._referred=this.session,this.session._referral=this.inviter,this.inviter}}},"./node_modules/sip.js/lib/api/registerer-options.js":
/*!***********************************************************!*\
      !*** ./node_modules/sip.js/lib/api/registerer-options.js ***!
      \***********************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/registerer-register-options.js":
/*!********************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/registerer-register-options.js ***!
      \********************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/registerer-state.js":
/*!*********************************************************!*\
      !*** ./node_modules/sip.js/lib/api/registerer-state.js ***!
      \*********************************************************/
/*! exports provided: RegistererState */
function(e,t,n){"use strict";var r;n.r(t),n.d(t,"RegistererState",(function(){return r})),function(e){e.Initial="Initial",e.Registered="Registered",e.Unregistered="Unregistered",e.Terminated="Terminated"}(r=r||(r={}))},"./node_modules/sip.js/lib/api/registerer-unregister-options.js":
/*!**********************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/registerer-unregister-options.js ***!
      \**********************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/registerer.js":
/*!***************************************************!*\
      !*** ./node_modules/sip.js/lib/api/registerer.js ***!
      \***************************************************/
/*! exports provided: Registerer */
function(e,t,n){"use strict";n.r(t),n.d(t,"Registerer",(function(){return c}));var r=n(
/*! ../grammar/grammar.js */
"./node_modules/sip.js/lib/grammar/grammar.js"),o=n(
/*! ../grammar/uri.js */
"./node_modules/sip.js/lib/grammar/uri.js"),s=n(
/*! ../core/messages/methods/constants.js */
"./node_modules/sip.js/lib/core/messages/methods/constants.js"),i=n(
/*! ./emitter.js */
"./node_modules/sip.js/lib/api/emitter.js"),a=n(
/*! ./exceptions/request-pending.js */
"./node_modules/sip.js/lib/api/exceptions/request-pending.js"),l=n(
/*! ./registerer-state.js */
"./node_modules/sip.js/lib/api/registerer-state.js");class c{constructor(e,t={}){this.disposed=!1,this._contacts=[],this._retryAfter=void 0,this._state=l.RegistererState.Initial,this._statusCode=0,this._waiting=!1,this._stateEventEmitter=new i.EmitterImpl,this._waitingEventEmitter=new i.EmitterImpl,this.userAgent=e;const n=e.configuration.uri.clone();if(n.user=void 0,this.options=Object.assign(Object.assign(Object.assign({},c.defaultOptions()),{registrar:n}),c.stripUndefinedProperties(t)),this.options.extraContactHeaderParams=(this.options.extraContactHeaderParams||[]).slice(),this.options.extraHeaders=(this.options.extraHeaders||[]).slice(),!this.options.registrar)throw new Error("Registrar undefined.");if(this.options.registrar=this.options.registrar.clone(),this.options.regId&&!this.options.instanceId?this.options.instanceId=this.userAgent.instanceId:!this.options.regId&&this.options.instanceId&&(this.options.regId=1),this.options.instanceId&&-1===r.Grammar.parse(this.options.instanceId,"uuid"))throw new Error("Invalid instanceId.");if(this.options.regId&&this.options.regId<0)throw new Error("Invalid regId.");const o=this.options.registrar,a=this.options.params&&this.options.params.fromUri||e.userAgentCore.configuration.aor,u=this.options.params&&this.options.params.toUri||e.configuration.uri,d=this.options.params||{},p=(t.extraHeaders||[]).slice();if(this.request=e.userAgentCore.makeOutgoingRequestMessage(s.C.REGISTER,o,a,u,d,p,void 0),this.expires=this.options.expires||c.defaultExpires,this.expires<0)throw new Error("Invalid expires.");if(this.refreshFrequency=this.options.refreshFrequency||c.defaultRefreshFrequency,this.refreshFrequency<50||this.refreshFrequency>99)throw new Error("Invalid refresh frequency. The value represents a percentage of the expiration time and should be between 50 and 99.");this.logger=e.getLogger("sip.Registerer"),this.options.logConfiguration&&(this.logger.log("Configuration:"),Object.keys(this.options).forEach((e=>{const t=this.options[e];switch(e){case"registrar":this.logger.log("· "+e+": "+t);break;default:this.logger.log("· "+e+": "+JSON.stringify(t))}}))),this.id=this.request.callId+this.request.from.parameters.tag,this.userAgent._registerers[this.id]=this}static defaultOptions(){return{expires:c.defaultExpires,extraContactHeaderParams:[],extraHeaders:[],logConfiguration:!0,instanceId:"",params:{},regId:0,registrar:new o.URI("sip","anonymous","anonymous.invalid"),refreshFrequency:c.defaultRefreshFrequency}}static stripUndefinedProperties(e){return Object.keys(e).reduce(((t,n)=>(void 0!==e[n]&&(t[n]=e[n]),t)),{})}get contacts(){return this._contacts.slice()}get retryAfter(){return this._retryAfter}get state(){return this._state}get statusCode(){return this._statusCode}get stateChange(){return this._stateEventEmitter}dispose(){return this.disposed?Promise.resolve():(this.disposed=!0,this.logger.log(`Registerer ${this.id} in state ${this.state} is being disposed`),delete this.userAgent._registerers[this.id],new Promise((e=>{const t=()=>{if(!this.waiting&&this._state===l.RegistererState.Registered)return this.stateChange.addListener((()=>{this.terminated(),e()}),{once:!0}),void this.unregister();this.terminated(),e()};this.waiting?this.waitingChange.addListener((()=>{t()}),{once:!0}):t()})))}register(e={}){if(this.state===l.RegistererState.Terminated)throw this.stateError(),new Error("Registerer terminated. Unable to register.");if(this.disposed)throw this.stateError(),new Error("Registerer disposed. Unable to register.");if(this.waiting){this.waitingWarning();const e=new a.RequestPendingError("REGISTER request already in progress, waiting for final response");return Promise.reject(e)}e.requestOptions&&(this.options=Object.assign(Object.assign({},this.options),e.requestOptions));const t=(this.options.extraHeaders||[]).slice();t.push("Contact: "+this.generateContactHeader(this.expires)),t.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),this.request.cseq++,this.request.setHeader("cseq",this.request.cseq+" REGISTER"),this.request.extraHeaders=t,this.waitingToggle(!0);const n=this.userAgent.userAgentCore.register(this.request,{onAccept:t=>{let n;this._statusCode=t.message.statusCode,t.message.hasHeader("expires")&&(n=Number(t.message.getHeader("expires"))),this._contacts=t.message.getHeaders("contact");let s,i=this._contacts.length;if(!i)return this.logger.error("No Contact header in response to REGISTER, dropping response."),void this.unregistered();for(;i--;){if(!(s=t.message.parseHeader("contact",i)))throw new Error("Contact undefined");if(this.userAgent.contact.pubGruu&&Object(o.equivalentURI)(s.uri,this.userAgent.contact.pubGruu)){n=Number(s.getParam("expires"));break}if(""===this.userAgent.configuration.contactName){if(s.uri.user===this.userAgent.contact.uri.user){n=Number(s.getParam("expires"));break}}else if(Object(o.equivalentURI)(s.uri,this.userAgent.contact.uri)){n=Number(s.getParam("expires"));break}s=void 0}if(void 0===s)return this.logger.error("No Contact header pointing to us, dropping response"),this.unregistered(),void this.waitingToggle(!1);if(void 0===n)return this.logger.error("Contact pointing to us is missing expires parameter, dropping response"),this.unregistered(),void this.waitingToggle(!1);if(s.hasParam("temp-gruu")){const e=s.getParam("temp-gruu");e&&(this.userAgent.contact.tempGruu=r.Grammar.URIParse(e.replace(/"/g,"")))}if(s.hasParam("pub-gruu")){const e=s.getParam("pub-gruu");e&&(this.userAgent.contact.pubGruu=r.Grammar.URIParse(e.replace(/"/g,"")))}this.registered(n),e.requestDelegate&&e.requestDelegate.onAccept&&e.requestDelegate.onAccept(t),this.waitingToggle(!1)},onProgress:t=>{e.requestDelegate&&e.requestDelegate.onProgress&&e.requestDelegate.onProgress(t)},onRedirect:t=>{this.logger.error("Redirect received. Not supported."),this.unregistered(),e.requestDelegate&&e.requestDelegate.onRedirect&&e.requestDelegate.onRedirect(t),this.waitingToggle(!1)},onReject:t=>{if(this._statusCode=t.message.statusCode,423===t.message.statusCode)return t.message.hasHeader("min-expires")?(this.expires=Number(t.message.getHeader("min-expires")),this.waitingToggle(!1),void this.register()):(this.logger.error("423 response received for REGISTER without Min-Expires, dropping response"),this.unregistered(),void this.waitingToggle(!1));this.logger.warn(`Failed to register, status code ${t.message.statusCode}`);let n=NaN;if(500===t.message.statusCode||503===t.message.statusCode){const e=t.message.getHeader("retry-after");e&&(n=Number.parseInt(e,void 0))}this._retryAfter=isNaN(n)?void 0:n,this.unregistered(),e.requestDelegate&&e.requestDelegate.onReject&&e.requestDelegate.onReject(t),this._retryAfter=void 0,this.waitingToggle(!1)},onTrying:t=>{e.requestDelegate&&e.requestDelegate.onTrying&&e.requestDelegate.onTrying(t)}});return Promise.resolve(n)}unregister(e={}){if(this.state===l.RegistererState.Terminated)throw this.stateError(),new Error("Registerer terminated. Unable to register.");if(this.disposed&&this.state!==l.RegistererState.Registered)throw this.stateError(),new Error("Registerer disposed. Unable to register.");if(this.waiting){this.waitingWarning();const e=new a.RequestPendingError("REGISTER request already in progress, waiting for final response");return Promise.reject(e)}this._state===l.RegistererState.Registered||e.all||this.logger.warn("Not currently registered, but sending an unregister anyway.");const t=(e.requestOptions&&e.requestOptions.extraHeaders||[]).slice();this.request.extraHeaders=t,e.all?(t.push("Contact: *"),t.push("Expires: 0")):t.push("Contact: "+this.generateContactHeader(0)),this.request.cseq++,this.request.setHeader("cseq",this.request.cseq+" REGISTER"),void 0!==this.registrationTimer&&(clearTimeout(this.registrationTimer),this.registrationTimer=void 0),this.waitingToggle(!0);const n=this.userAgent.userAgentCore.register(this.request,{onAccept:t=>{this._statusCode=t.message.statusCode,this._contacts=t.message.getHeaders("contact"),this.unregistered(),e.requestDelegate&&e.requestDelegate.onAccept&&e.requestDelegate.onAccept(t),this.waitingToggle(!1)},onProgress:t=>{e.requestDelegate&&e.requestDelegate.onProgress&&e.requestDelegate.onProgress(t)},onRedirect:t=>{this.logger.error("Unregister redirected. Not currently supported."),this.unregistered(),e.requestDelegate&&e.requestDelegate.onRedirect&&e.requestDelegate.onRedirect(t),this.waitingToggle(!1)},onReject:t=>{this.logger.error(`Unregister rejected with status code ${t.message.statusCode}`),this._statusCode=t.message.statusCode,this.unregistered(),e.requestDelegate&&e.requestDelegate.onReject&&e.requestDelegate.onReject(t),this.waitingToggle(!1)},onTrying:t=>{e.requestDelegate&&e.requestDelegate.onTrying&&e.requestDelegate.onTrying(t)}});return Promise.resolve(n)}clearTimers(){void 0!==this.registrationTimer&&(clearTimeout(this.registrationTimer),this.registrationTimer=void 0),void 0!==this.registrationExpiredTimer&&(clearTimeout(this.registrationExpiredTimer),this.registrationExpiredTimer=void 0)}generateContactHeader(e){let t=this.userAgent.contact.toString({register:!0});return this.options.regId&&this.options.instanceId&&(t+=";reg-id="+this.options.regId,t+=';+sip.instance="<urn:uuid:'+this.options.instanceId+'>"'),this.options.extraContactHeaderParams&&this.options.extraContactHeaderParams.forEach((e=>{t+=";"+e})),t+=";expires="+e}registered(e){this.clearTimers(),this.registrationTimer=setTimeout((()=>{this.registrationTimer=void 0,this.register()}),this.refreshFrequency/100*e*1e3),this.registrationExpiredTimer=setTimeout((()=>{this.logger.warn("Registration expired"),this.unregistered()}),1e3*e),this._state!==l.RegistererState.Registered&&this.stateTransition(l.RegistererState.Registered)}unregistered(){this.clearTimers(),this._state!==l.RegistererState.Unregistered&&this.stateTransition(l.RegistererState.Unregistered)}terminated(){this.clearTimers(),this._state!==l.RegistererState.Terminated&&this.stateTransition(l.RegistererState.Terminated)}stateTransition(e){const t=()=>{throw new Error(`Invalid state transition from ${this._state} to ${e}`)};switch(this._state){case l.RegistererState.Initial:e!==l.RegistererState.Registered&&e!==l.RegistererState.Unregistered&&e!==l.RegistererState.Terminated&&t();break;case l.RegistererState.Registered:e!==l.RegistererState.Unregistered&&e!==l.RegistererState.Terminated&&t();break;case l.RegistererState.Unregistered:e!==l.RegistererState.Registered&&e!==l.RegistererState.Terminated&&t();break;case l.RegistererState.Terminated:t();break;default:throw new Error("Unrecognized state.")}this._state=e,this.logger.log(`Registration transitioned to state ${this._state}`),this._stateEventEmitter.emit(this._state),e===l.RegistererState.Terminated&&this.dispose()}get waiting(){return this._waiting}get waitingChange(){return this._waitingEventEmitter}waitingToggle(e){if(this._waiting===e)throw new Error(`Invalid waiting transition from ${this._waiting} to ${e}`);this._waiting=e,this.logger.log(`Waiting toggled to ${this._waiting}`),this._waitingEventEmitter.emit(this._waiting)}waitingWarning(){let e="An attempt was made to send a REGISTER request while a prior one was still in progress.";e+=" RFC 3261 requires UAs MUST NOT send a new registration until they have received a final response",e+=" from the registrar for the previous one or the previous REGISTER request has timed out.",e+=" Note that if the transport disconnects, you still must wait for the prior request to time out before",e+=" sending a new REGISTER request or alternatively dispose of the current Registerer and create a new Registerer.",this.logger.warn("An attempt was made to send a REGISTER request while a prior one was still in progress. RFC 3261 requires UAs MUST NOT send a new registration until they have received a final response from the registrar for the previous one or the previous REGISTER request has timed out. Note that if the transport disconnects, you still must wait for the prior request to time out before sending a new REGISTER request or alternatively dispose of the current Registerer and create a new Registerer.")}stateError(){let e=`An attempt was made to send a REGISTER request when the Registerer ${this.state===l.RegistererState.Terminated?"is in 'Terminated' state":"has been disposed"}.`;e+=" The Registerer transitions to 'Terminated' when Registerer.dispose() is called.",e+=" Perhaps you called UserAgent.stop() which dipsoses of all Registerers?",this.logger.error(e)}}c.defaultExpires=600,c.defaultRefreshFrequency=99},"./node_modules/sip.js/lib/api/session-bye-options.js":
/*!************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/session-bye-options.js ***!
      \************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/session-delegate.js":
/*!*********************************************************!*\
      !*** ./node_modules/sip.js/lib/api/session-delegate.js ***!
      \*********************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/session-description-handler-factory.js":
/*!****************************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/session-description-handler-factory.js ***!
      \****************************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/session-description-handler.js":
/*!********************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/session-description-handler.js ***!
      \********************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/session-info-options.js":
/*!*************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/session-info-options.js ***!
      \*************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/session-invite-options.js":
/*!***************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/session-invite-options.js ***!
      \***************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/session-message-options.js":
/*!****************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/session-message-options.js ***!
      \****************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/session-options.js":
/*!********************************************************!*\
      !*** ./node_modules/sip.js/lib/api/session-options.js ***!
      \********************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/session-refer-options.js":
/*!**************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/session-refer-options.js ***!
      \**************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/session-state.js":
/*!******************************************************!*\
      !*** ./node_modules/sip.js/lib/api/session-state.js ***!
      \******************************************************/
/*! exports provided: SessionState */
function(e,t,n){"use strict";var r;n.r(t),n.d(t,"SessionState",(function(){return r})),function(e){e.Initial="Initial",e.Establishing="Establishing",e.Established="Established",e.Terminating="Terminating",e.Terminated="Terminated"}(r=r||(r={}))},"./node_modules/sip.js/lib/api/session.js":
/*!************************************************!*\
      !*** ./node_modules/sip.js/lib/api/session.js ***!
      \************************************************/
/*! exports provided: Session */
function(e,t,n){"use strict";n.r(t),n.d(t,"Session",(function(){return y}));var r=n(
/*! ../grammar/grammar.js */
"./node_modules/sip.js/lib/grammar/grammar.js"),o=n(
/*! ../grammar/uri.js */
"./node_modules/sip.js/lib/grammar/uri.js"),s=n(
/*! ../core/messages/body.js */
"./node_modules/sip.js/lib/core/messages/body.js"),i=n(
/*! ../core/session/session.js */
"./node_modules/sip.js/lib/core/session/session.js"),a=n(
/*! ../core/messages/utils.js */
"./node_modules/sip.js/lib/core/messages/utils.js"),l=n(
/*! ../core/user-agent-core/allowed-methods.js */
"./node_modules/sip.js/lib/core/user-agent-core/allowed-methods.js"),c=n(
/*! ./ack.js */
"./node_modules/sip.js/lib/api/ack.js"),u=n(
/*! ./bye.js */
"./node_modules/sip.js/lib/api/bye.js"),d=n(
/*! ./emitter.js */
"./node_modules/sip.js/lib/api/emitter.js"),p=n(
/*! ./exceptions/content-type-unsupported.js */
"./node_modules/sip.js/lib/api/exceptions/content-type-unsupported.js"),h=n(
/*! ./exceptions/request-pending.js */
"./node_modules/sip.js/lib/api/exceptions/request-pending.js"),f=n(
/*! ./info.js */
"./node_modules/sip.js/lib/api/info.js"),g=n(
/*! ./message.js */
"./node_modules/sip.js/lib/api/message.js"),m=n(
/*! ./notification.js */
"./node_modules/sip.js/lib/api/notification.js"),v=n(
/*! ./referral.js */
"./node_modules/sip.js/lib/api/referral.js"),b=n(
/*! ./session-state.js */
"./node_modules/sip.js/lib/api/session-state.js");class y{constructor(e,t={}){this.pendingReinvite=!1,this.pendingReinviteAck=!1,this._state=b.SessionState.Initial,this.delegate=t.delegate,this._stateEventEmitter=new d.EmitterImpl,this._userAgent=e}dispose(){switch(this.logger.log(`Session ${this.id} in state ${this._state} is being disposed`),delete this.userAgent._sessions[this.id],this._sessionDescriptionHandler&&this._sessionDescriptionHandler.close(),this.state){case b.SessionState.Initial:case b.SessionState.Establishing:break;case b.SessionState.Established:return new Promise((e=>{this._bye({onAccept:()=>e(),onRedirect:()=>e(),onReject:()=>e()})}));case b.SessionState.Terminating:case b.SessionState.Terminated:break;default:throw new Error("Unknown state.")}return Promise.resolve()}get assertedIdentity(){return this._assertedIdentity}get dialog(){return this._dialog}get id(){return this._id}get replacee(){return this._replacee}get sessionDescriptionHandler(){return this._sessionDescriptionHandler}get sessionDescriptionHandlerFactory(){return this.userAgent.configuration.sessionDescriptionHandlerFactory}get sessionDescriptionHandlerModifiers(){return this._sessionDescriptionHandlerModifiers||[]}set sessionDescriptionHandlerModifiers(e){this._sessionDescriptionHandlerModifiers=e.slice()}get sessionDescriptionHandlerOptions(){return this._sessionDescriptionHandlerOptions||{}}set sessionDescriptionHandlerOptions(e){this._sessionDescriptionHandlerOptions=Object.assign({},e)}get sessionDescriptionHandlerModifiersReInvite(){return this._sessionDescriptionHandlerModifiersReInvite||[]}set sessionDescriptionHandlerModifiersReInvite(e){this._sessionDescriptionHandlerModifiersReInvite=e.slice()}get sessionDescriptionHandlerOptionsReInvite(){return this._sessionDescriptionHandlerOptionsReInvite||{}}set sessionDescriptionHandlerOptionsReInvite(e){this._sessionDescriptionHandlerOptionsReInvite=Object.assign({},e)}get state(){return this._state}get stateChange(){return this._stateEventEmitter}get userAgent(){return this._userAgent}bye(e={}){let t="Session.bye() may only be called if established session.";switch(this.state){case b.SessionState.Initial:"function"==typeof this.cancel?(t+=" However Inviter.invite() has not yet been called.",t+=" Perhaps you should have called Inviter.cancel()?"):"function"==typeof this.reject&&(t+=" However Invitation.accept() has not yet been called.",t+=" Perhaps you should have called Invitation.reject()?");break;case b.SessionState.Establishing:"function"==typeof this.cancel?(t+=" However a dialog does not yet exist.",t+=" Perhaps you should have called Inviter.cancel()?"):"function"==typeof this.reject&&(t+=" However Invitation.accept() has not yet been called (or not yet resolved).",t+=" Perhaps you should have called Invitation.reject()?");break;case b.SessionState.Established:{const t=e.requestDelegate,n=this.copyRequestOptions(e.requestOptions);return this._bye(t,n)}case b.SessionState.Terminating:t+=" However this session is already terminating.","function"==typeof this.cancel?t+=" Perhaps you have already called Inviter.cancel()?":"function"==typeof this.reject&&(t+=" Perhaps you have already called Session.bye()?");break;case b.SessionState.Terminated:t+=" However this session is already terminated.";break;default:throw new Error("Unknown state")}return this.logger.error(t),Promise.reject(new Error(`Invalid session state ${this.state}`))}info(e={}){if(this.state!==b.SessionState.Established){const e="Session.info() may only be called if established session.";return this.logger.error(e),Promise.reject(new Error(`Invalid session state ${this.state}`))}const t=e.requestDelegate,n=this.copyRequestOptions(e.requestOptions);return this._info(t,n)}invite(e={}){if(this.logger.log("Session.invite"),this.state!==b.SessionState.Established)return Promise.reject(new Error(`Invalid session state ${this.state}`));if(this.pendingReinvite)return Promise.reject(new h.RequestPendingError("Reinvite in progress. Please wait until complete, then try again."));this.pendingReinvite=!0,e.sessionDescriptionHandlerModifiers&&(this.sessionDescriptionHandlerModifiersReInvite=e.sessionDescriptionHandlerModifiers),e.sessionDescriptionHandlerOptions&&(this.sessionDescriptionHandlerOptionsReInvite=e.sessionDescriptionHandlerOptions);const t={onAccept:t=>{const n=Object(s.getBody)(t.message);if(!n)return this.logger.error("Received 2xx response to re-INVITE without a session description"),this.ackAndBye(t,400,"Missing session description"),this.stateTransition(b.SessionState.Terminated),void(this.pendingReinvite=!1);if(e.withoutSdp){const r={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptionsReInvite,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiersReInvite};this.setOfferAndGetAnswer(n,r).then((e=>{t.ack({body:e})})).catch((e=>{this.logger.error("Failed to handle offer in 2xx response to re-INVITE"),this.logger.error(e.message),this.state===b.SessionState.Terminated?t.ack():(this.ackAndBye(t,488,"Bad Media Description"),this.stateTransition(b.SessionState.Terminated))})).then((()=>{this.pendingReinvite=!1,e.requestDelegate&&e.requestDelegate.onAccept&&e.requestDelegate.onAccept(t)}))}else{const r={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptionsReInvite,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiersReInvite};this.setAnswer(n,r).then((()=>{t.ack()})).catch((e=>{this.logger.error("Failed to handle answer in 2xx response to re-INVITE"),this.logger.error(e.message),this.state!==b.SessionState.Terminated?(this.ackAndBye(t,488,"Bad Media Description"),this.stateTransition(b.SessionState.Terminated)):t.ack()})).then((()=>{this.pendingReinvite=!1,e.requestDelegate&&e.requestDelegate.onAccept&&e.requestDelegate.onAccept(t)}))}},onProgress:e=>{},onRedirect:e=>{},onReject:t=>{this.logger.warn("Received a non-2xx response to re-INVITE"),this.pendingReinvite=!1,e.withoutSdp?e.requestDelegate&&e.requestDelegate.onReject&&e.requestDelegate.onReject(t):this.rollbackOffer().catch((e=>{if(this.logger.error("Failed to rollback offer on non-2xx response to re-INVITE"),this.logger.error(e.message),this.state!==b.SessionState.Terminated){if(!this.dialog)throw new Error("Dialog undefined.");const e=[];e.push("Reason: "+this.getReasonHeaderValue(500,"Internal Server Error")),this.dialog.bye(void 0,{extraHeaders:e}),this.stateTransition(b.SessionState.Terminated)}})).then((()=>{e.requestDelegate&&e.requestDelegate.onReject&&e.requestDelegate.onReject(t)}))},onTrying:e=>{}},n=e.requestOptions||{};if(n.extraHeaders=(n.extraHeaders||[]).slice(),n.extraHeaders.push("Allow: "+l.AllowedMethods.toString()),n.extraHeaders.push("Contact: "+this._contact),e.withoutSdp){if(!this.dialog)throw this.pendingReinvite=!1,new Error("Dialog undefined.");return Promise.resolve(this.dialog.invite(t,n))}const r={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptionsReInvite,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiersReInvite};return this.getOffer(r).then((e=>{if(!this.dialog)throw this.pendingReinvite=!1,new Error("Dialog undefined.");return n.body=e,this.dialog.invite(t,n)})).catch((e=>{throw this.logger.error(e.message),this.logger.error("Failed to send re-INVITE"),this.pendingReinvite=!1,e}))}message(e={}){if(this.state!==b.SessionState.Established){const e="Session.message() may only be called if established session.";return this.logger.error(e),Promise.reject(new Error(`Invalid session state ${this.state}`))}const t=e.requestDelegate,n=this.copyRequestOptions(e.requestOptions);return this._message(t,n)}refer(e,t={}){if(this.state!==b.SessionState.Established){const e="Session.refer() may only be called if established session.";return this.logger.error(e),Promise.reject(new Error(`Invalid session state ${this.state}`))}if(e instanceof y&&!e.dialog){const e="Session.refer() may only be called with session which is established. You are perhaps attempting to attended transfer to a target for which there is not dialog yet established. Perhaps you are attempting a 'semi-attended' tansfer? Regardless, this is not supported. The recommended approached is to check to see if the target Session is in the Established state before calling refer(); if the state is not Established you may proceed by falling back using a URI as the target (blind transfer).";return this.logger.error(e),Promise.reject(new Error(`Invalid session state ${this.state}`))}const n=t.requestDelegate,r=this.copyRequestOptions(t.requestOptions);return r.extraHeaders=r.extraHeaders?r.extraHeaders.concat(this.referExtraHeaders(this.referToString(e))):this.referExtraHeaders(this.referToString(e)),this._refer(t.onNotify,n,r)}_bye(e,t){if(!this.dialog)return Promise.reject(new Error("Session dialog undefined."));const n=this.dialog;switch(n.sessionState){case i.SessionState.Initial:case i.SessionState.Early:throw new Error(`Invalid dialog state ${n.sessionState}`);case i.SessionState.AckWait:return this.stateTransition(b.SessionState.Terminating),new Promise((r=>{n.delegate={onAck:()=>{const o=n.bye(e,t);return this.stateTransition(b.SessionState.Terminated),r(o),Promise.resolve()},onAckTimeout:()=>{const o=n.bye(e,t);this.stateTransition(b.SessionState.Terminated),r(o)}}}));case i.SessionState.Confirmed:{const r=n.bye(e,t);return this.stateTransition(b.SessionState.Terminated),Promise.resolve(r)}case i.SessionState.Terminated:throw new Error(`Invalid dialog state ${n.sessionState}`);default:throw new Error("Unrecognized state.")}}_info(e,t){return this.dialog?Promise.resolve(this.dialog.info(e,t)):Promise.reject(new Error("Session dialog undefined."))}_message(e,t){return this.dialog?Promise.resolve(this.dialog.message(e,t)):Promise.reject(new Error("Session dialog undefined."))}_refer(e,t,n){return this.dialog?(this.onNotify=e,Promise.resolve(this.dialog.refer(t,n))):Promise.reject(new Error("Session dialog undefined."))}ackAndBye(e,t,n){e.ack();const r=[];t&&r.push("Reason: "+this.getReasonHeaderValue(t,n)),e.session.bye(void 0,{extraHeaders:r})}onAckRequest(e){if(this.logger.log("Session.onAckRequest"),this.state!==b.SessionState.Established&&this.state!==b.SessionState.Terminating)return this.logger.error(`ACK received while in state ${this.state}, dropping request`),Promise.resolve();const t=this.dialog;if(!t)throw new Error("Dialog undefined.");const n={sessionDescriptionHandlerOptions:this.pendingReinviteAck?this.sessionDescriptionHandlerOptionsReInvite:this.sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:this.pendingReinviteAck?this._sessionDescriptionHandlerModifiersReInvite:this._sessionDescriptionHandlerModifiers};if(this.delegate&&this.delegate.onAck){const t=new c.Ack(e);this.delegate.onAck(t)}switch(this.pendingReinviteAck=!1,t.signalingState){case i.SignalingState.Initial:{this.logger.error(`Invalid signaling state ${t.signalingState}.`);const e=["Reason: "+this.getReasonHeaderValue(488,"Bad Media Description")];return t.bye(void 0,{extraHeaders:e}),this.stateTransition(b.SessionState.Terminated),Promise.resolve()}case i.SignalingState.Stable:{const r=Object(s.getBody)(e.message);return r?"render"===r.contentDisposition?(this._renderbody=r.content,this._rendertype=r.contentType,Promise.resolve()):"session"!==r.contentDisposition?Promise.resolve():this.setAnswer(r,n).catch((e=>{this.logger.error(e.message);const n=["Reason: "+this.getReasonHeaderValue(488,"Bad Media Description")];t.bye(void 0,{extraHeaders:n}),this.stateTransition(b.SessionState.Terminated)})):Promise.resolve()}case i.SignalingState.HaveLocalOffer:case i.SignalingState.HaveRemoteOffer:{this.logger.error(`Invalid signaling state ${t.signalingState}.`);const e=["Reason: "+this.getReasonHeaderValue(488,"Bad Media Description")];return t.bye(void 0,{extraHeaders:e}),this.stateTransition(b.SessionState.Terminated),Promise.resolve()}case i.SignalingState.Closed:default:throw new Error(`Invalid signaling state ${t.signalingState}.`)}}onByeRequest(e){if(this.logger.log("Session.onByeRequest"),this.state===b.SessionState.Established){if(this.delegate&&this.delegate.onBye){const t=new u.Bye(e);this.delegate.onBye(t)}else e.accept();this.stateTransition(b.SessionState.Terminated)}else this.logger.error(`BYE received while in state ${this.state}, dropping request`)}onInfoRequest(e){if(this.logger.log("Session.onInfoRequest"),this.state===b.SessionState.Established)if(this.delegate&&this.delegate.onInfo){const t=new f.Info(e);this.delegate.onInfo(t)}else e.accept();else this.logger.error(`INFO received while in state ${this.state}, dropping request`)}onInviteRequest(e){if(this.logger.log("Session.onInviteRequest"),this.state!==b.SessionState.Established)return void this.logger.error(`INVITE received while in state ${this.state}, dropping request`);this.pendingReinviteAck=!0;const t=["Contact: "+this._contact];if(e.message.hasHeader("P-Asserted-Identity")){const t=e.message.getHeader("P-Asserted-Identity");if(!t)throw new Error("Header undefined.");this._assertedIdentity=r.Grammar.nameAddrHeaderParse(t)}const n={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptionsReInvite,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiersReInvite};this.generateResponseOfferAnswerInDialog(n).then((n=>{const r=e.accept({statusCode:200,extraHeaders:t,body:n});this.delegate&&this.delegate.onInvite&&this.delegate.onInvite(e.message,r.message,200)})).catch((t=>{if(this.logger.error(t.message),this.logger.error("Failed to handle to re-INVITE request"),!this.dialog)throw new Error("Dialog undefined.");if(this.logger.error(this.dialog.signalingState),this.dialog.signalingState!==i.SignalingState.Stable)this.rollbackOffer().then((()=>{const t=e.reject({statusCode:488});this.delegate&&this.delegate.onInvite&&this.delegate.onInvite(e.message,t.message,488)})).catch((t=>{this.logger.error(t.message),this.logger.error("Failed to rollback offer on re-INVITE request");const n=e.reject({statusCode:488});if(this.state!==b.SessionState.Terminated){if(!this.dialog)throw new Error("Dialog undefined.");const e=[];e.push("Reason: "+this.getReasonHeaderValue(500,"Internal Server Error")),this.dialog.bye(void 0,{extraHeaders:e}),this.stateTransition(b.SessionState.Terminated)}this.delegate&&this.delegate.onInvite&&this.delegate.onInvite(e.message,n.message,488)}));else{const t=e.reject({statusCode:488});this.delegate&&this.delegate.onInvite&&this.delegate.onInvite(e.message,t.message,488)}}))}onMessageRequest(e){if(this.logger.log("Session.onMessageRequest"),this.state===b.SessionState.Established)if(this.delegate&&this.delegate.onMessage){const t=new g.Message(e);this.delegate.onMessage(t)}else e.accept();else this.logger.error(`MESSAGE received while in state ${this.state}, dropping request`)}onNotifyRequest(e){if(this.logger.log("Session.onNotifyRequest"),this.state===b.SessionState.Established)if(this.onNotify){const t=new m.Notification(e);this.onNotify(t)}else if(this.delegate&&this.delegate.onNotify){const t=new m.Notification(e);this.delegate.onNotify(t)}else e.accept();else this.logger.error(`NOTIFY received while in state ${this.state}, dropping request`)}onPrackRequest(e){if(this.logger.log("Session.onPrackRequest"),this.state===b.SessionState.Established)throw new Error("Unimplemented.");this.logger.error(`PRACK received while in state ${this.state}, dropping request`)}onReferRequest(e){if(this.logger.log("Session.onReferRequest"),this.state!==b.SessionState.Established)return void this.logger.error(`REFER received while in state ${this.state}, dropping request`);if(!e.message.hasHeader("refer-to"))return this.logger.warn("Invalid REFER packet. A refer-to header is required. Rejecting."),void e.reject();const t=new v.Referral(e,this);this.delegate&&this.delegate.onRefer?this.delegate.onRefer(t):(this.logger.log("No delegate available to handle REFER, automatically accepting and following."),t.accept().then((()=>t.makeInviter(this._referralInviterOptions).invite())).catch((e=>{this.logger.error(e.message)})))}generateResponseOfferAnswer(e,t){if(this.dialog)return this.generateResponseOfferAnswerInDialog(t);const n=Object(s.getBody)(e.message);return n&&"session"===n.contentDisposition?this.setOfferAndGetAnswer(n,t):this.getOffer(t)}generateResponseOfferAnswerInDialog(e){if(!this.dialog)throw new Error("Dialog undefined.");switch(this.dialog.signalingState){case i.SignalingState.Initial:return this.getOffer(e);case i.SignalingState.HaveLocalOffer:return Promise.resolve(void 0);case i.SignalingState.HaveRemoteOffer:if(!this.dialog.offer)throw new Error(`Session offer undefined in signaling state ${this.dialog.signalingState}.`);return this.setOfferAndGetAnswer(this.dialog.offer,e);case i.SignalingState.Stable:return this.state!==b.SessionState.Established?Promise.resolve(void 0):this.getOffer(e);case i.SignalingState.Closed:default:throw new Error(`Invalid signaling state ${this.dialog.signalingState}.`)}}getOffer(e){const t=this.setupSessionDescriptionHandler(),n=e.sessionDescriptionHandlerOptions,r=e.sessionDescriptionHandlerModifiers;try{return t.getDescription(n,r).then((e=>Object(s.fromBodyLegacy)(e))).catch((e=>{this.logger.error("Session.getOffer: SDH getDescription rejected...");const t=e instanceof Error?e:new Error("Session.getOffer unknown error.");throw this.logger.error(t.message),t}))}catch(e){this.logger.error("Session.getOffer: SDH getDescription threw...");const t=e instanceof Error?e:new Error(e);return this.logger.error(t.message),Promise.reject(t)}}rollbackOffer(){const e=this.setupSessionDescriptionHandler();if(void 0===e.rollbackDescription)return Promise.resolve();try{return e.rollbackDescription().catch((e=>{this.logger.error("Session.rollbackOffer: SDH rollbackDescription rejected...");const t=e instanceof Error?e:new Error("Session.rollbackOffer unknown error.");throw this.logger.error(t.message),t}))}catch(e){this.logger.error("Session.rollbackOffer: SDH rollbackDescription threw...");const t=e instanceof Error?e:new Error(e);return this.logger.error(t.message),Promise.reject(t)}}setAnswer(e,t){const n=this.setupSessionDescriptionHandler(),r=t.sessionDescriptionHandlerOptions,o=t.sessionDescriptionHandlerModifiers;try{if(!n.hasDescription(e.contentType))return Promise.reject(new p.ContentTypeUnsupportedError)}catch(e){this.logger.error("Session.setAnswer: SDH hasDescription threw...");const t=e instanceof Error?e:new Error(e);return this.logger.error(t.message),Promise.reject(t)}try{return n.setDescription(e.content,r,o).catch((e=>{this.logger.error("Session.setAnswer: SDH setDescription rejected...");const t=e instanceof Error?e:new Error("Session.setAnswer unknown error.");throw this.logger.error(t.message),t}))}catch(e){this.logger.error("Session.setAnswer: SDH setDescription threw...");const t=e instanceof Error?e:new Error(e);return this.logger.error(t.message),Promise.reject(t)}}setOfferAndGetAnswer(e,t){const n=this.setupSessionDescriptionHandler(),r=t.sessionDescriptionHandlerOptions,o=t.sessionDescriptionHandlerModifiers;try{if(!n.hasDescription(e.contentType))return Promise.reject(new p.ContentTypeUnsupportedError)}catch(e){this.logger.error("Session.setOfferAndGetAnswer: SDH hasDescription threw...");const t=e instanceof Error?e:new Error(e);return this.logger.error(t.message),Promise.reject(t)}try{return n.setDescription(e.content,r,o).then((()=>n.getDescription(r,o))).then((e=>Object(s.fromBodyLegacy)(e))).catch((e=>{this.logger.error("Session.setOfferAndGetAnswer: SDH setDescription or getDescription rejected...");const t=e instanceof Error?e:new Error("Session.setOfferAndGetAnswer unknown error.");throw this.logger.error(t.message),t}))}catch(e){this.logger.error("Session.setOfferAndGetAnswer: SDH setDescription or getDescription threw...");const t=e instanceof Error?e:new Error(e);return this.logger.error(t.message),Promise.reject(t)}}setSessionDescriptionHandler(e){if(this._sessionDescriptionHandler)throw new Error("Session description handler defined.");this._sessionDescriptionHandler=e}setupSessionDescriptionHandler(){var e;return this._sessionDescriptionHandler||(this._sessionDescriptionHandler=this.sessionDescriptionHandlerFactory(this,this.userAgent.configuration.sessionDescriptionHandlerFactoryOptions),(null===(e=this.delegate)||void 0===e?void 0:e.onSessionDescriptionHandler)&&this.delegate.onSessionDescriptionHandler(this._sessionDescriptionHandler,!1)),this._sessionDescriptionHandler}stateTransition(e){const t=()=>{throw new Error(`Invalid state transition from ${this._state} to ${e}`)};switch(this._state){case b.SessionState.Initial:e!==b.SessionState.Establishing&&e!==b.SessionState.Established&&e!==b.SessionState.Terminating&&e!==b.SessionState.Terminated&&t();break;case b.SessionState.Establishing:e!==b.SessionState.Established&&e!==b.SessionState.Terminating&&e!==b.SessionState.Terminated&&t();break;case b.SessionState.Established:e!==b.SessionState.Terminating&&e!==b.SessionState.Terminated&&t();break;case b.SessionState.Terminating:e!==b.SessionState.Terminated&&t();break;case b.SessionState.Terminated:t();break;default:throw new Error("Unrecognized state.")}this._state=e,this.logger.log(`Session ${this.id} transitioned to state ${this._state}`),this._stateEventEmitter.emit(this._state),e===b.SessionState.Terminated&&this.dispose()}copyRequestOptions(e={}){return{extraHeaders:e.extraHeaders?e.extraHeaders.slice():void 0,body:e.body?{contentDisposition:e.body.contentDisposition||"render",contentType:e.body.contentType||"text/plain",content:e.body.content||""}:void 0}}getReasonHeaderValue(e,t){const n=e;let r=Object(a.getReasonPhrase)(e);return!r&&t&&(r=t),"SIP;cause="+n+';text="'+r+'"'}referExtraHeaders(e){const t=[];return t.push("Referred-By: <"+this.userAgent.configuration.uri+">"),t.push("Contact: "+this._contact),t.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),t.push("Refer-To: "+e),t}referToString(e){let t;if(e instanceof o.URI)t=e.toString();else{if(!e.dialog)throw new Error("Dialog undefined.");const n=e.remoteIdentity.friendlyName,r=e.dialog.remoteTarget.toString(),o=e.dialog.callId,s=e.dialog.remoteTag,i=e.dialog.localTag;t=`"${n}" <${r}?Replaces=${encodeURIComponent(`${o};to-tag=${s};from-tag=${i}`)}>`}return t}}},"./node_modules/sip.js/lib/api/subscriber-options.js":
/*!***********************************************************!*\
      !*** ./node_modules/sip.js/lib/api/subscriber-options.js ***!
      \***********************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/subscriber-subscribe-options.js":
/*!*********************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/subscriber-subscribe-options.js ***!
      \*********************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/subscriber.js":
/*!***************************************************!*\
      !*** ./node_modules/sip.js/lib/api/subscriber.js ***!
      \***************************************************/
/*! exports provided: Subscriber */
function(e,t,n){"use strict";n.r(t),n.d(t,"Subscriber",(function(){return u}));var r=n(
/*! ../core/messages/body.js */
"./node_modules/sip.js/lib/core/messages/body.js"),o=n(
/*! ../core/messages/methods/constants.js */
"./node_modules/sip.js/lib/core/messages/methods/constants.js"),s=n(
/*! ../core/subscription/subscription.js */
"./node_modules/sip.js/lib/core/subscription/subscription.js"),i=n(
/*! ../core/user-agent-core/allowed-methods.js */
"./node_modules/sip.js/lib/core/user-agent-core/allowed-methods.js"),a=n(
/*! ./notification.js */
"./node_modules/sip.js/lib/api/notification.js"),l=n(
/*! ./subscription.js */
"./node_modules/sip.js/lib/api/subscription.js"),c=n(
/*! ./subscription-state.js */
"./node_modules/sip.js/lib/api/subscription-state.js");class u extends l.Subscription{constructor(e,t,n,r={}){super(e,r),this.body=void 0,this.logger=e.getLogger("sip.Subscriber"),r.body&&(this.body={body:r.body,contentType:r.contentType?r.contentType:"application/sdp"}),this.targetURI=t,this.event=n,void 0===r.expires?this.expires=3600:"number"!=typeof r.expires?(this.logger.warn('Option "expires" must be a number. Using default of 3600.'),this.expires=3600):this.expires=r.expires,this.extraHeaders=(r.extraHeaders||[]).slice(),this.subscriberRequest=this.initSubscriberRequest(),this.outgoingRequestMessage=this.subscriberRequest.message,this.id=this.outgoingRequestMessage.callId+this.outgoingRequestMessage.from.parameters.tag+this.event,this._userAgent._subscriptions[this.id]=this}dispose(){return this.disposed?Promise.resolve():(this.logger.log(`Subscription ${this.id} in state ${this.state} is being disposed`),delete this._userAgent._subscriptions[this.id],this.retryAfterTimer&&(clearTimeout(this.retryAfterTimer),this.retryAfterTimer=void 0),this.subscriberRequest.dispose(),super.dispose().then((()=>{if(this.state===c.SubscriptionState.Subscribed){if(!this._dialog)throw new Error("Dialog undefined.");if(this._dialog.subscriptionState===s.SubscriptionState.Pending||this._dialog.subscriptionState===s.SubscriptionState.Active){const e=this._dialog;return new Promise(((t,n)=>{e.delegate={onTerminated:()=>t()},e.unsubscribe()}))}}})))}subscribe(e={}){switch(this.subscriberRequest.state){case s.SubscriptionState.Initial:this.state===c.SubscriptionState.Initial&&this.stateTransition(c.SubscriptionState.NotifyWait),this.subscriberRequest.subscribe().then((e=>{e.success?(e.success.subscription&&(this._dialog=e.success.subscription,this._dialog.delegate={onNotify:e=>this.onNotify(e),onRefresh:e=>this.onRefresh(e),onTerminated:()=>{this.state!==c.SubscriptionState.Terminated&&this.stateTransition(c.SubscriptionState.Terminated)}}),this.onNotify(e.success.request)):e.failure&&this.unsubscribe()}));break;case s.SubscriptionState.NotifyWait:case s.SubscriptionState.Pending:break;case s.SubscriptionState.Active:this._dialog&&(this._dialog.refresh().delegate={onAccept:e=>this.onAccepted(e),onRedirect:e=>this.unsubscribe(),onReject:e=>this.unsubscribe()});break;case s.SubscriptionState.Terminated:}return Promise.resolve()}unsubscribe(e={}){if(this.disposed)return Promise.resolve();switch(this.subscriberRequest.state){case s.SubscriptionState.Initial:case s.SubscriptionState.NotifyWait:break;case s.SubscriptionState.Pending:case s.SubscriptionState.Active:this._dialog&&this._dialog.unsubscribe();break;case s.SubscriptionState.Terminated:break;default:throw new Error("Unknown state.")}return this.stateTransition(c.SubscriptionState.Terminated),Promise.resolve()}_refresh(){return this.subscriberRequest.state===s.SubscriptionState.Active?this.subscribe():Promise.resolve()}onAccepted(e){}onNotify(e){if(this.disposed)return void e.accept();if(this.state!==c.SubscriptionState.Subscribed&&this.stateTransition(c.SubscriptionState.Subscribed),this.delegate&&this.delegate.onNotify){const t=new a.Notification(e);this.delegate.onNotify(t)}else e.accept();const t=e.message.parseHeader("Subscription-State");if(t&&t.state)switch(t.state){case"terminated":if(t.reason)switch(this.logger.log(`Terminated subscription with reason ${t.reason}`),t.reason){case"deactivated":case"timeout":return this.initSubscriberRequest(),void this.subscribe();case"probation":case"giveup":return this.initSubscriberRequest(),void(t.params&&t.params["retry-after"]?this.retryAfterTimer=setTimeout((()=>{this.subscribe()}),t.params["retry-after"]):this.subscribe())}this.unsubscribe()}}onRefresh(e){e.delegate={onAccept:e=>this.onAccepted(e)}}initSubscriberRequest(){const e={extraHeaders:this.extraHeaders,body:this.body?Object(r.fromBodyLegacy)(this.body):void 0};return this.subscriberRequest=new d(this._userAgent.userAgentCore,this.targetURI,this.event,this.expires,e),this.subscriberRequest.delegate={onAccept:e=>this.onAccepted(e)},this.subscriberRequest}}class d{constructor(e,t,n,r,s,a){this.core=e,this.target=t,this.event=n,this.expires=r,this.subscribed=!1,this.logger=e.loggerFactory.getLogger("sip.Subscriber"),this.delegate=a;const l="Allow: "+i.AllowedMethods.toString(),c=(s&&s.extraHeaders||[]).slice();c.push(l),c.push("Event: "+this.event),c.push("Expires: "+this.expires),c.push("Contact: "+this.core.configuration.contact.toString());const u=s&&s.body;this.message=e.makeOutgoingRequestMessage(o.C.SUBSCRIBE,this.target,this.core.configuration.aor,this.target,{},c,u)}dispose(){this.request&&(this.request.waitNotifyStop(),this.request.dispose(),this.request=void 0)}get state(){return this.subscription?this.subscription.subscriptionState:this.subscribed?s.SubscriptionState.NotifyWait:s.SubscriptionState.Initial}subscribe(){return this.subscribed?Promise.reject(new Error("Not in initial state. Did you call subscribe more than once?")):(this.subscribed=!0,new Promise((e=>{if(!this.message)throw new Error("Message undefined.");this.request=this.core.subscribe(this.message,{onAccept:e=>{this.delegate&&this.delegate.onAccept&&this.delegate.onAccept(e)},onNotify:t=>{this.subscription=t.subscription,this.subscription&&(this.subscription.autoRefresh=!0),e({success:t})},onNotifyTimeout:()=>{e({failure:{}})},onRedirect:t=>{e({failure:{response:t}})},onReject:t=>{e({failure:{response:t}})}})})))}}},"./node_modules/sip.js/lib/api/subscription-delegate.js":
/*!**************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/subscription-delegate.js ***!
      \**************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/subscription-options.js":
/*!*************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/subscription-options.js ***!
      \*************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/subscription-state.js":
/*!***********************************************************!*\
      !*** ./node_modules/sip.js/lib/api/subscription-state.js ***!
      \***********************************************************/
/*! exports provided: SubscriptionState */
function(e,t,n){"use strict";var r;n.r(t),n.d(t,"SubscriptionState",(function(){return r})),function(e){e.Initial="Initial",e.NotifyWait="NotifyWait",e.Subscribed="Subscribed",e.Terminated="Terminated"}(r=r||(r={}))},"./node_modules/sip.js/lib/api/subscription-subscribe-options.js":
/*!***********************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/subscription-subscribe-options.js ***!
      \***********************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/subscription-unsubscribe-options.js":
/*!*************************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/subscription-unsubscribe-options.js ***!
      \*************************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/subscription.js":
/*!*****************************************************!*\
      !*** ./node_modules/sip.js/lib/api/subscription.js ***!
      \*****************************************************/
/*! exports provided: Subscription */
function(e,t,n){"use strict";n.r(t),n.d(t,"Subscription",(function(){return s}));var r=n(
/*! ./emitter.js */
"./node_modules/sip.js/lib/api/emitter.js"),o=n(
/*! ./subscription-state.js */
"./node_modules/sip.js/lib/api/subscription-state.js");class s{constructor(e,t={}){this._disposed=!1,this._state=o.SubscriptionState.Initial,this._logger=e.getLogger("sip.Subscription"),this._stateEventEmitter=new r.EmitterImpl,this._userAgent=e,this.delegate=t.delegate}dispose(){return this._disposed||(this._disposed=!0,this._stateEventEmitter.removeAllListeners()),Promise.resolve()}get dialog(){return this._dialog}get disposed(){return this._disposed}get state(){return this._state}get stateChange(){return this._stateEventEmitter}stateTransition(e){const t=()=>{throw new Error(`Invalid state transition from ${this._state} to ${e}`)};switch(this._state){case o.SubscriptionState.Initial:e!==o.SubscriptionState.NotifyWait&&e!==o.SubscriptionState.Terminated&&t();break;case o.SubscriptionState.NotifyWait:e!==o.SubscriptionState.Subscribed&&e!==o.SubscriptionState.Terminated&&t();break;case o.SubscriptionState.Subscribed:e!==o.SubscriptionState.Terminated&&t();break;case o.SubscriptionState.Terminated:t();break;default:throw new Error("Unrecognized state.")}this._state!==e&&(this._state=e,this._logger.log(`Subscription ${this._dialog?this._dialog.id:void 0} transitioned to ${this._state}`),this._stateEventEmitter.emit(this._state),e===o.SubscriptionState.Terminated&&this.dispose())}}},"./node_modules/sip.js/lib/api/transport-state.js":
/*!********************************************************!*\
      !*** ./node_modules/sip.js/lib/api/transport-state.js ***!
      \********************************************************/
/*! exports provided: TransportState */
function(e,t,n){"use strict";var r;n.r(t),n.d(t,"TransportState",(function(){return r})),function(e){e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Disconnected="Disconnected"}(r=r||(r={}))},"./node_modules/sip.js/lib/api/transport.js":
/*!**************************************************!*\
      !*** ./node_modules/sip.js/lib/api/transport.js ***!
      \**************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/user-agent-delegate.js":
/*!************************************************************!*\
      !*** ./node_modules/sip.js/lib/api/user-agent-delegate.js ***!
      \************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/api/user-agent-options.js":
/*!***********************************************************!*\
      !*** ./node_modules/sip.js/lib/api/user-agent-options.js ***!
      \***********************************************************/
/*! exports provided: SIPExtension, UserAgentRegisteredOptionTags */
function(e,t,n){"use strict";var r;n.r(t),n.d(t,"SIPExtension",(function(){return r})),n.d(t,"UserAgentRegisteredOptionTags",(function(){return o})),function(e){e.Required="Required",e.Supported="Supported",e.Unsupported="Unsupported"}(r=r||(r={}));const o={"100rel":!0,199:!0,answermode:!0,"early-session":!0,eventlist:!0,explicitsub:!0,"from-change":!0,"geolocation-http":!0,"geolocation-sip":!0,gin:!0,gruu:!0,histinfo:!0,ice:!0,join:!0,"multiple-refer":!0,norefersub:!0,nosub:!0,outbound:!0,path:!0,policy:!0,precondition:!0,pref:!0,privacy:!0,"recipient-list-invite":!0,"recipient-list-message":!0,"recipient-list-subscribe":!0,replaces:!0,"resource-priority":!0,"sdp-anat":!0,"sec-agree":!0,tdialog:!0,timer:!0,uui:!0}},"./node_modules/sip.js/lib/api/user-agent-state.js":
/*!*********************************************************!*\
      !*** ./node_modules/sip.js/lib/api/user-agent-state.js ***!
      \*********************************************************/
/*! exports provided: UserAgentState */
function(e,t,n){"use strict";var r;n.r(t),n.d(t,"UserAgentState",(function(){return r})),function(e){e.Started="Started",e.Stopped="Stopped"}(r=r||(r={}))},"./node_modules/sip.js/lib/api/user-agent.js":
/*!***************************************************!*\
      !*** ./node_modules/sip.js/lib/api/user-agent.js ***!
      \***************************************************/
/*! exports provided: UserAgent */
function(e,t,n){"use strict";n.r(t),n.d(t,"UserAgent",(function(){return _}));var r=n(
/*! ../grammar/grammar.js */
"./node_modules/sip.js/lib/grammar/grammar.js"),o=n(
/*! ../grammar/uri.js */
"./node_modules/sip.js/lib/grammar/uri.js"),s=n(
/*! ../core/messages/digest-authentication.js */
"./node_modules/sip.js/lib/core/messages/digest-authentication.js"),i=n(
/*! ../core/messages/incoming-request-message.js */
"./node_modules/sip.js/lib/core/messages/incoming-request-message.js"),a=n(
/*! ../core/messages/incoming-response-message.js */
"./node_modules/sip.js/lib/core/messages/incoming-response-message.js"),l=n(
/*! ../core/log/levels.js */
"./node_modules/sip.js/lib/core/log/levels.js"),c=n(
/*! ../core/log/logger-factory.js */
"./node_modules/sip.js/lib/core/log/logger-factory.js"),u=n(
/*! ../core/messages/parser.js */
"./node_modules/sip.js/lib/core/messages/parser.js"),d=n(
/*! ../core/user-agent-core/user-agent-core.js */
"./node_modules/sip.js/lib/core/user-agent-core/user-agent-core.js"),p=n(
/*! ../core/messages/utils.js */
"./node_modules/sip.js/lib/core/messages/utils.js"),h=n(
/*! ../platform/web/session-description-handler/session-description-handler-factory-default.js */
"./node_modules/sip.js/lib/platform/web/session-description-handler/session-description-handler-factory-default.js"),f=n(
/*! ../platform/web/transport/transport.js */
"./node_modules/sip.js/lib/platform/web/transport/transport.js"),g=n(
/*! ../version.js */
"./node_modules/sip.js/lib/version.js"),m=n(
/*! ./emitter.js */
"./node_modules/sip.js/lib/api/emitter.js"),v=n(
/*! ./invitation.js */
"./node_modules/sip.js/lib/api/invitation.js"),b=n(
/*! ./inviter.js */
"./node_modules/sip.js/lib/api/inviter.js"),y=n(
/*! ./message.js */
"./node_modules/sip.js/lib/api/message.js"),w=n(
/*! ./notification.js */
"./node_modules/sip.js/lib/api/notification.js"),S=n(
/*! ./user-agent-options.js */
"./node_modules/sip.js/lib/api/user-agent-options.js"),C=n(
/*! ./user-agent-state.js */
"./node_modules/sip.js/lib/api/user-agent-state.js");class _{constructor(e={}){if(this._publishers={},this._registerers={},this._sessions={},this._subscriptions={},this._state=C.UserAgentState.Stopped,this._stateEventEmitter=new m.EmitterImpl,this.delegate=e.delegate,this.options=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},_.defaultOptions()),{sipjsId:Object(p.createRandomToken)(5)}),{uri:new o.URI("sip","anonymous."+Object(p.createRandomToken)(6),"anonymous.invalid")}),{viaHost:Object(p.createRandomToken)(12)+".invalid"}),_.stripUndefinedProperties(e)),this.options.hackIpInContact)if("boolean"==typeof this.options.hackIpInContact&&this.options.hackIpInContact){const e=1,t=254,n=Math.floor(Math.random()*(t-e+1)+e);this.options.viaHost="192.0.2."+n}else this.options.hackIpInContact&&(this.options.viaHost=this.options.hackIpInContact);switch(this.loggerFactory=new c.LoggerFactory,this.logger=this.loggerFactory.getLogger("sip.UserAgent"),this.loggerFactory.builtinEnabled=this.options.logBuiltinEnabled,this.loggerFactory.connector=this.options.logConnector,this.options.logLevel){case"error":this.loggerFactory.level=l.Levels.error;break;case"warn":this.loggerFactory.level=l.Levels.warn;break;case"log":this.loggerFactory.level=l.Levels.log;break;case"debug":this.loggerFactory.level=l.Levels.debug}if(this.options.logConfiguration&&(this.logger.log("Configuration:"),Object.keys(this.options).forEach((e=>{const t=this.options[e];switch(e){case"uri":case"sessionDescriptionHandlerFactory":this.logger.log("· "+e+": "+t);break;case"authorizationPassword":this.logger.log("· "+e+": NOT SHOWN");break;case"transportConstructor":this.logger.log("· "+e+": "+t.name);break;default:this.logger.log("· "+e+": "+JSON.stringify(t))}}))),this.options.transportOptions){const t=this.options.transportOptions,n=t.maxReconnectionAttempts,r=t.reconnectionTimeout;if(void 0!==n){const e='The transport option "maxReconnectionAttempts" as has apparently been specified and has been deprecated. It will no longer be available starting with SIP.js release 0.16.0. Please update accordingly.';this.logger.warn(e)}if(void 0!==r){const e='The transport option "reconnectionTimeout" as has apparently been specified and has been deprecated. It will no longer be available starting with SIP.js release 0.16.0. Please update accordingly.';this.logger.warn(e)}void 0===e.reconnectionDelay&&void 0!==r&&(this.options.reconnectionDelay=r),void 0===e.reconnectionAttempts&&void 0!==n&&(this.options.reconnectionAttempts=n)}if(void 0!==e.reconnectionDelay){const e='The user agent option "reconnectionDelay" as has apparently been specified and has been deprecated. It will no longer be available starting with SIP.js release 0.16.0. Please update accordingly.';this.logger.warn(e)}if(void 0!==e.reconnectionAttempts){const e='The user agent option "reconnectionAttempts" as has apparently been specified and has been deprecated. It will no longer be available starting with SIP.js release 0.16.0. Please update accordingly.';this.logger.warn(e)}if(this._transport=new this.options.transportConstructor(this.getLogger("sip.Transport"),this.options.transportOptions),this.initTransportCallbacks(),this._contact=this.initContact(),this._instanceId=this.options.instanceId?this.options.instanceId:_.newUUID(),-1===r.Grammar.parse(this._instanceId,"uuid"))throw new Error("Invalid instanceId.");this._userAgentCore=this.initCore()}static makeURI(e){return r.Grammar.URIParse(e)}static defaultOptions(){return{allowLegacyNotifications:!1,authorizationHa1:"",authorizationPassword:"",authorizationUsername:"",delegate:{},contactName:"",contactParams:{transport:"ws"},displayName:"",forceRport:!1,gracefulShutdown:!0,hackAllowUnregisteredOptionTags:!1,hackIpInContact:!1,hackViaTcp:!1,instanceId:"",instanceIdAlwaysAdded:!1,logBuiltinEnabled:!0,logConfiguration:!0,logConnector:()=>{},logLevel:"log",noAnswerTimeout:60,preloadedRouteSet:[],reconnectionAttempts:0,reconnectionDelay:4,sendInitialProvisionalResponse:!0,sessionDescriptionHandlerFactory:Object(h.defaultSessionDescriptionHandlerFactory)(),sessionDescriptionHandlerFactoryOptions:{},sipExtension100rel:S.SIPExtension.Unsupported,sipExtensionReplaces:S.SIPExtension.Unsupported,sipExtensionExtraSupported:[],sipjsId:"",transportConstructor:f.Transport,transportOptions:{},uri:new o.URI("sip","anonymous","anonymous.invalid"),userAgentString:"SIP.js/"+g.LIBRARY_VERSION,viaHost:""}}static newUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=Math.floor(16*Math.random());return("x"===e?t:t%4+8).toString(16)}))}static stripUndefinedProperties(e){return Object.keys(e).reduce(((t,n)=>(void 0!==e[n]&&(t[n]=e[n]),t)),{})}get configuration(){return this.options}get contact(){return this._contact}get instanceId(){return this._instanceId}get state(){return this._state}get stateChange(){return this._stateEventEmitter}get transport(){return this._transport}get userAgentCore(){return this._userAgentCore}getLogger(e,t){return this.loggerFactory.getLogger(e,t)}getLoggerFactory(){return this.loggerFactory}isConnected(){return this.transport.isConnected()}reconnect(){return this.state===C.UserAgentState.Stopped?Promise.reject(new Error("User agent stopped.")):Promise.resolve().then((()=>this.transport.connect()))}start(){return this.state===C.UserAgentState.Started?(this.logger.warn("User agent already started"),Promise.resolve()):(this.logger.log(`Starting ${this.configuration.uri}`),this.transitionState(C.UserAgentState.Started),this.transport.connect())}async stop(){if(this.state===C.UserAgentState.Stopped)return this.logger.warn("User agent already stopped"),Promise.resolve();if(this.logger.log(`Stopping ${this.configuration.uri}`),!this.options.gracefulShutdown)return this.logger.log("Dispose of transport"),this.transport.dispose().catch((e=>{throw this.logger.error(e.message),e})),this.logger.log("Dispose of core"),this.userAgentCore.dispose(),this._publishers={},this._registerers={},this._sessions={},this._subscriptions={},this.transitionState(C.UserAgentState.Stopped),Promise.resolve();const e=Object.assign({},this._publishers),t=Object.assign({},this._registerers),n=Object.assign({},this._sessions),r=Object.assign({},this._subscriptions),o=this.transport,s=this.userAgentCore;this.logger.log("Dispose of registerers");for(const i in t)t[i]&&await t[i].dispose().catch((e=>{throw this.logger.error(e.message),delete this._registerers[i],e}));this.logger.log("Dispose of sessions");for(const i in n)n[i]&&await n[i].dispose().catch((e=>{throw this.logger.error(e.message),delete this._sessions[i],e}));this.logger.log("Dispose of subscriptions");for(const i in r)r[i]&&await r[i].dispose().catch((e=>{throw this.logger.error(e.message),delete this._subscriptions[i],e}));this.logger.log("Dispose of publishers");for(const i in e)e[i]&&await e[i].dispose().catch((e=>{throw this.logger.error(e.message),delete this._publishers[i],e}));this.logger.log("Dispose of transport"),await o.dispose().catch((e=>{throw this.logger.error(e.message),e})),this.logger.log("Dispose of core"),s.dispose(),this.transitionState(C.UserAgentState.Stopped)}_makeInviter(e,t){return new b.Inviter(this,e,t)}attemptReconnection(e=1){const t=this.options.reconnectionAttempts,n=this.options.reconnectionDelay;e>t?this.logger.log("Maximum reconnection attempts reached"):(this.logger.log(`Reconnection attempt ${e} of ${t} - trying`),setTimeout((()=>{this.reconnect().then((()=>{this.logger.log(`Reconnection attempt ${e} of ${t} - succeeded`)})).catch((n=>{this.logger.error(n.message),this.logger.log(`Reconnection attempt ${e} of ${t} - failed`),this.attemptReconnection(++e)}))}),1===e?0:1e3*n))}initContact(){const e=""!==this.options.contactName?this.options.contactName:Object(p.createRandomToken)(8),t=this.options.contactParams;return{pubGruu:void 0,tempGruu:void 0,uri:new o.URI("sip",e,this.options.viaHost,void 0,t),toString:(e={})=>{const n=e.anonymous||!1,r=e.outbound||!1,o=e.register||!1;let s="<";return s+=n?this.contact.tempGruu||`sip:anonymous@anonymous.invalid;transport=${t.transport?t.transport:"ws"}`:o?this.contact.uri:this.contact.pubGruu||this.contact.uri,r&&(s+=";ob"),s+=">",this.options.instanceIdAlwaysAdded&&(s+=';+sip.instance="<urn:uuid:'+this._instanceId+'>"'),s}}}initCore(){let e=[];e.push("outbound"),this.options.sipExtension100rel===S.SIPExtension.Supported&&e.push("100rel"),this.options.sipExtensionReplaces===S.SIPExtension.Supported&&e.push("replaces"),this.options.sipExtensionExtraSupported&&e.push(...this.options.sipExtensionExtraSupported),this.options.hackAllowUnregisteredOptionTags||(e=e.filter((e=>S.UserAgentRegisteredOptionTags[e])));const t=(e=Array.from(new Set(e))).slice();(this.contact.pubGruu||this.contact.tempGruu)&&t.push("gruu");const n={aor:this.options.uri,contact:this.contact,displayName:this.options.displayName,loggerFactory:this.loggerFactory,hackViaTcp:this.options.hackViaTcp,routeSet:this.options.preloadedRouteSet,supportedOptionTags:e,supportedOptionTagsResponse:t,sipjsId:this.options.sipjsId,userAgentHeaderFieldValue:this.options.userAgentString,viaForceRport:this.options.forceRport,viaHost:this.options.viaHost,authenticationFactory:()=>{const e=this.options.authorizationUsername?this.options.authorizationUsername:this.options.uri.user,t=this.options.authorizationPassword?this.options.authorizationPassword:void 0,n=this.options.authorizationHa1?this.options.authorizationHa1:void 0;return new s.DigestAuthentication(this.getLoggerFactory(),n,e,t)},transportAccessor:()=>this.transport},r={onInvite:e=>{var t;const n=new v.Invitation(this,e);if(e.delegate={onCancel:e=>{n._onCancel(e)},onTransportError:e=>{this.logger.error("A transport error has occurred while handling an incoming INVITE request.")}},e.trying(),this.options.sipExtensionReplaces!==S.SIPExtension.Unsupported){const t=e.message.parseHeader("replaces");if(t){const e=t.call_id;if("string"!=typeof e)throw new Error("Type of call id is not string");const r=t.replaces_to_tag;if("string"!=typeof r)throw new Error("Type of to tag is not string");const o=t.replaces_from_tag;if("string"!=typeof o)throw new Error("type of from tag is not string");const s=e+r+o,i=this.userAgentCore.dialogs.get(s);if(!i)return void n.reject({statusCode:481});if(!i.early&&!0===t.early_only)return void n.reject({statusCode:486});const a=this._sessions[e+o]||this._sessions[e+r]||void 0;if(!a)throw new Error("Session does not exist.");n._replacee=a}}if(null===(t=this.delegate)||void 0===t?void 0:t.onInvite)return n.autoSendAnInitialProvisionalResponse?void n.progress().then((()=>{var e;if(void 0===(null===(e=this.delegate)||void 0===e?void 0:e.onInvite))throw new Error("onInvite undefined.");this.delegate.onInvite(n)})):void this.delegate.onInvite(n);n.reject({statusCode:486})},onMessage:e=>{if(this.delegate&&this.delegate.onMessage){const t=new y.Message(e);this.delegate.onMessage(t)}else e.accept()},onNotify:e=>{if(this.delegate&&this.delegate.onNotify){const t=new w.Notification(e);this.delegate.onNotify(t)}else this.options.allowLegacyNotifications?e.accept():e.reject({statusCode:481})},onRefer:e=>{this.logger.warn("Received an out of dialog REFER request"),this.delegate&&this.delegate.onReferRequest?this.delegate.onReferRequest(e):e.reject({statusCode:405})},onRegister:e=>{this.logger.warn("Received an out of dialog REGISTER request"),this.delegate&&this.delegate.onRegisterRequest?this.delegate.onRegisterRequest(e):e.reject({statusCode:405})},onSubscribe:e=>{this.logger.warn("Received an out of dialog SUBSCRIBE request"),this.delegate&&this.delegate.onSubscribeRequest?this.delegate.onSubscribeRequest(e):e.reject({statusCode:405})}};return new d.UserAgentCore(n,r)}initTransportCallbacks(){this.transport.onConnect=()=>this.onTransportConnect(),this.transport.onDisconnect=e=>this.onTransportDisconnect(e),this.transport.onMessage=e=>this.onTransportMessage(e)}onTransportConnect(){this.state!==C.UserAgentState.Stopped&&this.delegate&&this.delegate.onConnect&&this.delegate.onConnect()}onTransportDisconnect(e){this.state!==C.UserAgentState.Stopped&&(this.delegate&&this.delegate.onDisconnect&&this.delegate.onDisconnect(e),e&&this.options.reconnectionAttempts>0&&this.attemptReconnection())}onTransportMessage(e){const t=u.Parser.parseMessage(e,this.getLogger("sip.Parser"));if(!t)return void this.logger.warn("Failed to parse incoming message. Dropping.");if(this.state===C.UserAgentState.Stopped&&t instanceof i.IncomingRequestMessage)return void this.logger.warn(`Received ${t.method} request while stopped. Dropping.`);const n=()=>{const e=["from","to","call_id","cseq","via"];for(const n of e)if(!t.hasHeader(n))return this.logger.warn(`Missing mandatory header field : ${n}.`),!1;return!0};if(t instanceof i.IncomingRequestMessage){if(!n())return void this.logger.warn("Request missing mandatory header field. Dropping.");if(!t.toTag&&t.callId.substr(0,5)===this.options.sipjsId)return void this.userAgentCore.replyStateless(t,{statusCode:482});const e=Object(p.utf8Length)(t.body),r=t.getHeader("content-length");if(r&&e<Number(r))return void this.userAgentCore.replyStateless(t,{statusCode:400})}if(t instanceof a.IncomingResponseMessage){if(!n())return void this.logger.warn("Response missing mandatory header field. Dropping.");if(t.getHeaders("via").length>1)return void this.logger.warn("More than one Via header field present in the response. Dropping.");if(t.via.host!==this.options.viaHost||void 0!==t.via.port)return void this.logger.warn("Via sent-by in the response does not match UA Via host value. Dropping.");const e=Object(p.utf8Length)(t.body),r=t.getHeader("content-length");if(r&&e<Number(r))return void this.logger.warn("Message body length is lower than the value in Content-Length header field. Dropping.")}if(t instanceof i.IncomingRequestMessage)this.userAgentCore.receiveIncomingRequestFromTransport(t);else{if(!(t instanceof a.IncomingResponseMessage))throw new Error("Invalid message type.");this.userAgentCore.receiveIncomingResponseFromTransport(t)}}transitionState(e,t){const n=()=>{throw new Error(`Invalid state transition from ${this._state} to ${e}`)};switch(this._state){case C.UserAgentState.Started:e!==C.UserAgentState.Stopped&&n();break;case C.UserAgentState.Stopped:e!==C.UserAgentState.Started&&n();break;default:throw new Error("Unknown state.")}this.logger.log(`Transitioned from ${this._state} to ${e}`),this._state=e,this._stateEventEmitter.emit(this._state)}}},"./node_modules/sip.js/lib/core/dialogs/dialog-state.js":
/*!**************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/dialogs/dialog-state.js ***!
      \**************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/core/dialogs/dialog.js":
/*!********************************************************!*\
      !*** ./node_modules/sip.js/lib/core/dialogs/dialog.js ***!
      \********************************************************/
/*! exports provided: Dialog */
function(e,t,n){"use strict";n.r(t),n.d(t,"Dialog",(function(){return s}));var r=n(
/*! ../../grammar/name-addr-header.js */
"./node_modules/sip.js/lib/grammar/name-addr-header.js"),o=n(
/*! ../messages/methods/constants.js */
"./node_modules/sip.js/lib/core/messages/methods/constants.js");class s{constructor(e,t){this.core=e,this.dialogState=t,this.core.dialogs.set(this.id,this)}static initialDialogStateForUserAgentClient(e,t){const n=t.getHeaders("record-route").reverse(),o=t.parseHeader("contact");if(!o)throw new Error("Contact undefined.");if(!(o instanceof r.NameAddrHeader))throw new Error("Contact not instance of NameAddrHeader.");const s=o.uri,i=e.cseq,a=e.callId,l=e.fromTag,c=t.toTag;if(!a)throw new Error("Call id undefined.");if(!l)throw new Error("From tag undefined.");if(!c)throw new Error("To tag undefined.");if(!e.from)throw new Error("From undefined.");if(!e.to)throw new Error("To undefined.");const u=e.from.uri,d=e.to.uri;if(!t.statusCode)throw new Error("Incoming response status code undefined.");return{id:a+l+c,early:t.statusCode<200,callId:a,localTag:l,remoteTag:c,localSequenceNumber:i,remoteSequenceNumber:void 0,localURI:u,remoteURI:d,remoteTarget:s,routeSet:n,secure:!1}}static initialDialogStateForUserAgentServer(e,t,n=!1){const o=e.getHeaders("record-route"),s=e.parseHeader("contact");if(!s)throw new Error("Contact undefined.");if(!(s instanceof r.NameAddrHeader))throw new Error("Contact not instance of NameAddrHeader.");const i=s.uri,a=e.cseq,l=e.callId,c=t,u=e.fromTag,d=e.from.uri;return{id:l+c+u,early:n,callId:l,localTag:c,remoteTag:u,localSequenceNumber:void 0,remoteSequenceNumber:a,localURI:e.to.uri,remoteURI:d,remoteTarget:i,routeSet:o,secure:!1}}dispose(){this.core.dialogs.delete(this.id)}get id(){return this.dialogState.id}get early(){return this.dialogState.early}get callId(){return this.dialogState.callId}get localTag(){return this.dialogState.localTag}get remoteTag(){return this.dialogState.remoteTag}get localSequenceNumber(){return this.dialogState.localSequenceNumber}get remoteSequenceNumber(){return this.dialogState.remoteSequenceNumber}get localURI(){return this.dialogState.localURI}get remoteURI(){return this.dialogState.remoteURI}get remoteTarget(){return this.dialogState.remoteTarget}get routeSet(){return this.dialogState.routeSet}get secure(){return this.dialogState.secure}get userAgentCore(){return this.core}confirm(){this.dialogState.early=!1}receiveRequest(e){if(e.method!==o.C.ACK){if(this.remoteSequenceNumber){if(e.cseq<=this.remoteSequenceNumber)throw new Error("Out of sequence in dialog request. Did you forget to call sequenceGuard()?");this.dialogState.remoteSequenceNumber=e.cseq}this.remoteSequenceNumber||(this.dialogState.remoteSequenceNumber=e.cseq)}}recomputeRouteSet(e){this.dialogState.routeSet=e.getHeaders("record-route").reverse()}createOutgoingRequestMessage(e,t){const n=this.remoteURI,r=this.remoteTag,o=this.localURI,s=this.localTag,i=this.callId;let a;a=t&&t.cseq?t.cseq:this.dialogState.localSequenceNumber?this.dialogState.localSequenceNumber+=1:this.dialogState.localSequenceNumber=1;const l=this.remoteTarget,c=this.routeSet,u=t&&t.extraHeaders,d=t&&t.body;return this.userAgentCore.makeOutgoingRequestMessage(e,l,o,n,{callId:i,cseq:a,fromTag:s,toTag:r,routeSet:c},u,d)}incrementLocalSequenceNumber(){if(!this.dialogState.localSequenceNumber)throw new Error("Local sequence number undefined.");this.dialogState.localSequenceNumber+=1}sequenceGuard(e){return e.method===o.C.ACK||!(this.remoteSequenceNumber&&e.cseq<=this.remoteSequenceNumber)||(this.core.replyStateless(e,{statusCode:500}),!1)}}},"./node_modules/sip.js/lib/core/dialogs/index.js":
/*!*******************************************************!*\
      !*** ./node_modules/sip.js/lib/core/dialogs/index.js ***!
      \*******************************************************/
/*! exports provided: Dialog, SessionDialog, SubscriptionDialog */
function(e,t,n){"use strict";n.r(t);var r=n(
/*! ./dialog.js */
"./node_modules/sip.js/lib/core/dialogs/dialog.js");n.d(t,"Dialog",(function(){return r.Dialog})),n(
/*! ./dialog-state.js */
"./node_modules/sip.js/lib/core/dialogs/dialog-state.js");var o=n(
/*! ./session-dialog.js */
"./node_modules/sip.js/lib/core/dialogs/session-dialog.js");n.d(t,"SessionDialog",(function(){return o.SessionDialog}));var s=n(
/*! ./subscription-dialog.js */
"./node_modules/sip.js/lib/core/dialogs/subscription-dialog.js");n.d(t,"SubscriptionDialog",(function(){return s.SubscriptionDialog}))},"./node_modules/sip.js/lib/core/dialogs/session-dialog.js":
/*!****************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/dialogs/session-dialog.js ***!
      \****************************************************************/
/*! exports provided: SessionDialog */
function(e,t,n){"use strict";n.r(t),n.d(t,"SessionDialog",(function(){return A}));var r=n(
/*! ../../grammar/name-addr-header.js */
"./node_modules/sip.js/lib/grammar/name-addr-header.js"),o=n(
/*! ../messages/body.js */
"./node_modules/sip.js/lib/core/messages/body.js"),s=n(
/*! ../messages/methods/constants.js */
"./node_modules/sip.js/lib/core/messages/methods/constants.js"),i=n(
/*! ../messages/incoming-request-message.js */
"./node_modules/sip.js/lib/core/messages/incoming-request-message.js"),a=n(
/*! ../messages/incoming-response-message.js */
"./node_modules/sip.js/lib/core/messages/incoming-response-message.js"),l=n(
/*! ../messages/outgoing-request-message.js */
"./node_modules/sip.js/lib/core/messages/outgoing-request-message.js"),c=n(
/*! ../session/session.js */
"./node_modules/sip.js/lib/core/session/session.js"),u=n(
/*! ../timers.js */
"./node_modules/sip.js/lib/core/timers.js"),d=n(
/*! ../transactions/invite-client-transaction.js */
"./node_modules/sip.js/lib/core/transactions/invite-client-transaction.js"),p=n(
/*! ../transactions/invite-server-transaction.js */
"./node_modules/sip.js/lib/core/transactions/invite-server-transaction.js"),h=n(
/*! ../transactions/transaction-state.js */
"./node_modules/sip.js/lib/core/transactions/transaction-state.js"),f=n(
/*! ../user-agents/bye-user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/bye-user-agent-client.js"),g=n(
/*! ../user-agents/bye-user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/bye-user-agent-server.js"),m=n(
/*! ../user-agents/info-user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/info-user-agent-client.js"),v=n(
/*! ../user-agents/info-user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/info-user-agent-server.js"),b=n(
/*! ../user-agents/message-user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/message-user-agent-client.js"),y=n(
/*! ../user-agents/message-user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/message-user-agent-server.js"),w=n(
/*! ../user-agents/notify-user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/notify-user-agent-client.js"),S=n(
/*! ../user-agents/notify-user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/notify-user-agent-server.js"),C=n(
/*! ../user-agents/prack-user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/prack-user-agent-client.js"),_=n(
/*! ../user-agents/prack-user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/prack-user-agent-server.js"),E=n(
/*! ../user-agents/re-invite-user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/re-invite-user-agent-client.js"),k=n(
/*! ../user-agents/re-invite-user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/re-invite-user-agent-server.js"),T=n(
/*! ../user-agents/refer-user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/refer-user-agent-client.js"),x=n(
/*! ../user-agents/refer-user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/refer-user-agent-server.js"),R=n(
/*! ./dialog.js */
"./node_modules/sip.js/lib/core/dialogs/dialog.js");class A extends R.Dialog{constructor(e,t,n,r){super(t,n),this.initialTransaction=e,this._signalingState=c.SignalingState.Initial,this.ackWait=!1,this.ackProcessing=!1,this.delegate=r,e instanceof p.InviteServerTransaction&&(this.ackWait=!0),this.early||this.start2xxRetransmissionTimer(),this.signalingStateTransition(e.request),this.logger=t.loggerFactory.getLogger("sip.invite-dialog"),this.logger.log(`INVITE dialog ${this.id} constructed`)}dispose(){super.dispose(),this._signalingState=c.SignalingState.Closed,this._offer=void 0,this._answer=void 0,this.invite2xxTimer&&(clearTimeout(this.invite2xxTimer),this.invite2xxTimer=void 0),this.logger.log(`INVITE dialog ${this.id} destroyed`)}get sessionState(){return this.early?c.SessionState.Early:this.ackWait?c.SessionState.AckWait:this._signalingState===c.SignalingState.Closed?c.SessionState.Terminated:c.SessionState.Confirmed}get signalingState(){return this._signalingState}get offer(){return this._offer}get answer(){return this._answer}confirm(){this.early&&this.start2xxRetransmissionTimer(),super.confirm()}reConfirm(){this.reinviteUserAgentServer&&this.startReInvite2xxRetransmissionTimer()}ack(e={}){let t;if(this.logger.log(`INVITE dialog ${this.id} sending ACK request`),this.reinviteUserAgentClient){if(!(this.reinviteUserAgentClient.transaction instanceof d.InviteClientTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");t=this.reinviteUserAgentClient.transaction,this.reinviteUserAgentClient=void 0}else{if(!(this.initialTransaction instanceof d.InviteClientTransaction))throw new Error("Initial transaction not instance of InviteClientTransaction.");t=this.initialTransaction}const n=this.createOutgoingRequestMessage(s.C.ACK,{cseq:t.request.cseq,extraHeaders:e.extraHeaders,body:e.body});return t.ackResponse(n),this.signalingStateTransition(n),{message:n}}bye(e,t){if(this.logger.log(`INVITE dialog ${this.id} sending BYE request`),this.initialTransaction instanceof p.InviteServerTransaction){if(this.early)throw new Error("UAS MUST NOT send a BYE on early dialogs.");if(this.ackWait&&this.initialTransaction.state!==h.TransactionState.Terminated)throw new Error("UAS MUST NOT send a BYE on a confirmed dialog until it has received an ACK for its 2xx response or until the server transaction times out.")}return new f.ByeUserAgentClient(this,e,t)}info(e,t){if(this.logger.log(`INVITE dialog ${this.id} sending INFO request`),this.early)throw new Error("Dialog not confirmed.");return new m.InfoUserAgentClient(this,e,t)}invite(e,t){if(this.logger.log(`INVITE dialog ${this.id} sending INVITE request`),this.early)throw new Error("Dialog not confirmed.");if(this.reinviteUserAgentClient)throw new Error("There is an ongoing re-INVITE client transaction.");if(this.reinviteUserAgentServer)throw new Error("There is an ongoing re-INVITE server transaction.");return new E.ReInviteUserAgentClient(this,e,t)}message(e,t){if(this.logger.log(`INVITE dialog ${this.id} sending MESSAGE request`),this.early)throw new Error("Dialog not confirmed.");const n=this.createOutgoingRequestMessage(s.C.MESSAGE,t);return new b.MessageUserAgentClient(this.core,n,e)}notify(e,t){if(this.logger.log(`INVITE dialog ${this.id} sending NOTIFY request`),this.early)throw new Error("Dialog not confirmed.");return new w.NotifyUserAgentClient(this,e,t)}prack(e,t){return this.logger.log(`INVITE dialog ${this.id} sending PRACK request`),new C.PrackUserAgentClient(this,e,t)}refer(e,t){if(this.logger.log(`INVITE dialog ${this.id} sending REFER request`),this.early)throw new Error("Dialog not confirmed.");return new T.ReferUserAgentClient(this,e,t)}receiveRequest(e){if(this.logger.log(`INVITE dialog ${this.id} received ${e.method} request`),e.method!==s.C.ACK)if(this.sequenceGuard(e)){if(super.receiveRequest(e),e.method===s.C.INVITE){const t=()=>{const e=this.ackWait?"waiting for initial ACK":"processing initial ACK";this.logger.warn(`INVITE dialog ${this.id} received re-INVITE while ${e}`);let t="RFC 5407 suggests the following to avoid this race condition... ";t+=" Note: Implementation issues are outside the scope of this document,",t+=" but the following tip is provided for avoiding race conditions of",t+=" this type.  The caller can delay sending re-INVITE F6 for some period",t+=" of time (2 seconds, perhaps), after which the caller can reasonably",t+=" assume that its ACK has been received.  Implementors can decouple the",t+=" actions of the user (e.g., pressing the hold button) from the actions",t+=" of the protocol (the sending of re-INVITE F6), so that the UA can",t+=" behave like this.  In this case, it is the implementor's choice as to",t+=" how long to wait.  In most cases, such an implementation may be",t+=" useful to prevent the type of race condition shown in this section.",t+=" This document expresses no preference about whether or not they",t+=" should wait for an ACK to be delivered.  After considering the impact",t+=" on user experience, implementors should decide whether or not to wait",t+=" for a while, because the user experience depends on the",t+=" implementation and has no direct bearing on protocol behavior.",this.logger.warn("RFC 5407 suggests the following to avoid this race condition...  Note: Implementation issues are outside the scope of this document, but the following tip is provided for avoiding race conditions of this type.  The caller can delay sending re-INVITE F6 for some period of time (2 seconds, perhaps), after which the caller can reasonably assume that its ACK has been received.  Implementors can decouple the actions of the user (e.g., pressing the hold button) from the actions of the protocol (the sending of re-INVITE F6), so that the UA can behave like this.  In this case, it is the implementor's choice as to how long to wait.  In most cases, such an implementation may be useful to prevent the type of race condition shown in this section. This document expresses no preference about whether or not they should wait for an ACK to be delivered.  After considering the impact on user experience, implementors should decide whether or not to wait for a while, because the user experience depends on the implementation and has no direct bearing on protocol behavior.")},n=[`Retry-After: ${Math.floor(10*Math.random())+1}`];if(this.ackProcessing)return this.core.replyStateless(e,{statusCode:500,extraHeaders:n}),void t();if(this.ackWait&&this.signalingState!==c.SignalingState.Stable)return this.core.replyStateless(e,{statusCode:500,extraHeaders:n}),void t();if(this.reinviteUserAgentServer)return void this.core.replyStateless(e,{statusCode:500,extraHeaders:n});if(this.reinviteUserAgentClient)return void this.core.replyStateless(e,{statusCode:491})}if(e.method===s.C.INVITE){const t=e.parseHeader("contact");if(!t)throw new Error("Contact undefined.");if(!(t instanceof r.NameAddrHeader))throw new Error("Contact not instance of NameAddrHeader.");this.dialogState.remoteTarget=t.uri}switch(e.method){case s.C.BYE:{const t=new g.ByeUserAgentServer(this,e);this.delegate&&this.delegate.onBye?this.delegate.onBye(t):t.accept(),this.dispose()}break;case s.C.INFO:{const t=new v.InfoUserAgentServer(this,e);this.delegate&&this.delegate.onInfo?this.delegate.onInfo(t):t.reject({statusCode:469,extraHeaders:["Recv-Info:"]})}break;case s.C.INVITE:{const t=new k.ReInviteUserAgentServer(this,e);this.signalingStateTransition(e),this.delegate&&this.delegate.onInvite?this.delegate.onInvite(t):t.reject({statusCode:488})}break;case s.C.MESSAGE:{const t=new y.MessageUserAgentServer(this.core,e);this.delegate&&this.delegate.onMessage?this.delegate.onMessage(t):t.accept()}break;case s.C.NOTIFY:{const t=new S.NotifyUserAgentServer(this,e);this.delegate&&this.delegate.onNotify?this.delegate.onNotify(t):t.accept()}break;case s.C.PRACK:{const t=new _.PrackUserAgentServer(this,e);this.delegate&&this.delegate.onPrack?this.delegate.onPrack(t):t.accept()}break;case s.C.REFER:{const t=new x.ReferUserAgentServer(this,e);this.delegate&&this.delegate.onRefer?this.delegate.onRefer(t):t.reject()}break;default:this.logger.log(`INVITE dialog ${this.id} received unimplemented ${e.method} request`),this.core.replyStateless(e,{statusCode:501})}}else this.logger.log(`INVITE dialog ${this.id} rejected out of order ${e.method} request.`);else{if(this.ackWait){if(this.initialTransaction instanceof d.InviteClientTransaction)return void this.logger.warn(`INVITE dialog ${this.id} received unexpected ${e.method} request, dropping.`);if(this.initialTransaction.request.cseq!==e.cseq)return void this.logger.warn(`INVITE dialog ${this.id} received unexpected ${e.method} request, dropping.`);this.ackWait=!1}else{if(!this.reinviteUserAgentServer)return void this.logger.warn(`INVITE dialog ${this.id} received unexpected ${e.method} request, dropping.`);if(this.reinviteUserAgentServer.transaction.request.cseq!==e.cseq)return void this.logger.warn(`INVITE dialog ${this.id} received unexpected ${e.method} request, dropping.`);this.reinviteUserAgentServer=void 0}if(this.signalingStateTransition(e),this.delegate&&this.delegate.onAck){const t=this.delegate.onAck({message:e});t instanceof Promise&&(this.ackProcessing=!0,t.then((()=>this.ackProcessing=!1)).catch((()=>this.ackProcessing=!1)))}}}reliableSequenceGuard(e){const t=e.statusCode;if(!t)throw new Error("Status code undefined");if(t>100&&t<200){const t=e.getHeader("require"),n=e.getHeader("rseq"),r=t&&t.includes("100rel")&&n?Number(n):void 0;if(r){if(this.rseq&&this.rseq+1!==r)return!1;this.rseq=this.rseq?this.rseq+1:r}}return!0}signalingStateRollback(){this._signalingState!==c.SignalingState.HaveLocalOffer&&this.signalingState!==c.SignalingState.HaveRemoteOffer||this._rollbackOffer&&this._rollbackAnswer&&(this._signalingState=c.SignalingState.Stable,this._offer=this._rollbackOffer,this._answer=this._rollbackAnswer)}signalingStateTransition(e){const t=Object(o.getBody)(e);if(t&&"session"===t.contentDisposition){if(this._signalingState===c.SignalingState.Stable&&(this._rollbackOffer=this._offer,this._rollbackAnswer=this._answer),e instanceof i.IncomingRequestMessage)switch(this._signalingState){case c.SignalingState.Initial:case c.SignalingState.Stable:this._signalingState=c.SignalingState.HaveRemoteOffer,this._offer=t,this._answer=void 0;break;case c.SignalingState.HaveLocalOffer:this._signalingState=c.SignalingState.Stable,this._answer=t;break;case c.SignalingState.HaveRemoteOffer:case c.SignalingState.Closed:break;default:throw new Error("Unexpected signaling state.")}if(e instanceof a.IncomingResponseMessage)switch(this._signalingState){case c.SignalingState.Initial:case c.SignalingState.Stable:this._signalingState=c.SignalingState.HaveRemoteOffer,this._offer=t,this._answer=void 0;break;case c.SignalingState.HaveLocalOffer:this._signalingState=c.SignalingState.Stable,this._answer=t;break;case c.SignalingState.HaveRemoteOffer:case c.SignalingState.Closed:break;default:throw new Error("Unexpected signaling state.")}if(e instanceof l.OutgoingRequestMessage)switch(this._signalingState){case c.SignalingState.Initial:case c.SignalingState.Stable:this._signalingState=c.SignalingState.HaveLocalOffer,this._offer=t,this._answer=void 0;break;case c.SignalingState.HaveLocalOffer:break;case c.SignalingState.HaveRemoteOffer:this._signalingState=c.SignalingState.Stable,this._answer=t;break;case c.SignalingState.Closed:break;default:throw new Error("Unexpected signaling state.")}if(Object(o.isBody)(e))switch(this._signalingState){case c.SignalingState.Initial:case c.SignalingState.Stable:this._signalingState=c.SignalingState.HaveLocalOffer,this._offer=t,this._answer=void 0;break;case c.SignalingState.HaveLocalOffer:break;case c.SignalingState.HaveRemoteOffer:this._signalingState=c.SignalingState.Stable,this._answer=t;break;case c.SignalingState.Closed:break;default:throw new Error("Unexpected signaling state.")}}}start2xxRetransmissionTimer(){if(this.initialTransaction instanceof p.InviteServerTransaction){const e=this.initialTransaction;let t=u.Timers.T1;const n=()=>{this.ackWait?(this.logger.log("No ACK for 2xx response received, attempting retransmission"),e.retransmitAcceptedResponse(),t=Math.min(2*t,u.Timers.T2),this.invite2xxTimer=setTimeout(n,t)):this.invite2xxTimer=void 0};this.invite2xxTimer=setTimeout(n,t);const r=()=>{e.state===h.TransactionState.Terminated&&(e.removeStateChangeListener(r),this.invite2xxTimer&&(clearTimeout(this.invite2xxTimer),this.invite2xxTimer=void 0),this.ackWait&&(this.delegate&&this.delegate.onAckTimeout?this.delegate.onAckTimeout():this.bye()))};e.addStateChangeListener(r)}}startReInvite2xxRetransmissionTimer(){if(this.reinviteUserAgentServer&&this.reinviteUserAgentServer.transaction instanceof p.InviteServerTransaction){const e=this.reinviteUserAgentServer.transaction;let t=u.Timers.T1;const n=()=>{this.reinviteUserAgentServer?(this.logger.log("No ACK for 2xx response received, attempting retransmission"),e.retransmitAcceptedResponse(),t=Math.min(2*t,u.Timers.T2),this.invite2xxTimer=setTimeout(n,t)):this.invite2xxTimer=void 0};this.invite2xxTimer=setTimeout(n,t);const r=()=>{e.state===h.TransactionState.Terminated&&(e.removeStateChangeListener(r),this.invite2xxTimer&&(clearTimeout(this.invite2xxTimer),this.invite2xxTimer=void 0),this.reinviteUserAgentServer)};e.addStateChangeListener(r)}}}},"./node_modules/sip.js/lib/core/dialogs/subscription-dialog.js":
/*!*********************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/dialogs/subscription-dialog.js ***!
      \*********************************************************************/
/*! exports provided: SubscriptionDialog */
function(e,t,n){"use strict";n.r(t),n.d(t,"SubscriptionDialog",(function(){return d}));var r=n(
/*! ../../grammar/name-addr-header.js */
"./node_modules/sip.js/lib/grammar/name-addr-header.js"),o=n(
/*! ../messages/methods/constants.js */
"./node_modules/sip.js/lib/core/messages/methods/constants.js"),s=n(
/*! ../subscription/subscription.js */
"./node_modules/sip.js/lib/core/subscription/subscription.js"),i=n(
/*! ../timers.js */
"./node_modules/sip.js/lib/core/timers.js"),a=n(
/*! ../user-agent-core/allowed-methods.js */
"./node_modules/sip.js/lib/core/user-agent-core/allowed-methods.js"),l=n(
/*! ../user-agents/notify-user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/notify-user-agent-server.js"),c=n(
/*! ../user-agents/re-subscribe-user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/re-subscribe-user-agent-client.js"),u=n(
/*! ./dialog.js */
"./node_modules/sip.js/lib/core/dialogs/dialog.js");class d extends u.Dialog{constructor(e,t,n,r,o,s){super(r,o),this.delegate=s,this._autoRefresh=!1,this._subscriptionEvent=e,this._subscriptionExpires=t,this._subscriptionExpiresInitial=t,this._subscriptionExpiresLastSet=Math.floor(Date.now()/1e3),this._subscriptionRefresh=void 0,this._subscriptionRefreshLastSet=void 0,this._subscriptionState=n,this.logger=r.loggerFactory.getLogger("sip.subscribe-dialog"),this.logger.log(`SUBSCRIBE dialog ${this.id} constructed`)}static initialDialogStateForSubscription(e,t){const n=t.getHeaders("record-route"),o=t.parseHeader("contact");if(!o)throw new Error("Contact undefined.");if(!(o instanceof r.NameAddrHeader))throw new Error("Contact not instance of NameAddrHeader.");const s=o.uri,i=e.cseq,a=e.callId,l=e.fromTag,c=t.fromTag;if(!a)throw new Error("Call id undefined.");if(!l)throw new Error("From tag undefined.");if(!c)throw new Error("To tag undefined.");if(!e.from)throw new Error("From undefined.");if(!e.to)throw new Error("To undefined.");return{id:a+l+c,early:!1,callId:a,localTag:l,remoteTag:c,localSequenceNumber:i,remoteSequenceNumber:void 0,localURI:e.from.uri,remoteURI:e.to.uri,remoteTarget:s,routeSet:n,secure:!1}}dispose(){super.dispose(),this.N&&(clearTimeout(this.N),this.N=void 0),this.refreshTimerClear(),this.logger.log(`SUBSCRIBE dialog ${this.id} destroyed`)}get autoRefresh(){return this._autoRefresh}set autoRefresh(e){this._autoRefresh=!0,this.refreshTimerSet()}get subscriptionEvent(){return this._subscriptionEvent}get subscriptionExpires(){const e=Math.floor(Date.now()/1e3)-this._subscriptionExpiresLastSet,t=this._subscriptionExpires-e;return Math.max(t,0)}set subscriptionExpires(e){if(e<0)throw new Error("Expires must be greater than or equal to zero.");if(this._subscriptionExpires=e,this._subscriptionExpiresLastSet=Math.floor(Date.now()/1e3),this.autoRefresh){const t=this.subscriptionRefresh;(void 0===t||t>=e)&&this.refreshTimerSet()}}get subscriptionExpiresInitial(){return this._subscriptionExpiresInitial}get subscriptionRefresh(){if(void 0===this._subscriptionRefresh||void 0===this._subscriptionRefreshLastSet)return;const e=Math.floor(Date.now()/1e3)-this._subscriptionRefreshLastSet,t=this._subscriptionRefresh-e;return Math.max(t,0)}get subscriptionState(){return this._subscriptionState}receiveRequest(e){if(this.logger.log(`SUBSCRIBE dialog ${this.id} received ${e.method} request`),this.sequenceGuard(e))switch(super.receiveRequest(e),e.method){case o.C.NOTIFY:this.onNotify(e);break;default:this.logger.log(`SUBSCRIBE dialog ${this.id} received unimplemented ${e.method} request`),this.core.replyStateless(e,{statusCode:501})}else this.logger.log(`SUBSCRIBE dialog ${this.id} rejected out of order ${e.method} request.`)}refresh(){const e="Allow: "+a.AllowedMethods.toString(),t={};return t.extraHeaders=(t.extraHeaders||[]).slice(),t.extraHeaders.push(e),t.extraHeaders.push("Event: "+this.subscriptionEvent),t.extraHeaders.push("Expires: "+this.subscriptionExpiresInitial),t.extraHeaders.push("Contact: "+this.core.configuration.contact.toString()),this.subscribe(void 0,t)}subscribe(e,t={}){var n;if(this.subscriptionState!==s.SubscriptionState.Pending&&this.subscriptionState!==s.SubscriptionState.Active)throw new Error(`Invalid state ${this.subscriptionState}. May only re-subscribe while in state "pending" or "active".`);this.logger.log(`SUBSCRIBE dialog ${this.id} sending SUBSCRIBE request`);const r=new c.ReSubscribeUserAgentClient(this,e,t);return this.N&&(clearTimeout(this.N),this.N=void 0),(null===(n=t.extraHeaders)||void 0===n?void 0:n.includes("Expires: 0"))||(this.N=setTimeout((()=>this.timerN()),i.Timers.TIMER_N)),r}terminate(){this.stateTransition(s.SubscriptionState.Terminated),this.onTerminated()}unsubscribe(){const e="Allow: "+a.AllowedMethods.toString(),t={};return t.extraHeaders=(t.extraHeaders||[]).slice(),t.extraHeaders.push(e),t.extraHeaders.push("Event: "+this.subscriptionEvent),t.extraHeaders.push("Expires: 0"),t.extraHeaders.push("Contact: "+this.core.configuration.contact.toString()),this.subscribe(void 0,t)}onNotify(e){const t=e.parseHeader("Event").event;if(!t||t!==this.subscriptionEvent)return void this.core.replyStateless(e,{statusCode:489});this.N&&(clearTimeout(this.N),this.N=void 0);const n=e.parseHeader("Subscription-State");if(!n||!n.state)return void this.core.replyStateless(e,{statusCode:489});const r=n.state,o=n.expires?Math.max(n.expires,0):void 0;switch(r){case"pending":this.stateTransition(s.SubscriptionState.Pending,o);break;case"active":this.stateTransition(s.SubscriptionState.Active,o);break;case"terminated":this.stateTransition(s.SubscriptionState.Terminated,o);break;default:this.logger.warn("Unrecognized subscription state.")}const i=new l.NotifyUserAgentServer(this,e);this.delegate&&this.delegate.onNotify?this.delegate.onNotify(i):i.accept()}onRefresh(e){this.delegate&&this.delegate.onRefresh&&this.delegate.onRefresh(e)}onTerminated(){this.delegate&&this.delegate.onTerminated&&this.delegate.onTerminated()}refreshTimerClear(){this.refreshTimer&&(clearTimeout(this.refreshTimer),this.refreshTimer=void 0)}refreshTimerSet(){if(this.refreshTimerClear(),this.autoRefresh&&this.subscriptionExpires>0){const e=900*this.subscriptionExpires;this._subscriptionRefresh=Math.floor(e/1e3),this._subscriptionRefreshLastSet=Math.floor(Date.now()/1e3),this.refreshTimer=setTimeout((()=>{this.refreshTimer=void 0,this._subscriptionRefresh=void 0,this._subscriptionRefreshLastSet=void 0,this.onRefresh(this.refresh())}),e)}}stateTransition(e,t){const n=()=>{this.logger.warn(`Invalid subscription state transition from ${this.subscriptionState} to ${e}`)};switch(e){case s.SubscriptionState.Initial:case s.SubscriptionState.NotifyWait:return void n();case s.SubscriptionState.Pending:if(this.subscriptionState!==s.SubscriptionState.NotifyWait&&this.subscriptionState!==s.SubscriptionState.Pending)return void n();break;case s.SubscriptionState.Active:case s.SubscriptionState.Terminated:if(this.subscriptionState!==s.SubscriptionState.NotifyWait&&this.subscriptionState!==s.SubscriptionState.Pending&&this.subscriptionState!==s.SubscriptionState.Active)return void n();break;default:return void n()}e===s.SubscriptionState.Pending&&t&&(this.subscriptionExpires=t),e===s.SubscriptionState.Active&&t&&(this.subscriptionExpires=t),e===s.SubscriptionState.Terminated&&this.dispose(),this._subscriptionState=e}timerN(){this.logger.warn("Timer N expired for SUBSCRIBE dialog. Timed out waiting for NOTIFY."),this.subscriptionState!==s.SubscriptionState.Terminated&&(this.stateTransition(s.SubscriptionState.Terminated),this.onTerminated())}}},"./node_modules/sip.js/lib/core/exceptions/exception.js":
/*!**************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/exceptions/exception.js ***!
      \**************************************************************/
/*! exports provided: Exception */
function(e,t,n){"use strict";n.r(t),n.d(t,"Exception",(function(){return r}));class r extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}},"./node_modules/sip.js/lib/core/exceptions/index.js":
/*!**********************************************************!*\
      !*** ./node_modules/sip.js/lib/core/exceptions/index.js ***!
      \**********************************************************/
/*! exports provided: Exception, TransactionStateError, TransportError */
function(e,t,n){"use strict";n.r(t);var r=n(
/*! ./exception.js */
"./node_modules/sip.js/lib/core/exceptions/exception.js");n.d(t,"Exception",(function(){return r.Exception}));var o=n(
/*! ./transaction-state-error.js */
"./node_modules/sip.js/lib/core/exceptions/transaction-state-error.js");n.d(t,"TransactionStateError",(function(){return o.TransactionStateError}));var s=n(
/*! ./transport-error.js */
"./node_modules/sip.js/lib/core/exceptions/transport-error.js");n.d(t,"TransportError",(function(){return s.TransportError}))},"./node_modules/sip.js/lib/core/exceptions/transaction-state-error.js":
/*!****************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/exceptions/transaction-state-error.js ***!
      \****************************************************************************/
/*! exports provided: TransactionStateError */
function(e,t,n){"use strict";n.r(t),n.d(t,"TransactionStateError",(function(){return o}));var r=n(
/*! ./exception.js */
"./node_modules/sip.js/lib/core/exceptions/exception.js");class o extends r.Exception{constructor(e){super(e||"Transaction state error.")}}},"./node_modules/sip.js/lib/core/exceptions/transport-error.js":
/*!********************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/exceptions/transport-error.js ***!
      \********************************************************************/
/*! exports provided: TransportError */
function(e,t,n){"use strict";n.r(t),n.d(t,"TransportError",(function(){return o}));var r=n(
/*! ./exception.js */
"./node_modules/sip.js/lib/core/exceptions/exception.js");class o extends r.Exception{constructor(e){super(e||"Unspecified transport error.")}}},"./node_modules/sip.js/lib/core/index.js":
/*!***********************************************!*\
      !*** ./node_modules/sip.js/lib/core/index.js ***!
      \***********************************************/
/*! exports provided: Dialog, SessionDialog, SubscriptionDialog, Exception, TransactionStateError, TransportError, Levels, LoggerFactory, Logger, C, fromBodyLegacy, isBody, getBody, DigestAuthentication, IncomingMessage, IncomingRequestMessage, IncomingResponseMessage, OutgoingRequestMessage, constructOutgoingResponse, Parser, SessionState, SignalingState, SubscriptionState, ClientTransaction, InviteClientTransaction, InviteServerTransaction, NonInviteClientTransaction, NonInviteServerTransaction, ServerTransaction, TransactionState, Transaction, UserAgentCore, ByeUserAgentClient, ByeUserAgentServer, CancelUserAgentClient, InfoUserAgentClient, InfoUserAgentServer, InviteUserAgentClient, InviteUserAgentServer, MessageUserAgentClient, MessageUserAgentServer, NotifyUserAgentClient, NotifyUserAgentServer, PublishUserAgentClient, PrackUserAgentClient, PrackUserAgentServer, ReInviteUserAgentClient, ReInviteUserAgentServer, ReSubscribeUserAgentClient, ReSubscribeUserAgentServer, ReferUserAgentClient, ReferUserAgentServer, RegisterUserAgentClient, RegisterUserAgentServer, SubscribeUserAgentClient, SubscribeUserAgentServer, UserAgentClient, UserAgentServer, Timers, Grammar, NameAddrHeader, Parameters, URI, equivalentURI */
function(e,t,n){"use strict";n.r(t);var r=n(
/*! ./dialogs/index.js */
"./node_modules/sip.js/lib/core/dialogs/index.js");n.d(t,"Dialog",(function(){return r.Dialog})),n.d(t,"SessionDialog",(function(){return r.SessionDialog})),n.d(t,"SubscriptionDialog",(function(){return r.SubscriptionDialog}));var o=n(
/*! ./exceptions/index.js */
"./node_modules/sip.js/lib/core/exceptions/index.js");n.d(t,"Exception",(function(){return o.Exception})),n.d(t,"TransactionStateError",(function(){return o.TransactionStateError})),n.d(t,"TransportError",(function(){return o.TransportError}));var s=n(
/*! ./log/index.js */
"./node_modules/sip.js/lib/core/log/index.js");n.d(t,"Levels",(function(){return s.Levels})),n.d(t,"LoggerFactory",(function(){return s.LoggerFactory})),n.d(t,"Logger",(function(){return s.Logger}));var i=n(
/*! ./messages/index.js */
"./node_modules/sip.js/lib/core/messages/index.js");n.d(t,"C",(function(){return i.C})),n.d(t,"fromBodyLegacy",(function(){return i.fromBodyLegacy})),n.d(t,"isBody",(function(){return i.isBody})),n.d(t,"getBody",(function(){return i.getBody})),n.d(t,"DigestAuthentication",(function(){return i.DigestAuthentication})),n.d(t,"IncomingMessage",(function(){return i.IncomingMessage})),n.d(t,"IncomingRequestMessage",(function(){return i.IncomingRequestMessage})),n.d(t,"IncomingResponseMessage",(function(){return i.IncomingResponseMessage})),n.d(t,"OutgoingRequestMessage",(function(){return i.OutgoingRequestMessage})),n.d(t,"constructOutgoingResponse",(function(){return i.constructOutgoingResponse})),n.d(t,"Parser",(function(){return i.Parser}));var a=n(
/*! ./session/index.js */
"./node_modules/sip.js/lib/core/session/index.js");n.d(t,"SessionState",(function(){return a.SessionState})),n.d(t,"SignalingState",(function(){return a.SignalingState}));var l=n(
/*! ./subscription/index.js */
"./node_modules/sip.js/lib/core/subscription/index.js");n.d(t,"SubscriptionState",(function(){return l.SubscriptionState}));var c=n(
/*! ./transactions/index.js */
"./node_modules/sip.js/lib/core/transactions/index.js");n.d(t,"ClientTransaction",(function(){return c.ClientTransaction})),n.d(t,"InviteClientTransaction",(function(){return c.InviteClientTransaction})),n.d(t,"InviteServerTransaction",(function(){return c.InviteServerTransaction})),n.d(t,"NonInviteClientTransaction",(function(){return c.NonInviteClientTransaction})),n.d(t,"NonInviteServerTransaction",(function(){return c.NonInviteServerTransaction})),n.d(t,"ServerTransaction",(function(){return c.ServerTransaction})),n.d(t,"TransactionState",(function(){return c.TransactionState})),n.d(t,"Transaction",(function(){return c.Transaction}));var u=n(
/*! ./user-agent-core/index.js */
"./node_modules/sip.js/lib/core/user-agent-core/index.js");n.d(t,"UserAgentCore",(function(){return u.UserAgentCore}));var d=n(
/*! ./user-agents/index.js */
"./node_modules/sip.js/lib/core/user-agents/index.js");n.d(t,"ByeUserAgentClient",(function(){return d.ByeUserAgentClient})),n.d(t,"ByeUserAgentServer",(function(){return d.ByeUserAgentServer})),n.d(t,"CancelUserAgentClient",(function(){return d.CancelUserAgentClient})),n.d(t,"InfoUserAgentClient",(function(){return d.InfoUserAgentClient})),n.d(t,"InfoUserAgentServer",(function(){return d.InfoUserAgentServer})),n.d(t,"InviteUserAgentClient",(function(){return d.InviteUserAgentClient})),n.d(t,"InviteUserAgentServer",(function(){return d.InviteUserAgentServer})),n.d(t,"MessageUserAgentClient",(function(){return d.MessageUserAgentClient})),n.d(t,"MessageUserAgentServer",(function(){return d.MessageUserAgentServer})),n.d(t,"NotifyUserAgentClient",(function(){return d.NotifyUserAgentClient})),n.d(t,"NotifyUserAgentServer",(function(){return d.NotifyUserAgentServer})),n.d(t,"PublishUserAgentClient",(function(){return d.PublishUserAgentClient})),n.d(t,"PrackUserAgentClient",(function(){return d.PrackUserAgentClient})),n.d(t,"PrackUserAgentServer",(function(){return d.PrackUserAgentServer})),n.d(t,"ReInviteUserAgentClient",(function(){return d.ReInviteUserAgentClient})),n.d(t,"ReInviteUserAgentServer",(function(){return d.ReInviteUserAgentServer})),n.d(t,"ReSubscribeUserAgentClient",(function(){return d.ReSubscribeUserAgentClient})),n.d(t,"ReSubscribeUserAgentServer",(function(){return d.ReSubscribeUserAgentServer})),n.d(t,"ReferUserAgentClient",(function(){return d.ReferUserAgentClient})),n.d(t,"ReferUserAgentServer",(function(){return d.ReferUserAgentServer})),n.d(t,"RegisterUserAgentClient",(function(){return d.RegisterUserAgentClient})),n.d(t,"RegisterUserAgentServer",(function(){return d.RegisterUserAgentServer})),n.d(t,"SubscribeUserAgentClient",(function(){return d.SubscribeUserAgentClient})),n.d(t,"SubscribeUserAgentServer",(function(){return d.SubscribeUserAgentServer})),n.d(t,"UserAgentClient",(function(){return d.UserAgentClient})),n.d(t,"UserAgentServer",(function(){return d.UserAgentServer}));var p=n(
/*! ./timers.js */
"./node_modules/sip.js/lib/core/timers.js");n.d(t,"Timers",(function(){return p.Timers})),n(
/*! ./transport.js */
"./node_modules/sip.js/lib/core/transport.js");var h=n(
/*! ../grammar/index.js */
"./node_modules/sip.js/lib/grammar/index.js");n.d(t,"Grammar",(function(){return h.Grammar})),n.d(t,"NameAddrHeader",(function(){return h.NameAddrHeader})),n.d(t,"Parameters",(function(){return h.Parameters})),n.d(t,"URI",(function(){return h.URI})),n.d(t,"equivalentURI",(function(){return h.equivalentURI}))},"./node_modules/sip.js/lib/core/log/index.js":
/*!***************************************************!*\
      !*** ./node_modules/sip.js/lib/core/log/index.js ***!
      \***************************************************/
/*! exports provided: Levels, LoggerFactory, Logger */
function(e,t,n){"use strict";n.r(t);var r=n(
/*! ./levels.js */
"./node_modules/sip.js/lib/core/log/levels.js");n.d(t,"Levels",(function(){return r.Levels}));var o=n(
/*! ./logger-factory.js */
"./node_modules/sip.js/lib/core/log/logger-factory.js");n.d(t,"LoggerFactory",(function(){return o.LoggerFactory}));var s=n(
/*! ./logger.js */
"./node_modules/sip.js/lib/core/log/logger.js");n.d(t,"Logger",(function(){return s.Logger}))},"./node_modules/sip.js/lib/core/log/levels.js":
/*!****************************************************!*\
      !*** ./node_modules/sip.js/lib/core/log/levels.js ***!
      \****************************************************/
/*! exports provided: Levels */
function(e,t,n){"use strict";var r;n.r(t),n.d(t,"Levels",(function(){return r})),function(e){e[e.error=0]="error",e[e.warn=1]="warn",e[e.log=2]="log",e[e.debug=3]="debug"}(r=r||(r={}))},"./node_modules/sip.js/lib/core/log/logger-factory.js":
/*!************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/log/logger-factory.js ***!
      \************************************************************/
/*! exports provided: LoggerFactory */
function(e,t,n){"use strict";n.r(t),n.d(t,"LoggerFactory",(function(){return s}));var r=n(
/*! ./levels.js */
"./node_modules/sip.js/lib/core/log/levels.js"),o=n(
/*! ./logger.js */
"./node_modules/sip.js/lib/core/log/logger.js");class s{constructor(){this.builtinEnabled=!0,this._level=r.Levels.log,this.loggers={},this.logger=this.getLogger("sip:loggerfactory")}get level(){return this._level}set level(e){e>=0&&e<=3?this._level=e:e>3?this._level=3:r.Levels.hasOwnProperty(e)?this._level=e:this.logger.error("invalid 'level' parameter value: "+JSON.stringify(e))}get connector(){return this._connector}set connector(e){e?"function"==typeof e?this._connector=e:this.logger.error("invalid 'connector' parameter value: "+JSON.stringify(e)):this._connector=void 0}getLogger(e,t){if(t&&3===this.level)return new o.Logger(this,e,t);if(this.loggers[e])return this.loggers[e];{const t=new o.Logger(this,e);return this.loggers[e]=t,t}}genericLog(e,t,n,o){this.level>=e&&this.builtinEnabled&&this.print(e,t,n,o),this.connector&&this.connector(r.Levels[e],t,n,o)}print(e,t,n,o){if("string"==typeof o){const e=[new Date,t];n&&e.push(n),o=e.concat(o).join(" | ")}switch(e){case r.Levels.error:console.error(o);break;case r.Levels.warn:console.warn(o);break;case r.Levels.log:console.log(o);break;case r.Levels.debug:console.debug(o)}}}},"./node_modules/sip.js/lib/core/log/logger.js":
/*!****************************************************!*\
      !*** ./node_modules/sip.js/lib/core/log/logger.js ***!
      \****************************************************/
/*! exports provided: Logger */
function(e,t,n){"use strict";n.r(t),n.d(t,"Logger",(function(){return o}));var r=n(
/*! ./levels.js */
"./node_modules/sip.js/lib/core/log/levels.js");class o{constructor(e,t,n){this.logger=e,this.category=t,this.label=n}error(e){this.genericLog(r.Levels.error,e)}warn(e){this.genericLog(r.Levels.warn,e)}log(e){this.genericLog(r.Levels.log,e)}debug(e){this.genericLog(r.Levels.debug,e)}genericLog(e,t){this.logger.genericLog(e,this.category,this.label,t)}get level(){return this.logger.level}set level(e){this.logger.level=e}}},"./node_modules/sip.js/lib/core/messages/body.js":
/*!*******************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/body.js ***!
      \*******************************************************/
/*! exports provided: fromBodyLegacy, isBody, getBody */
function(e,t,n){"use strict";n.r(t),n.d(t,"fromBodyLegacy",(function(){return a})),n.d(t,"isBody",(function(){return l})),n.d(t,"getBody",(function(){return c}));var r=n(
/*! ./incoming-request-message.js */
"./node_modules/sip.js/lib/core/messages/incoming-request-message.js"),o=n(
/*! ./incoming-response-message.js */
"./node_modules/sip.js/lib/core/messages/incoming-response-message.js"),s=n(
/*! ./outgoing-request-message.js */
"./node_modules/sip.js/lib/core/messages/outgoing-request-message.js");function i(e){return"application/sdp"===e?"session":"render"}function a(e){const t="string"==typeof e?e:e.body,n="string"==typeof e?"application/sdp":e.contentType;return{contentDisposition:i(n),contentType:n,content:t}}function l(e){return!(!e||"string"!=typeof e.content||"string"!=typeof e.contentType||void 0!==e.contentDisposition)||"string"==typeof e.contentDisposition}function c(e){let t,n,a;if(e instanceof r.IncomingRequestMessage&&e.body){const r=e.parseHeader("Content-Disposition");t=r?r.type:void 0,n=e.parseHeader("Content-Type"),a=e.body}if(e instanceof o.IncomingResponseMessage&&e.body){const r=e.parseHeader("Content-Disposition");t=r?r.type:void 0,n=e.parseHeader("Content-Type"),a=e.body}if(e instanceof s.OutgoingRequestMessage&&e.body)if(t=e.getHeader("Content-Disposition"),n=e.getHeader("Content-Type"),"string"==typeof e.body){if(!n)throw new Error("Header content type header does not equal body content type.");a=e.body}else{if(n&&n!==e.body.contentType)throw new Error("Header content type header does not equal body content type.");n=e.body.contentType,a=e.body.body}if(l(e)&&(t=e.contentDisposition,n=e.contentType,a=e.content),a){if(n&&!t&&(t=i(n)),!t)throw new Error("Content disposition undefined.");if(!n)throw new Error("Content type undefined.");return{contentDisposition:t,contentType:n,content:a}}}},"./node_modules/sip.js/lib/core/messages/digest-authentication.js":
/*!************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/digest-authentication.js ***!
      \************************************************************************/
/*! exports provided: DigestAuthentication */
function(e,t,n){"use strict";n.r(t),n.d(t,"DigestAuthentication",(function(){return i}));var r=n(
/*! ./md5.js */
"./node_modules/sip.js/lib/core/messages/md5.js"),o=n(
/*! ./utils.js */
"./node_modules/sip.js/lib/core/messages/utils.js");function s(e){return r.Md5.hashStr(e)}class i{constructor(e,t,n,r){this.logger=e.getLogger("sipjs.digestauthentication"),this.username=n,this.password=r,this.ha1=t,this.nc=0,this.ncHex="00000000"}authenticate(e,t,n){if(this.algorithm=t.algorithm,this.realm=t.realm,this.nonce=t.nonce,this.opaque=t.opaque,this.stale=t.stale,this.algorithm){if("MD5"!==this.algorithm)return this.logger.warn("challenge with Digest algorithm different than 'MD5', authentication aborted"),!1}else this.algorithm="MD5";if(!this.realm)return this.logger.warn("challenge without Digest realm, authentication aborted"),!1;if(!this.nonce)return this.logger.warn("challenge without Digest nonce, authentication aborted"),!1;if(t.qop)if(t.qop.indexOf("auth")>-1)this.qop="auth";else{if(!(t.qop.indexOf("auth-int")>-1))return this.logger.warn("challenge without Digest qop different than 'auth' or 'auth-int', authentication aborted"),!1;this.qop="auth-int"}else this.qop=void 0;return this.method=e.method,this.uri=e.ruri,this.cnonce=Object(o.createRandomToken)(12),this.nc+=1,this.updateNcHex(),4294967296===this.nc&&(this.nc=1,this.ncHex="00000001"),this.calculateResponse(n),!0}toString(){const e=[];if(!this.response)throw new Error("response field does not exist, cannot generate Authorization header");return e.push("algorithm="+this.algorithm),e.push('username="'+this.username+'"'),e.push('realm="'+this.realm+'"'),e.push('nonce="'+this.nonce+'"'),e.push('uri="'+this.uri+'"'),e.push('response="'+this.response+'"'),this.opaque&&e.push('opaque="'+this.opaque+'"'),this.qop&&(e.push("qop="+this.qop),e.push('cnonce="'+this.cnonce+'"'),e.push("nc="+this.ncHex)),"Digest "+e.join(", ")}updateNcHex(){const e=Number(this.nc).toString(16);this.ncHex="00000000".substr(0,8-e.length)+e}calculateResponse(e){let t,n;""!==(t=this.ha1)&&void 0!==t||(t=s(this.username+":"+this.realm+":"+this.password)),"auth"===this.qop?(n=s(this.method+":"+this.uri),this.response=s(t+":"+this.nonce+":"+this.ncHex+":"+this.cnonce+":auth:"+n)):"auth-int"===this.qop?(n=s(this.method+":"+this.uri+":"+s(e||"")),this.response=s(t+":"+this.nonce+":"+this.ncHex+":"+this.cnonce+":auth-int:"+n)):void 0===this.qop&&(n=s(this.method+":"+this.uri),this.response=s(t+":"+this.nonce+":"+n))}}},"./node_modules/sip.js/lib/core/messages/incoming-message.js":
/*!*******************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/incoming-message.js ***!
      \*******************************************************************/
/*! exports provided: IncomingMessage */
function(e,t,n){"use strict";n.r(t),n.d(t,"IncomingMessage",(function(){return s}));var r=n(
/*! ../../grammar/grammar.js */
"./node_modules/sip.js/lib/grammar/grammar.js"),o=n(
/*! ./utils.js */
"./node_modules/sip.js/lib/core/messages/utils.js");class s{constructor(){this.headers={}}addHeader(e,t){const n={raw:t};e=Object(o.headerize)(e),this.headers[e]?this.headers[e].push(n):this.headers[e]=[n]}getHeader(e){const t=this.headers[Object(o.headerize)(e)];if(t)return t[0]?t[0].raw:void 0}getHeaders(e){const t=this.headers[Object(o.headerize)(e)],n=[];if(!t)return[];for(const r of t)n.push(r.raw);return n}hasHeader(e){return!!this.headers[Object(o.headerize)(e)]}parseHeader(e,t=0){if(e=Object(o.headerize)(e),!this.headers[e])return;if(t>=this.headers[e].length)return;const n=this.headers[e][t],s=n.raw;if(n.parsed)return n.parsed;const i=r.Grammar.parse(s,e.replace(/-/g,"_"));return-1===i?void this.headers[e].splice(t,1):(n.parsed=i,i)}s(e,t=0){return this.parseHeader(e,t)}setHeader(e,t){this.headers[Object(o.headerize)(e)]=[{raw:t}]}toString(){return this.data}}},"./node_modules/sip.js/lib/core/messages/incoming-request-message.js":
/*!***************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/incoming-request-message.js ***!
      \***************************************************************************/
/*! exports provided: IncomingRequestMessage */
function(e,t,n){"use strict";n.r(t),n.d(t,"IncomingRequestMessage",(function(){return o}));var r=n(
/*! ./incoming-message.js */
"./node_modules/sip.js/lib/core/messages/incoming-message.js");class o extends r.IncomingMessage{constructor(){super()}}},"./node_modules/sip.js/lib/core/messages/incoming-request.js":
/*!*******************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/incoming-request.js ***!
      \*******************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/core/messages/incoming-response-message.js":
/*!****************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/incoming-response-message.js ***!
      \****************************************************************************/
/*! exports provided: IncomingResponseMessage */
function(e,t,n){"use strict";n.r(t),n.d(t,"IncomingResponseMessage",(function(){return o}));var r=n(
/*! ./incoming-message.js */
"./node_modules/sip.js/lib/core/messages/incoming-message.js");class o extends r.IncomingMessage{constructor(){super()}}},"./node_modules/sip.js/lib/core/messages/incoming-response.js":
/*!********************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/incoming-response.js ***!
      \********************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/core/messages/index.js":
/*!********************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/index.js ***!
      \********************************************************/
/*! exports provided: C, fromBodyLegacy, isBody, getBody, DigestAuthentication, IncomingMessage, IncomingRequestMessage, IncomingResponseMessage, OutgoingRequestMessage, constructOutgoingResponse, Parser */
function(e,t,n){"use strict";n.r(t);var r=n(
/*! ./methods/index.js */
"./node_modules/sip.js/lib/core/messages/methods/index.js");n.d(t,"C",(function(){return r.C}));var o=n(
/*! ./body.js */
"./node_modules/sip.js/lib/core/messages/body.js");n.d(t,"fromBodyLegacy",(function(){return o.fromBodyLegacy})),n.d(t,"isBody",(function(){return o.isBody})),n.d(t,"getBody",(function(){return o.getBody}));var s=n(
/*! ./digest-authentication.js */
"./node_modules/sip.js/lib/core/messages/digest-authentication.js");n.d(t,"DigestAuthentication",(function(){return s.DigestAuthentication}));var i=n(
/*! ./incoming-message.js */
"./node_modules/sip.js/lib/core/messages/incoming-message.js");n.d(t,"IncomingMessage",(function(){return i.IncomingMessage}));var a=n(
/*! ./incoming-request-message.js */
"./node_modules/sip.js/lib/core/messages/incoming-request-message.js");n.d(t,"IncomingRequestMessage",(function(){return a.IncomingRequestMessage})),n(
/*! ./incoming-request.js */
"./node_modules/sip.js/lib/core/messages/incoming-request.js");var l=n(
/*! ./incoming-response-message.js */
"./node_modules/sip.js/lib/core/messages/incoming-response-message.js");n.d(t,"IncomingResponseMessage",(function(){return l.IncomingResponseMessage})),n(
/*! ./incoming-response.js */
"./node_modules/sip.js/lib/core/messages/incoming-response.js");var c=n(
/*! ./outgoing-request-message.js */
"./node_modules/sip.js/lib/core/messages/outgoing-request-message.js");n.d(t,"OutgoingRequestMessage",(function(){return c.OutgoingRequestMessage})),n(
/*! ./outgoing-request.js */
"./node_modules/sip.js/lib/core/messages/outgoing-request.js");var u=n(
/*! ./outgoing-response.js */
"./node_modules/sip.js/lib/core/messages/outgoing-response.js");n.d(t,"constructOutgoingResponse",(function(){return u.constructOutgoingResponse}));var d=n(
/*! ./parser.js */
"./node_modules/sip.js/lib/core/messages/parser.js");n.d(t,"Parser",(function(){return d.Parser}))},"./node_modules/sip.js/lib/core/messages/md5.js":
/*!******************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/md5.js ***!
      \******************************************************/
/*! exports provided: Md5 */
function(e,t,n){"use strict";n.r(t),n.d(t,"Md5",(function(){return r}));class r{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(e,t=!1){return this.onePassHasher.start().appendStr(e).end(t)}static hashAsciiStr(e,t=!1){return this.onePassHasher.start().appendAsciiStr(e).end(t)}static _hex(e){const t=r.hexChars,n=r.hexOut;let o,s,i,a;for(a=0;a<4;a+=1)for(s=8*a,o=e[a],i=0;i<8;i+=2)n[s+1+i]=t.charAt(15&o),o>>>=4,n[s+0+i]=t.charAt(15&o),o>>>=4;return n.join("")}static _md5cycle(e,t){let n=e[0],r=e[1],o=e[2],s=e[3];r=((r+=((o=((o+=((s=((s+=((n=((n+=(r&o|~r&s)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&o)+t[1]-389564586|0)<<12|s>>>20)+n|0)&n|~s&r)+t[2]+606105819|0)<<17|o>>>15)+s|0)&s|~o&n)+t[3]-1044525330|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((s=((s+=((n=((n+=(r&o|~r&s)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&o)+t[5]+1200080426|0)<<12|s>>>20)+n|0)&n|~s&r)+t[6]-1473231341|0)<<17|o>>>15)+s|0)&s|~o&n)+t[7]-45705983|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((s=((s+=((n=((n+=(r&o|~r&s)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&o)+t[9]-1958414417|0)<<12|s>>>20)+n|0)&n|~s&r)+t[10]-42063|0)<<17|o>>>15)+s|0)&s|~o&n)+t[11]-1990404162|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((s=((s+=((n=((n+=(r&o|~r&s)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&o)+t[13]-40341101|0)<<12|s>>>20)+n|0)&n|~s&r)+t[14]-1502002290|0)<<17|o>>>15)+s|0)&s|~o&n)+t[15]+1236535329|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((s=((s+=((n=((n+=(r&s|o&~s)+t[1]-165796510|0)<<5|n>>>27)+r|0)&o|r&~o)+t[6]-1069501632|0)<<9|s>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|o>>>18)+s|0)&n|s&~n)+t[0]-373897302|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((s=((s+=((n=((n+=(r&s|o&~s)+t[5]-701558691|0)<<5|n>>>27)+r|0)&o|r&~o)+t[10]+38016083|0)<<9|s>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|o>>>18)+s|0)&n|s&~n)+t[4]-405537848|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((s=((s+=((n=((n+=(r&s|o&~s)+t[9]+568446438|0)<<5|n>>>27)+r|0)&o|r&~o)+t[14]-1019803690|0)<<9|s>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|o>>>18)+s|0)&n|s&~n)+t[8]+1163531501|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((s=((s+=((n=((n+=(r&s|o&~s)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&o|r&~o)+t[2]-51403784|0)<<9|s>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|o>>>18)+s|0)&n|s&~n)+t[12]-1926607734|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((s=((s+=((n=((n+=(r^o^s)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^o)+t[8]-2022574463|0)<<11|s>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|o>>>16)+s|0)^s^n)+t[14]-35309556|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((s=((s+=((n=((n+=(r^o^s)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^o)+t[4]+1272893353|0)<<11|s>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|o>>>16)+s|0)^s^n)+t[10]-1094730640|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((s=((s+=((n=((n+=(r^o^s)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^o)+t[0]-358537222|0)<<11|s>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|o>>>16)+s|0)^s^n)+t[6]+76029189|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((s=((s+=((n=((n+=(r^o^s)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^o)+t[12]-421815835|0)<<11|s>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|o>>>16)+s|0)^s^n)+t[2]-995338651|0)<<23|r>>>9)+o|0,r=((r+=((s=((s+=(r^((n=((n+=(o^(r|~s))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~o))+t[7]+1126891415|0)<<10|s>>>22)+n|0)^((o=((o+=(n^(s|~r))+t[14]-1416354905|0)<<15|o>>>17)+s|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+o|0,r=((r+=((s=((s+=(r^((n=((n+=(o^(r|~s))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~o))+t[3]-1894986606|0)<<10|s>>>22)+n|0)^((o=((o+=(n^(s|~r))+t[10]-1051523|0)<<15|o>>>17)+s|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+o|0,r=((r+=((s=((s+=(r^((n=((n+=(o^(r|~s))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~o))+t[15]-30611744|0)<<10|s>>>22)+n|0)^((o=((o+=(n^(s|~r))+t[6]-1560198380|0)<<15|o>>>17)+s|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+o|0,r=((r+=((s=((s+=(r^((n=((n+=(o^(r|~s))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~o))+t[11]-1120210379|0)<<10|s>>>22)+n|0)^((o=((o+=(n^(s|~r))+t[2]+718787259|0)<<15|o>>>17)+s|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+o|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=o+e[2]|0,e[3]=s+e[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(r.stateIdentity),this}appendStr(e){const t=this._buffer8,n=this._buffer32;let o,s,i=this._bufferLength;for(s=0;s<e.length;s+=1){if((o=e.charCodeAt(s))<128)t[i++]=o;else if(o<2048)t[i++]=192+(o>>>6),t[i++]=63&o|128;else if(o<55296||o>56319)t[i++]=224+(o>>>12),t[i++]=o>>>6&63|128,t[i++]=63&o|128;else{if((o=1024*(o-55296)+(e.charCodeAt(++s)-56320)+65536)>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");t[i++]=240+(o>>>18),t[i++]=o>>>12&63|128,t[i++]=o>>>6&63|128,t[i++]=63&o|128}i>=64&&(this._dataLength+=64,r._md5cycle(this._state,n),i-=64,n[0]=n[16])}return this._bufferLength=i,this}appendAsciiStr(e){const t=this._buffer8,n=this._buffer32;let o,s=this._bufferLength,i=0;for(;;){for(o=Math.min(e.length-i,64-s);o--;)t[s++]=e.charCodeAt(i++);if(s<64)break;this._dataLength+=64,r._md5cycle(this._state,n),s=0}return this._bufferLength=s,this}appendByteArray(e){const t=this._buffer8,n=this._buffer32;let o,s=this._bufferLength,i=0;for(;;){for(o=Math.min(e.length-i,64-s);o--;)t[s++]=e[i++];if(s<64)break;this._dataLength+=64,r._md5cycle(this._state,n),s=0}return this._bufferLength=s,this}getState(){const e=this._state;return{buffer:String.fromCharCode.apply(null,this._buffer8),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(e){const t=e.buffer,n=e.state,r=this._state;let o;for(this._dataLength=e.length,this._bufferLength=e.buflen,r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],o=0;o<t.length;o+=1)this._buffer8[o]=t.charCodeAt(o)}end(e=!1){const t=this._bufferLength,n=this._buffer8,o=this._buffer32,s=1+(t>>2);let i;if(this._dataLength+=t,n[t]=128,n[t+1]=n[t+2]=n[t+3]=0,o.set(r.buffer32Identity.subarray(s),s),t>55&&(r._md5cycle(this._state,o),o.set(r.buffer32Identity)),(i=8*this._dataLength)<=4294967295)o[14]=i;else{const e=i.toString(16).match(/(.*?)(.{0,8})$/);if(null===e)return;const t=parseInt(e[2],16),n=parseInt(e[1],16)||0;o[14]=t,o[15]=n}return r._md5cycle(this._state,o),e?this._state:r._hex(this._state)}}r.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),r.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),r.hexChars="0123456789abcdef",r.hexOut=[],r.onePassHasher=new r,"5d41402abc4b2a76b9719d911017c592"!==r.hashStr("hello")&&console.error("Md5 self test failed.")},"./node_modules/sip.js/lib/core/messages/methods/ack.js":
/*!**************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/methods/ack.js ***!
      \**************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/core/messages/methods/bye.js":
/*!**************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/methods/bye.js ***!
      \**************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/core/messages/methods/cancel.js":
/*!*****************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/methods/cancel.js ***!
      \*****************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/core/messages/methods/constants.js":
/*!********************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/methods/constants.js ***!
      \********************************************************************/
/*! exports provided: C */
function(e,t,n){"use strict";var r;n.r(t),n.d(t,"C",(function(){return r})),function(e){e.ACK="ACK",e.BYE="BYE",e.CANCEL="CANCEL",e.INFO="INFO",e.INVITE="INVITE",e.MESSAGE="MESSAGE",e.NOTIFY="NOTIFY",e.OPTIONS="OPTIONS",e.REGISTER="REGISTER",e.UPDATE="UPDATE",e.SUBSCRIBE="SUBSCRIBE",e.PUBLISH="PUBLISH",e.REFER="REFER",e.PRACK="PRACK"}(r=r||(r={}))},"./node_modules/sip.js/lib/core/messages/methods/index.js":
/*!****************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/methods/index.js ***!
      \****************************************************************/
/*! exports provided: C */
function(e,t,n){"use strict";n.r(t);var r=n(
/*! ./constants.js */
"./node_modules/sip.js/lib/core/messages/methods/constants.js");n.d(t,"C",(function(){return r.C})),n(
/*! ./ack.js */
"./node_modules/sip.js/lib/core/messages/methods/ack.js"),n(
/*! ./bye.js */
"./node_modules/sip.js/lib/core/messages/methods/bye.js"),n(
/*! ./cancel.js */
"./node_modules/sip.js/lib/core/messages/methods/cancel.js"),n(
/*! ./info.js */
"./node_modules/sip.js/lib/core/messages/methods/info.js"),n(
/*! ./invite.js */
"./node_modules/sip.js/lib/core/messages/methods/invite.js"),n(
/*! ./message.js */
"./node_modules/sip.js/lib/core/messages/methods/message.js"),n(
/*! ./notify.js */
"./node_modules/sip.js/lib/core/messages/methods/notify.js"),n(
/*! ./prack.js */
"./node_modules/sip.js/lib/core/messages/methods/prack.js"),n(
/*! ./publish.js */
"./node_modules/sip.js/lib/core/messages/methods/publish.js"),n(
/*! ./register.js */
"./node_modules/sip.js/lib/core/messages/methods/register.js"),n(
/*! ./refer.js */
"./node_modules/sip.js/lib/core/messages/methods/refer.js"),n(
/*! ./subscribe.js */
"./node_modules/sip.js/lib/core/messages/methods/subscribe.js")},"./node_modules/sip.js/lib/core/messages/methods/info.js":
/*!***************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/methods/info.js ***!
      \***************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/core/messages/methods/invite.js":
/*!*****************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/methods/invite.js ***!
      \*****************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/core/messages/methods/message.js":
/*!******************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/methods/message.js ***!
      \******************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/core/messages/methods/notify.js":
/*!*****************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/methods/notify.js ***!
      \*****************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/core/messages/methods/prack.js":
/*!****************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/methods/prack.js ***!
      \****************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/core/messages/methods/publish.js":
/*!******************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/methods/publish.js ***!
      \******************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/core/messages/methods/refer.js":
/*!****************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/methods/refer.js ***!
      \****************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/core/messages/methods/register.js":
/*!*******************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/methods/register.js ***!
      \*******************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/core/messages/methods/subscribe.js":
/*!********************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/methods/subscribe.js ***!
      \********************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/core/messages/outgoing-request-message.js":
/*!***************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/outgoing-request-message.js ***!
      \***************************************************************************/
/*! exports provided: OutgoingRequestMessage */
function(e,t,n){"use strict";n.r(t),n.d(t,"OutgoingRequestMessage",(function(){return s}));var r=n(
/*! ../../grammar/name-addr-header.js */
"./node_modules/sip.js/lib/grammar/name-addr-header.js"),o=n(
/*! ./utils.js */
"./node_modules/sip.js/lib/core/messages/utils.js");class s{constructor(e,t,n,r,i,a,l){this.headers={},this.extraHeaders=[],this.options=s.getDefaultOptions(),i&&(this.options=Object.assign(Object.assign({},this.options),i),this.options.optionTags&&this.options.optionTags.length&&(this.options.optionTags=this.options.optionTags.slice()),this.options.routeSet&&this.options.routeSet.length&&(this.options.routeSet=this.options.routeSet.slice())),a&&a.length&&(this.extraHeaders=a.slice()),l&&(this.body={body:l.content,contentType:l.contentType}),this.method=e,this.ruri=t.clone(),this.fromURI=n.clone(),this.fromTag=this.options.fromTag?this.options.fromTag:Object(o.newTag)(),this.from=s.makeNameAddrHeader(this.fromURI,this.options.fromDisplayName,this.fromTag),this.toURI=r.clone(),this.toTag=this.options.toTag,this.to=s.makeNameAddrHeader(this.toURI,this.options.toDisplayName,this.toTag),this.callId=this.options.callId?this.options.callId:this.options.callIdPrefix+Object(o.createRandomToken)(15),this.cseq=this.options.cseq,this.setHeader("route",this.options.routeSet),this.setHeader("via",""),this.setHeader("to",this.to.toString()),this.setHeader("from",this.from.toString()),this.setHeader("cseq",this.cseq+" "+this.method),this.setHeader("call-id",this.callId),this.setHeader("max-forwards","70")}static getDefaultOptions(){return{callId:"",callIdPrefix:"",cseq:1,toDisplayName:"",toTag:"",fromDisplayName:"",fromTag:"",forceRport:!1,hackViaTcp:!1,optionTags:["outbound"],routeSet:[],userAgentString:"sip.js",viaHost:""}}static makeNameAddrHeader(e,t,n){const o={};return n&&(o.tag=n),new r.NameAddrHeader(e,t,o)}getHeader(e){const t=this.headers[Object(o.headerize)(e)];if(t){if(t[0])return t[0]}else{const t=new RegExp("^\\s*"+e+"\\s*:","i");for(const e of this.extraHeaders)if(t.test(e))return e.substring(e.indexOf(":")+1).trim()}}getHeaders(e){const t=[],n=this.headers[Object(o.headerize)(e)];if(n)for(const r of n)t.push(r);else{const n=new RegExp("^\\s*"+e+"\\s*:","i");for(const e of this.extraHeaders)n.test(e)&&t.push(e.substring(e.indexOf(":")+1).trim())}return t}hasHeader(e){if(this.headers[Object(o.headerize)(e)])return!0;{const t=new RegExp("^\\s*"+e+"\\s*:","i");for(const e of this.extraHeaders)if(t.test(e))return!0}return!1}setHeader(e,t){this.headers[Object(o.headerize)(e)]=t instanceof Array?t:[t]}setViaHeader(e,t){this.options.hackViaTcp&&(t="TCP");let n="SIP/2.0/"+t;n+=" "+this.options.viaHost+";branch="+e,this.options.forceRport&&(n+=";rport"),this.setHeader("via",n),this.branch=e}toString(){let e="";e+=this.method+" "+this.ruri.toRaw()+" SIP/2.0\r\n";for(const t in this.headers)if(this.headers[t])for(const n of this.headers[t])e+=t+": "+n+"\r\n";for(const t of this.extraHeaders)e+=t.trim()+"\r\n";return e+="Supported: "+this.options.optionTags.join(", ")+"\r\n",e+="User-Agent: "+this.options.userAgentString+"\r\n",this.body?"string"==typeof this.body?(e+="Content-Length: "+Object(o.utf8Length)(this.body)+"\r\n\r\n",e+=this.body):this.body.body&&this.body.contentType?(e+="Content-Type: "+this.body.contentType+"\r\n",e+="Content-Length: "+Object(o.utf8Length)(this.body.body)+"\r\n\r\n",e+=this.body.body):e+="Content-Length: 0\r\n\r\n":e+="Content-Length: 0\r\n\r\n",e}}},"./node_modules/sip.js/lib/core/messages/outgoing-request.js":
/*!*******************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/outgoing-request.js ***!
      \*******************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/core/messages/outgoing-response.js":
/*!********************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/outgoing-response.js ***!
      \********************************************************************/
/*! exports provided: constructOutgoingResponse */
function(e,t,n){"use strict";n.r(t),n.d(t,"constructOutgoingResponse",(function(){return o}));var r=n(
/*! ./utils.js */
"./node_modules/sip.js/lib/core/messages/utils.js");function o(e,t){const n="\r\n";if(t.statusCode<100||t.statusCode>699)throw new TypeError("Invalid statusCode: "+t.statusCode);const o=t.reasonPhrase?t.reasonPhrase:Object(r.getReasonPhrase)(t.statusCode);let s="SIP/2.0 "+t.statusCode+" "+o+n;t.statusCode>=100&&t.statusCode,t.statusCode;const i="From: "+e.getHeader("From")+n,a="Call-ID: "+e.callId+n,l="CSeq: "+e.cseq+" "+e.method+n,c=e.getHeaders("via").reduce(((e,t)=>e+"Via: "+t+n),"");let u="To: "+e.getHeader("to");if(t.statusCode>100&&!e.parseHeader("to").hasParam("tag")){let e=t.toTag;e||(e=Object(r.newTag)()),u+=";tag="+e}u+=n;let d="";t.supported&&(d="Supported: "+t.supported.join(", ")+n);let p="";t.userAgent&&(p="User-Agent: "+t.userAgent+n);let h="";return t.extraHeaders&&(h=t.extraHeaders.reduce(((e,t)=>e+t.trim()+n),"")),s+=c,s+=i,s+=u,s+=l,s+=a,s+=d,s+=p,s+=h,t.body?(s+="Content-Type: "+t.body.contentType+n,s+="Content-Length: "+Object(r.utf8Length)(t.body.content)+n+n,s+=t.body.content):s+="Content-Length: 0\r\n\r\n",{message:s}}},"./node_modules/sip.js/lib/core/messages/parser.js":
/*!*********************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/parser.js ***!
      \*********************************************************/
/*! exports provided: Parser */
function(e,t,n){"use strict";n.r(t),n.d(t,"Parser",(function(){return r}));var r,o=n(
/*! ../../grammar/grammar.js */
"./node_modules/sip.js/lib/grammar/grammar.js"),s=n(
/*! ./incoming-request-message.js */
"./node_modules/sip.js/lib/core/messages/incoming-request-message.js"),i=n(
/*! ./incoming-response-message.js */
"./node_modules/sip.js/lib/core/messages/incoming-response-message.js");!function(e){function t(e,t){let n=t,r=0,o=0;if(e.substring(n,n+2).match(/(^\r\n)/))return-2;for(;0===r;){if(-1===(o=e.indexOf("\r\n",n)))return o;!e.substring(o+2,o+4).match(/(^\r\n)/)&&e.charAt(o+2).match(/(^\s+)/)?n=o+2:r=o}return r}function n(e,t,n,r){const s=t.indexOf(":",n),a=t.substring(n,s).trim(),l=t.substring(s+1,r).trim();let c;switch(a.toLowerCase()){case"via":case"v":e.addHeader("via",l),1===e.getHeaders("via").length?(c=e.parseHeader("Via"))&&(e.via=c,e.viaBranch=c.branch):c=0;break;case"from":case"f":e.setHeader("from",l),(c=e.parseHeader("from"))&&(e.from=c,e.fromTag=c.getParam("tag"));break;case"to":case"t":e.setHeader("to",l),(c=e.parseHeader("to"))&&(e.to=c,e.toTag=c.getParam("tag"));break;case"record-route":if(-1===(c=o.Grammar.parse(l,"Record_Route"))){c=void 0;break}if(!(c instanceof Array)){c=void 0;break}c.forEach((t=>{e.addHeader("record-route",l.substring(t.position,t.offset)),e.headers["Record-Route"][e.getHeaders("record-route").length-1].parsed=t.parsed}));break;case"call-id":case"i":e.setHeader("call-id",l),(c=e.parseHeader("call-id"))&&(e.callId=l);break;case"contact":case"m":if(-1===(c=o.Grammar.parse(l,"Contact"))){c=void 0;break}if(!(c instanceof Array)){c=void 0;break}c.forEach((t=>{e.addHeader("contact",l.substring(t.position,t.offset)),e.headers.Contact[e.getHeaders("contact").length-1].parsed=t.parsed}));break;case"content-length":case"l":e.setHeader("content-length",l),c=e.parseHeader("content-length");break;case"content-type":case"c":e.setHeader("content-type",l),c=e.parseHeader("content-type");break;case"cseq":e.setHeader("cseq",l),(c=e.parseHeader("cseq"))&&(e.cseq=c.value),e instanceof i.IncomingResponseMessage&&(e.method=c.method);break;case"max-forwards":e.setHeader("max-forwards",l),c=e.parseHeader("max-forwards");break;case"www-authenticate":e.setHeader("www-authenticate",l),c=e.parseHeader("www-authenticate");break;case"proxy-authenticate":e.setHeader("proxy-authenticate",l),c=e.parseHeader("proxy-authenticate");break;case"refer-to":case"r":e.setHeader("refer-to",l),(c=e.parseHeader("refer-to"))&&(e.referTo=c);break;default:e.addHeader(a.toLowerCase(),l),c=0}return void 0!==c||{error:"error parsing header '"+a+"'"}}e.getHeader=t,e.parseHeader=n,e.parseMessage=function(e,r){let a=0,l=e.indexOf("\r\n");if(-1===l)return void r.warn("no CRLF found, not a SIP message, discarded");const c=e.substring(0,l),u=o.Grammar.parse(c,"Request_Response");let d,p;if(-1!==u){for(u.status_code?((d=new i.IncomingResponseMessage).statusCode=u.status_code,d.reasonPhrase=u.reason_phrase):((d=new s.IncomingRequestMessage).method=u.method,d.ruri=u.uri),d.data=e,a=l+2;;){if(-2===(l=t(e,a))){p=a+2;break}if(-1===l)return void r.error("malformed message");const o=n(d,e,a,l);if(o&&!0!==o)return void r.error(o.error);a=l+2}return d.hasHeader("content-length")?d.body=e.substr(p,Number(d.getHeader("content-length"))):d.body=e.substring(p),d}r.warn('error parsing first line of SIP message: "'+c+'"')}}(r=r||(r={}))},"./node_modules/sip.js/lib/core/messages/utils.js":
/*!********************************************************!*\
      !*** ./node_modules/sip.js/lib/core/messages/utils.js ***!
      \********************************************************/
/*! exports provided: createRandomToken, getReasonPhrase, newTag, headerize, utf8Length */
function(e,t,n){"use strict";n.r(t),n.d(t,"createRandomToken",(function(){return o})),n.d(t,"getReasonPhrase",(function(){return s})),n.d(t,"newTag",(function(){return i})),n.d(t,"headerize",(function(){return a})),n.d(t,"utf8Length",(function(){return l}));const r={100:"Trying",180:"Ringing",181:"Call Is Being Forwarded",182:"Queued",183:"Session Progress",199:"Early Dialog Terminated",200:"OK",202:"Accepted",204:"No Notification",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",305:"Use Proxy",380:"Alternative Service",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",410:"Gone",412:"Conditional Request Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Unsupported URI Scheme",417:"Unknown Resource-Priority",420:"Bad Extension",421:"Extension Required",422:"Session Interval Too Small",423:"Interval Too Brief",428:"Use Identity Header",429:"Provide Referrer Identity",430:"Flow Failed",433:"Anonymity Disallowed",436:"Bad Identity-Info",437:"Unsupported Certificate",438:"Invalid Identity Header",439:"First Hop Lacks Outbound Support",440:"Max-Breadth Exceeded",469:"Bad Info Package",470:"Consent Needed",478:"Unresolvable Destination",480:"Temporarily Unavailable",481:"Call/Transaction Does Not Exist",482:"Loop Detected",483:"Too Many Hops",484:"Address Incomplete",485:"Ambiguous",486:"Busy Here",487:"Request Terminated",488:"Not Acceptable Here",489:"Bad Event",491:"Request Pending",493:"Undecipherable",494:"Security Agreement Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Server Time-out",505:"Version Not Supported",513:"Message Too Large",580:"Precondition Failure",600:"Busy Everywhere",603:"Decline",604:"Does Not Exist Anywhere",606:"Not Acceptable"};function o(e,t=32){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*t).toString(t);return n}function s(e){return r[e]||""}function i(){return o(10)}function a(e){const t={"Call-Id":"Call-ID",Cseq:"CSeq","Min-Se":"Min-SE",Rack:"RAck",Rseq:"RSeq","Www-Authenticate":"WWW-Authenticate"},n=e.toLowerCase().replace(/_/g,"-").split("-"),r=n.length;let o="";for(let s=0;s<r;s++)0!==s&&(o+="-"),o+=n[s].charAt(0).toUpperCase()+n[s].substring(1);return t[o]&&(o=t[o]),o}function l(e){return encodeURIComponent(e).replace(/%[A-F\d]{2}/g,"U").length}},"./node_modules/sip.js/lib/core/session/index.js":
/*!*******************************************************!*\
      !*** ./node_modules/sip.js/lib/core/session/index.js ***!
      \*******************************************************/
/*! exports provided: SessionState, SignalingState */
function(e,t,n){"use strict";n.r(t);var r=n(
/*! ./session.js */
"./node_modules/sip.js/lib/core/session/session.js");n.d(t,"SessionState",(function(){return r.SessionState})),n.d(t,"SignalingState",(function(){return r.SignalingState})),n(
/*! ./session-delegate.js */
"./node_modules/sip.js/lib/core/session/session-delegate.js")},"./node_modules/sip.js/lib/core/session/session-delegate.js":
/*!******************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/session/session-delegate.js ***!
      \******************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/core/session/session.js":
/*!*********************************************************!*\
      !*** ./node_modules/sip.js/lib/core/session/session.js ***!
      \*********************************************************/
/*! exports provided: SessionState, SignalingState */
function(e,t,n){"use strict";var r,o;n.r(t),n.d(t,"SessionState",(function(){return r})),n.d(t,"SignalingState",(function(){return o})),function(e){e.Initial="Initial",e.Early="Early",e.AckWait="AckWait",e.Confirmed="Confirmed",e.Terminated="Terminated"}(r=r||(r={})),function(e){e.Initial="Initial",e.HaveLocalOffer="HaveLocalOffer",e.HaveRemoteOffer="HaveRemoteOffer",e.Stable="Stable",e.Closed="Closed"}(o=o||(o={}))},"./node_modules/sip.js/lib/core/subscription/index.js":
/*!************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/subscription/index.js ***!
      \************************************************************/
/*! exports provided: SubscriptionState */
function(e,t,n){"use strict";n.r(t);var r=n(
/*! ./subscription.js */
"./node_modules/sip.js/lib/core/subscription/subscription.js");n.d(t,"SubscriptionState",(function(){return r.SubscriptionState})),n(
/*! ./subscription-delegate.js */
"./node_modules/sip.js/lib/core/subscription/subscription-delegate.js")},"./node_modules/sip.js/lib/core/subscription/subscription-delegate.js":
/*!****************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/subscription/subscription-delegate.js ***!
      \****************************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/core/subscription/subscription.js":
/*!*******************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/subscription/subscription.js ***!
      \*******************************************************************/
/*! exports provided: SubscriptionState */
function(e,t,n){"use strict";var r;n.r(t),n.d(t,"SubscriptionState",(function(){return r})),function(e){e.Initial="Initial",e.NotifyWait="NotifyWait",e.Pending="Pending",e.Active="Active",e.Terminated="Terminated"}(r=r||(r={}))},"./node_modules/sip.js/lib/core/timers.js":
/*!************************************************!*\
      !*** ./node_modules/sip.js/lib/core/timers.js ***!
      \************************************************/
/*! exports provided: Timers */
function(e,t,n){"use strict";n.r(t),n.d(t,"Timers",(function(){return o}));const r=500,o={T1:r,T2:4e3,T4:5e3,TIMER_B:32e3,TIMER_D:0,TIMER_F:32e3,TIMER_H:32e3,TIMER_I:0,TIMER_J:0,TIMER_K:0,TIMER_L:32e3,TIMER_M:32e3,TIMER_N:32e3,PROVISIONAL_RESPONSE_INTERVAL:6e4}},"./node_modules/sip.js/lib/core/transactions/client-transaction.js":
/*!*************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/transactions/client-transaction.js ***!
      \*************************************************************************/
/*! exports provided: ClientTransaction */
function(e,t,n){"use strict";n.r(t),n.d(t,"ClientTransaction",(function(){return o}));var r=n(
/*! ./transaction.js */
"./node_modules/sip.js/lib/core/transactions/transaction.js");class o extends r.Transaction{constructor(e,t,n,r,s){super(t,n,o.makeId(e),r,s),this._request=e,this.user=n,e.setViaHeader(this.id,t.protocol)}static makeId(e){if("CANCEL"===e.method){if(!e.branch)throw new Error("Outgoing CANCEL request without a branch.");return e.branch}return"z9hG4bK"+Math.floor(1e7*Math.random())}get request(){return this._request}onRequestTimeout(){this.user.onRequestTimeout&&this.user.onRequestTimeout()}}},"./node_modules/sip.js/lib/core/transactions/index.js":
/*!************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/transactions/index.js ***!
      \************************************************************/
/*! exports provided: ClientTransaction, InviteClientTransaction, InviteServerTransaction, NonInviteClientTransaction, NonInviteServerTransaction, ServerTransaction, TransactionState, Transaction */
function(e,t,n){"use strict";n.r(t);var r=n(
/*! ./client-transaction.js */
"./node_modules/sip.js/lib/core/transactions/client-transaction.js");n.d(t,"ClientTransaction",(function(){return r.ClientTransaction}));var o=n(
/*! ./invite-client-transaction.js */
"./node_modules/sip.js/lib/core/transactions/invite-client-transaction.js");n.d(t,"InviteClientTransaction",(function(){return o.InviteClientTransaction}));var s=n(
/*! ./invite-server-transaction.js */
"./node_modules/sip.js/lib/core/transactions/invite-server-transaction.js");n.d(t,"InviteServerTransaction",(function(){return s.InviteServerTransaction}));var i=n(
/*! ./non-invite-client-transaction.js */
"./node_modules/sip.js/lib/core/transactions/non-invite-client-transaction.js");n.d(t,"NonInviteClientTransaction",(function(){return i.NonInviteClientTransaction}));var a=n(
/*! ./non-invite-server-transaction.js */
"./node_modules/sip.js/lib/core/transactions/non-invite-server-transaction.js");n.d(t,"NonInviteServerTransaction",(function(){return a.NonInviteServerTransaction}));var l=n(
/*! ./server-transaction.js */
"./node_modules/sip.js/lib/core/transactions/server-transaction.js");n.d(t,"ServerTransaction",(function(){return l.ServerTransaction}));var c=n(
/*! ./transaction-state.js */
"./node_modules/sip.js/lib/core/transactions/transaction-state.js");n.d(t,"TransactionState",(function(){return c.TransactionState})),n(
/*! ./transaction-user.js */
"./node_modules/sip.js/lib/core/transactions/transaction-user.js");var u=n(
/*! ./transaction.js */
"./node_modules/sip.js/lib/core/transactions/transaction.js");n.d(t,"Transaction",(function(){return u.Transaction}))},"./node_modules/sip.js/lib/core/transactions/invite-client-transaction.js":
/*!********************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/transactions/invite-client-transaction.js ***!
      \********************************************************************************/
/*! exports provided: InviteClientTransaction */
function(e,t,n){"use strict";n.r(t),n.d(t,"InviteClientTransaction",(function(){return i}));var r=n(
/*! ../timers.js */
"./node_modules/sip.js/lib/core/timers.js"),o=n(
/*! ./client-transaction.js */
"./node_modules/sip.js/lib/core/transactions/client-transaction.js"),s=n(
/*! ./transaction-state.js */
"./node_modules/sip.js/lib/core/transactions/transaction-state.js");class i extends o.ClientTransaction{constructor(e,t,n){super(e,t,n,s.TransactionState.Calling,"sip.transaction.ict"),this.ackRetransmissionCache=new Map,this.B=setTimeout((()=>this.timerB()),r.Timers.TIMER_B),this.send(e.toString()).catch((e=>{this.logTransportError(e,"Failed to send initial outgoing request.")}))}dispose(){this.B&&(clearTimeout(this.B),this.B=void 0),this.D&&(clearTimeout(this.D),this.D=void 0),this.M&&(clearTimeout(this.M),this.M=void 0),super.dispose()}get kind(){return"ict"}ackResponse(e){const t=e.toTag;if(!t)throw new Error("To tag undefined.");const n="z9hG4bK"+Math.floor(1e7*Math.random());e.setViaHeader(n,this.transport.protocol),this.ackRetransmissionCache.set(t,e),this.send(e.toString()).catch((e=>{this.logTransportError(e,"Failed to send ACK to 2xx response.")}))}receiveResponse(e){const t=e.statusCode;if(!t||t<100||t>699)throw new Error(`Invalid status code ${t}`);switch(this.state){case s.TransactionState.Calling:if(t>=100&&t<=199)return this.stateTransition(s.TransactionState.Proceeding),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(t>=200&&t<=299)return this.ackRetransmissionCache.set(e.toTag,void 0),this.stateTransition(s.TransactionState.Accepted),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(t>=300&&t<=699)return this.stateTransition(s.TransactionState.Completed),this.ack(e),void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case s.TransactionState.Proceeding:if(t>=100&&t<=199)return void(this.user.receiveResponse&&this.user.receiveResponse(e));if(t>=200&&t<=299)return this.ackRetransmissionCache.set(e.toTag,void 0),this.stateTransition(s.TransactionState.Accepted),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(t>=300&&t<=699)return this.stateTransition(s.TransactionState.Completed),this.ack(e),void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case s.TransactionState.Accepted:if(t>=200&&t<=299){if(!this.ackRetransmissionCache.has(e.toTag))return this.ackRetransmissionCache.set(e.toTag,void 0),void(this.user.receiveResponse&&this.user.receiveResponse(e));const t=this.ackRetransmissionCache.get(e.toTag);return t?void this.send(t.toString()).catch((e=>{this.logTransportError(e,"Failed to send retransmission of ACK to 2xx response.")})):void 0}break;case s.TransactionState.Completed:if(t>=300&&t<=699)return void this.ack(e);break;case s.TransactionState.Terminated:break;default:throw new Error(`Invalid state ${this.state}`)}const n=`Received unexpected ${t} response while in state ${this.state}.`;this.logger.warn(n)}onTransportError(e){this.user.onTransportError&&this.user.onTransportError(e),this.stateTransition(s.TransactionState.Terminated,!0)}typeToString(){return"INVITE client transaction"}ack(e){const t=this.request.ruri,n=this.request.callId,r=this.request.cseq,o=this.request.getHeader("from"),s=e.getHeader("to"),i=this.request.getHeader("via"),a=this.request.getHeader("route");if(!o)throw new Error("From undefined.");if(!s)throw new Error("To undefined.");if(!i)throw new Error("Via undefined.");let l=`ACK ${t} SIP/2.0\r\n`;a&&(l+=`Route: ${a}\r\n`),l+=`Via: ${i}\r\n`,l+=`To: ${s}\r\n`,l+=`From: ${o}\r\n`,l+=`Call-ID: ${n}\r\n`,l+=`CSeq: ${r} ACK\r\n`,l+="Max-Forwards: 70\r\n",l+="Content-Length: 0\r\n\r\n",this.send(l).catch((e=>{this.logTransportError(e,"Failed to send ACK to non-2xx response.")}))}stateTransition(e,t=!1){const n=()=>{throw new Error(`Invalid state transition from ${this.state} to ${e}`)};switch(e){case s.TransactionState.Calling:n();break;case s.TransactionState.Proceeding:this.state!==s.TransactionState.Calling&&n();break;case s.TransactionState.Accepted:case s.TransactionState.Completed:this.state!==s.TransactionState.Calling&&this.state!==s.TransactionState.Proceeding&&n();break;case s.TransactionState.Terminated:this.state!==s.TransactionState.Calling&&this.state!==s.TransactionState.Accepted&&this.state!==s.TransactionState.Completed&&(t||n());break;default:n()}this.B&&(clearTimeout(this.B),this.B=void 0),s.TransactionState.Proceeding,e===s.TransactionState.Completed&&(this.D=setTimeout((()=>this.timerD()),r.Timers.TIMER_D)),e===s.TransactionState.Accepted&&(this.M=setTimeout((()=>this.timerM()),r.Timers.TIMER_M)),e===s.TransactionState.Terminated&&this.dispose(),this.setState(e)}timerA(){}timerB(){this.logger.debug(`Timer B expired for INVITE client transaction ${this.id}.`),this.state===s.TransactionState.Calling&&(this.onRequestTimeout(),this.stateTransition(s.TransactionState.Terminated))}timerD(){this.logger.debug(`Timer D expired for INVITE client transaction ${this.id}.`),this.state===s.TransactionState.Completed&&this.stateTransition(s.TransactionState.Terminated)}timerM(){this.logger.debug(`Timer M expired for INVITE client transaction ${this.id}.`),this.state===s.TransactionState.Accepted&&this.stateTransition(s.TransactionState.Terminated)}}},"./node_modules/sip.js/lib/core/transactions/invite-server-transaction.js":
/*!********************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/transactions/invite-server-transaction.js ***!
      \********************************************************************************/
/*! exports provided: InviteServerTransaction */
function(e,t,n){"use strict";n.r(t),n.d(t,"InviteServerTransaction",(function(){return a}));var r=n(
/*! ../messages/methods/constants.js */
"./node_modules/sip.js/lib/core/messages/methods/constants.js"),o=n(
/*! ../timers.js */
"./node_modules/sip.js/lib/core/timers.js"),s=n(
/*! ./server-transaction.js */
"./node_modules/sip.js/lib/core/transactions/server-transaction.js"),i=n(
/*! ./transaction-state.js */
"./node_modules/sip.js/lib/core/transactions/transaction-state.js");class a extends s.ServerTransaction{constructor(e,t,n){super(e,t,n,i.TransactionState.Proceeding,"sip.transaction.ist")}dispose(){this.stopProgressExtensionTimer(),this.H&&(clearTimeout(this.H),this.H=void 0),this.I&&(clearTimeout(this.I),this.I=void 0),this.L&&(clearTimeout(this.L),this.L=void 0),super.dispose()}get kind(){return"ist"}receiveRequest(e){switch(this.state){case i.TransactionState.Proceeding:if(e.method===r.C.INVITE)return void(this.lastProvisionalResponse&&this.send(this.lastProvisionalResponse).catch((e=>{this.logTransportError(e,"Failed to send retransmission of provisional response.")})));break;case i.TransactionState.Accepted:if(e.method===r.C.INVITE)return;break;case i.TransactionState.Completed:if(e.method===r.C.INVITE){if(!this.lastFinalResponse)throw new Error("Last final response undefined.");return void this.send(this.lastFinalResponse).catch((e=>{this.logTransportError(e,"Failed to send retransmission of final response.")}))}if(e.method===r.C.ACK)return void this.stateTransition(i.TransactionState.Confirmed);break;case i.TransactionState.Confirmed:case i.TransactionState.Terminated:if(e.method===r.C.INVITE||e.method===r.C.ACK)return;break;default:throw new Error(`Invalid state ${this.state}`)}const t=`INVITE server transaction received unexpected ${e.method} request while in state ${this.state}.`;this.logger.warn(t)}receiveResponse(e,t){if(e<100||e>699)throw new Error(`Invalid status code ${e}`);switch(this.state){case i.TransactionState.Proceeding:if(e>=100&&e<=199)return this.lastProvisionalResponse=t,e>100&&this.startProgressExtensionTimer(),void this.send(t).catch((e=>{this.logTransportError(e,"Failed to send 1xx response.")}));if(e>=200&&e<=299)return this.lastFinalResponse=t,this.stateTransition(i.TransactionState.Accepted),void this.send(t).catch((e=>{this.logTransportError(e,"Failed to send 2xx response.")}));if(e>=300&&e<=699)return this.lastFinalResponse=t,this.stateTransition(i.TransactionState.Completed),void this.send(t).catch((e=>{this.logTransportError(e,"Failed to send non-2xx final response.")}));break;case i.TransactionState.Accepted:if(e>=200&&e<=299)return void this.send(t).catch((e=>{this.logTransportError(e,"Failed to send 2xx response.")}));break;case i.TransactionState.Completed:case i.TransactionState.Confirmed:case i.TransactionState.Terminated:break;default:throw new Error(`Invalid state ${this.state}`)}const n=`INVITE server transaction received unexpected ${e} response from TU while in state ${this.state}.`;throw this.logger.error(n),new Error(n)}retransmitAcceptedResponse(){this.state===i.TransactionState.Accepted&&this.lastFinalResponse&&this.send(this.lastFinalResponse).catch((e=>{this.logTransportError(e,"Failed to send 2xx response.")}))}onTransportError(e){this.user.onTransportError&&this.user.onTransportError(e)}typeToString(){return"INVITE server transaction"}stateTransition(e){const t=()=>{throw new Error(`Invalid state transition from ${this.state} to ${e}`)};switch(e){case i.TransactionState.Proceeding:t();break;case i.TransactionState.Accepted:case i.TransactionState.Completed:this.state!==i.TransactionState.Proceeding&&t();break;case i.TransactionState.Confirmed:this.state!==i.TransactionState.Completed&&t();break;case i.TransactionState.Terminated:this.state!==i.TransactionState.Accepted&&this.state!==i.TransactionState.Completed&&this.state!==i.TransactionState.Confirmed&&t();break;default:t()}this.stopProgressExtensionTimer(),e===i.TransactionState.Accepted&&(this.L=setTimeout((()=>this.timerL()),o.Timers.TIMER_L)),e===i.TransactionState.Completed&&(this.H=setTimeout((()=>this.timerH()),o.Timers.TIMER_H)),e===i.TransactionState.Confirmed&&(this.I=setTimeout((()=>this.timerI()),o.Timers.TIMER_I)),e===i.TransactionState.Terminated&&this.dispose(),this.setState(e)}startProgressExtensionTimer(){void 0===this.progressExtensionTimer&&(this.progressExtensionTimer=setInterval((()=>{if(this.logger.debug(`Progress extension timer expired for INVITE server transaction ${this.id}.`),!this.lastProvisionalResponse)throw new Error("Last provisional response undefined.");this.send(this.lastProvisionalResponse).catch((e=>{this.logTransportError(e,"Failed to send retransmission of provisional response.")}))}),o.Timers.PROVISIONAL_RESPONSE_INTERVAL))}stopProgressExtensionTimer(){void 0!==this.progressExtensionTimer&&(clearInterval(this.progressExtensionTimer),this.progressExtensionTimer=void 0)}timerG(){}timerH(){this.logger.debug(`Timer H expired for INVITE server transaction ${this.id}.`),this.state===i.TransactionState.Completed&&(this.logger.warn("ACK to negative final response was never received, terminating transaction."),this.stateTransition(i.TransactionState.Terminated))}timerI(){this.logger.debug(`Timer I expired for INVITE server transaction ${this.id}.`),this.stateTransition(i.TransactionState.Terminated)}timerL(){this.logger.debug(`Timer L expired for INVITE server transaction ${this.id}.`),this.state===i.TransactionState.Accepted&&this.stateTransition(i.TransactionState.Terminated)}}},"./node_modules/sip.js/lib/core/transactions/non-invite-client-transaction.js":
/*!************************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/transactions/non-invite-client-transaction.js ***!
      \************************************************************************************/
/*! exports provided: NonInviteClientTransaction */
function(e,t,n){"use strict";n.r(t),n.d(t,"NonInviteClientTransaction",(function(){return i}));var r=n(
/*! ../timers.js */
"./node_modules/sip.js/lib/core/timers.js"),o=n(
/*! ./client-transaction.js */
"./node_modules/sip.js/lib/core/transactions/client-transaction.js"),s=n(
/*! ./transaction-state.js */
"./node_modules/sip.js/lib/core/transactions/transaction-state.js");class i extends o.ClientTransaction{constructor(e,t,n){super(e,t,n,s.TransactionState.Trying,"sip.transaction.nict"),this.F=setTimeout((()=>this.timerF()),r.Timers.TIMER_F),this.send(e.toString()).catch((e=>{this.logTransportError(e,"Failed to send initial outgoing request.")}))}dispose(){this.F&&(clearTimeout(this.F),this.F=void 0),this.K&&(clearTimeout(this.K),this.K=void 0),super.dispose()}get kind(){return"nict"}receiveResponse(e){const t=e.statusCode;if(!t||t<100||t>699)throw new Error(`Invalid status code ${t}`);switch(this.state){case s.TransactionState.Trying:if(t>=100&&t<=199)return this.stateTransition(s.TransactionState.Proceeding),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(t>=200&&t<=699)return this.stateTransition(s.TransactionState.Completed),408===t?void this.onRequestTimeout():void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case s.TransactionState.Proceeding:if(t>=100&&t<=199&&this.user.receiveResponse)return this.user.receiveResponse(e);if(t>=200&&t<=699)return this.stateTransition(s.TransactionState.Completed),408===t?void this.onRequestTimeout():void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case s.TransactionState.Completed:case s.TransactionState.Terminated:return;default:throw new Error(`Invalid state ${this.state}`)}const n=`Non-INVITE client transaction received unexpected ${t} response while in state ${this.state}.`;this.logger.warn(n)}onTransportError(e){this.user.onTransportError&&this.user.onTransportError(e),this.stateTransition(s.TransactionState.Terminated,!0)}typeToString(){return"non-INVITE client transaction"}stateTransition(e,t=!1){const n=()=>{throw new Error(`Invalid state transition from ${this.state} to ${e}`)};switch(e){case s.TransactionState.Trying:n();break;case s.TransactionState.Proceeding:this.state!==s.TransactionState.Trying&&n();break;case s.TransactionState.Completed:this.state!==s.TransactionState.Trying&&this.state!==s.TransactionState.Proceeding&&n();break;case s.TransactionState.Terminated:this.state!==s.TransactionState.Trying&&this.state!==s.TransactionState.Proceeding&&this.state!==s.TransactionState.Completed&&(t||n());break;default:n()}e===s.TransactionState.Completed&&(this.F&&(clearTimeout(this.F),this.F=void 0),this.K=setTimeout((()=>this.timerK()),r.Timers.TIMER_K)),e===s.TransactionState.Terminated&&this.dispose(),this.setState(e)}timerF(){this.logger.debug(`Timer F expired for non-INVITE client transaction ${this.id}.`),this.state!==s.TransactionState.Trying&&this.state!==s.TransactionState.Proceeding||(this.onRequestTimeout(),this.stateTransition(s.TransactionState.Terminated))}timerK(){this.state===s.TransactionState.Completed&&this.stateTransition(s.TransactionState.Terminated)}}},"./node_modules/sip.js/lib/core/transactions/non-invite-server-transaction.js":
/*!************************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/transactions/non-invite-server-transaction.js ***!
      \************************************************************************************/
/*! exports provided: NonInviteServerTransaction */
function(e,t,n){"use strict";n.r(t),n.d(t,"NonInviteServerTransaction",(function(){return i}));var r=n(
/*! ../timers.js */
"./node_modules/sip.js/lib/core/timers.js"),o=n(
/*! ./server-transaction.js */
"./node_modules/sip.js/lib/core/transactions/server-transaction.js"),s=n(
/*! ./transaction-state.js */
"./node_modules/sip.js/lib/core/transactions/transaction-state.js");class i extends o.ServerTransaction{constructor(e,t,n){super(e,t,n,s.TransactionState.Trying,"sip.transaction.nist")}dispose(){this.J&&(clearTimeout(this.J),this.J=void 0),super.dispose()}get kind(){return"nist"}receiveRequest(e){switch(this.state){case s.TransactionState.Trying:break;case s.TransactionState.Proceeding:if(!this.lastResponse)throw new Error("Last response undefined.");this.send(this.lastResponse).catch((e=>{this.logTransportError(e,"Failed to send retransmission of provisional response.")}));break;case s.TransactionState.Completed:if(!this.lastResponse)throw new Error("Last response undefined.");this.send(this.lastResponse).catch((e=>{this.logTransportError(e,"Failed to send retransmission of final response.")}));break;case s.TransactionState.Terminated:break;default:throw new Error(`Invalid state ${this.state}`)}}receiveResponse(e,t){if(e<100||e>699)throw new Error(`Invalid status code ${e}`);if(e>100&&e<=199)throw new Error("Provisional response other than 100 not allowed.");switch(this.state){case s.TransactionState.Trying:if(this.lastResponse=t,e>=100&&e<200)return this.stateTransition(s.TransactionState.Proceeding),void this.send(t).catch((e=>{this.logTransportError(e,"Failed to send provisional response.")}));if(e>=200&&e<=699)return this.stateTransition(s.TransactionState.Completed),void this.send(t).catch((e=>{this.logTransportError(e,"Failed to send final response.")}));break;case s.TransactionState.Proceeding:if(this.lastResponse=t,e>=200&&e<=699)return this.stateTransition(s.TransactionState.Completed),void this.send(t).catch((e=>{this.logTransportError(e,"Failed to send final response.")}));break;case s.TransactionState.Completed:return;case s.TransactionState.Terminated:break;default:throw new Error(`Invalid state ${this.state}`)}const n=`Non-INVITE server transaction received unexpected ${e} response from TU while in state ${this.state}.`;throw this.logger.error(n),new Error(n)}onTransportError(e){this.user.onTransportError&&this.user.onTransportError(e),this.stateTransition(s.TransactionState.Terminated,!0)}typeToString(){return"non-INVITE server transaction"}stateTransition(e,t=!1){const n=()=>{throw new Error(`Invalid state transition from ${this.state} to ${e}`)};switch(e){case s.TransactionState.Trying:n();break;case s.TransactionState.Proceeding:this.state!==s.TransactionState.Trying&&n();break;case s.TransactionState.Completed:this.state!==s.TransactionState.Trying&&this.state!==s.TransactionState.Proceeding&&n();break;case s.TransactionState.Terminated:this.state!==s.TransactionState.Proceeding&&this.state!==s.TransactionState.Completed&&(t||n());break;default:n()}e===s.TransactionState.Completed&&(this.J=setTimeout((()=>this.timerJ()),r.Timers.TIMER_J)),e===s.TransactionState.Terminated&&this.dispose(),this.setState(e)}timerJ(){this.logger.debug(`Timer J expired for NON-INVITE server transaction ${this.id}.`),this.state===s.TransactionState.Completed&&this.stateTransition(s.TransactionState.Terminated)}}},"./node_modules/sip.js/lib/core/transactions/server-transaction.js":
/*!*************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/transactions/server-transaction.js ***!
      \*************************************************************************/
/*! exports provided: ServerTransaction */
function(e,t,n){"use strict";n.r(t),n.d(t,"ServerTransaction",(function(){return o}));var r=n(
/*! ./transaction.js */
"./node_modules/sip.js/lib/core/transactions/transaction.js");class o extends r.Transaction{constructor(e,t,n,r,o){super(t,n,e.viaBranch,r,o),this._request=e,this.user=n}get request(){return this._request}}},"./node_modules/sip.js/lib/core/transactions/transaction-state.js":
/*!************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/transactions/transaction-state.js ***!
      \************************************************************************/
/*! exports provided: TransactionState */
function(e,t,n){"use strict";var r;n.r(t),n.d(t,"TransactionState",(function(){return r})),function(e){e.Accepted="Accepted",e.Calling="Calling",e.Completed="Completed",e.Confirmed="Confirmed",e.Proceeding="Proceeding",e.Terminated="Terminated",e.Trying="Trying"}(r=r||(r={}))},"./node_modules/sip.js/lib/core/transactions/transaction-user.js":
/*!***********************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/transactions/transaction-user.js ***!
      \***********************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/core/transactions/transaction.js":
/*!******************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/transactions/transaction.js ***!
      \******************************************************************/
/*! exports provided: Transaction */
function(e,t,n){"use strict";n.r(t),n.d(t,"Transaction",(function(){return o}));var r=n(
/*! ../exceptions/transport-error.js */
"./node_modules/sip.js/lib/core/exceptions/transport-error.js");class o{constructor(e,t,n,r,o){this._transport=e,this._user=t,this._id=n,this._state=r,this.listeners=new Array,this.logger=t.loggerFactory.getLogger(o,n),this.logger.debug(`Constructing ${this.typeToString()} with id ${this.id}.`)}dispose(){this.logger.debug(`Destroyed ${this.typeToString()} with id ${this.id}.`)}get id(){return this._id}get kind(){throw new Error("Invalid kind.")}get state(){return this._state}get transport(){return this._transport}addStateChangeListener(e,t){const n=()=>{this.removeStateChangeListener(n),e()};!0===(null==t?void 0:t.once)?this.listeners.push(n):this.listeners.push(e)}notifyStateChangeListeners(){this.listeners.slice().forEach((e=>e()))}removeStateChangeListener(e){this.listeners=this.listeners.filter((t=>t!==e))}logTransportError(e,t){this.logger.error(e.message),this.logger.error(`Transport error occurred in ${this.typeToString()} with id ${this.id}.`),this.logger.error(t)}send(e){return this.transport.send(e).catch((e=>{if(e instanceof r.TransportError)throw this.onTransportError(e),e;let t;throw t=e&&"string"==typeof e.message?new r.TransportError(e.message):new r.TransportError,this.onTransportError(t),t}))}setState(e){this.logger.debug(`State change to "${e}" on ${this.typeToString()} with id ${this.id}.`),this._state=e,this._user.onStateChange&&this._user.onStateChange(e),this.notifyStateChangeListeners()}typeToString(){return"UnknownType"}}},"./node_modules/sip.js/lib/core/transport.js":
/*!***************************************************!*\
      !*** ./node_modules/sip.js/lib/core/transport.js ***!
      \***************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/core/user-agent-core/allowed-methods.js":
/*!*************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agent-core/allowed-methods.js ***!
      \*************************************************************************/
/*! exports provided: AllowedMethods */
function(e,t,n){"use strict";n.r(t),n.d(t,"AllowedMethods",(function(){return o}));var r=n(
/*! ../messages/methods/constants.js */
"./node_modules/sip.js/lib/core/messages/methods/constants.js");const o=[r.C.ACK,r.C.BYE,r.C.CANCEL,r.C.INFO,r.C.INVITE,r.C.MESSAGE,r.C.NOTIFY,r.C.OPTIONS,r.C.PRACK,r.C.REFER,r.C.REGISTER,r.C.SUBSCRIBE]},"./node_modules/sip.js/lib/core/user-agent-core/index.js":
/*!***************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agent-core/index.js ***!
      \***************************************************************/
/*! exports provided: UserAgentCore */
function(e,t,n){"use strict";n.r(t);var r=n(
/*! ./user-agent-core.js */
"./node_modules/sip.js/lib/core/user-agent-core/user-agent-core.js");n.d(t,"UserAgentCore",(function(){return r.UserAgentCore})),n(
/*! ./user-agent-core-configuration.js */
"./node_modules/sip.js/lib/core/user-agent-core/user-agent-core-configuration.js"),n(
/*! ./user-agent-core-delegate.js */
"./node_modules/sip.js/lib/core/user-agent-core/user-agent-core-delegate.js")},"./node_modules/sip.js/lib/core/user-agent-core/user-agent-core-configuration.js":
/*!***************************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agent-core/user-agent-core-configuration.js ***!
      \***************************************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/core/user-agent-core/user-agent-core-delegate.js":
/*!**********************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agent-core/user-agent-core-delegate.js ***!
      \**********************************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/core/user-agent-core/user-agent-core.js":
/*!*************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agent-core/user-agent-core.js ***!
      \*************************************************************************/
/*! exports provided: UserAgentCore */
function(e,t,n){"use strict";n.r(t),n.d(t,"UserAgentCore",(function(){return _}));var r=n(
/*! ../messages/methods/constants.js */
"./node_modules/sip.js/lib/core/messages/methods/constants.js"),o=n(
/*! ../messages/outgoing-request-message.js */
"./node_modules/sip.js/lib/core/messages/outgoing-request-message.js"),s=n(
/*! ../messages/outgoing-response.js */
"./node_modules/sip.js/lib/core/messages/outgoing-response.js"),i=n(
/*! ../transactions/invite-server-transaction.js */
"./node_modules/sip.js/lib/core/transactions/invite-server-transaction.js"),a=n(
/*! ../transactions/non-invite-client-transaction.js */
"./node_modules/sip.js/lib/core/transactions/non-invite-client-transaction.js"),l=n(
/*! ../transactions/transaction-state.js */
"./node_modules/sip.js/lib/core/transactions/transaction-state.js"),c=n(
/*! ../user-agents/invite-user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/invite-user-agent-client.js"),u=n(
/*! ../user-agents/invite-user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/invite-user-agent-server.js"),d=n(
/*! ../user-agents/message-user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/message-user-agent-client.js"),p=n(
/*! ../user-agents/message-user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/message-user-agent-server.js"),h=n(
/*! ../user-agents/notify-user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/notify-user-agent-server.js"),f=n(
/*! ../user-agents/publish-user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/publish-user-agent-client.js"),g=n(
/*! ../user-agents/refer-user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/refer-user-agent-server.js"),m=n(
/*! ../user-agents/register-user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/register-user-agent-client.js"),v=n(
/*! ../user-agents/register-user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/register-user-agent-server.js"),b=n(
/*! ../user-agents/subscribe-user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/subscribe-user-agent-client.js"),y=n(
/*! ../user-agents/subscribe-user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/subscribe-user-agent-server.js"),w=n(
/*! ../user-agents/user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/user-agent-client.js"),S=n(
/*! ./allowed-methods.js */
"./node_modules/sip.js/lib/core/user-agent-core/allowed-methods.js");const C=["application/sdp","application/dtmf-relay"];class _{constructor(e,t={}){this.userAgentClients=new Map,this.userAgentServers=new Map,this.configuration=e,this.delegate=t,this.dialogs=new Map,this.subscribers=new Map,this.logger=e.loggerFactory.getLogger("sip.user-agent-core")}dispose(){this.reset()}reset(){this.dialogs.forEach((e=>e.dispose())),this.dialogs.clear(),this.subscribers.forEach((e=>e.dispose())),this.subscribers.clear(),this.userAgentClients.forEach((e=>e.dispose())),this.userAgentClients.clear(),this.userAgentServers.forEach((e=>e.dispose())),this.userAgentServers.clear()}get loggerFactory(){return this.configuration.loggerFactory}get transport(){const e=this.configuration.transportAccessor();if(!e)throw new Error("Transport undefined.");return e}invite(e,t){return new c.InviteUserAgentClient(this,e,t)}message(e,t){return new d.MessageUserAgentClient(this,e,t)}publish(e,t){return new f.PublishUserAgentClient(this,e,t)}register(e,t){return new m.RegisterUserAgentClient(this,e,t)}subscribe(e,t){return new b.SubscribeUserAgentClient(this,e,t)}request(e,t){return new w.UserAgentClient(a.NonInviteClientTransaction,this,e,t)}makeOutgoingRequestMessage(e,t,n,s,i,a,l){const c=this.configuration.sipjsId,u=this.configuration.displayName,d=this.configuration.viaForceRport,p=this.configuration.hackViaTcp,h=this.configuration.supportedOptionTags.slice();e===r.C.REGISTER&&h.push("path","gruu"),e===r.C.INVITE&&(this.configuration.contact.pubGruu||this.configuration.contact.tempGruu)&&h.push("gruu");const f={callIdPrefix:c,forceRport:d,fromDisplayName:u,hackViaTcp:p,optionTags:h,routeSet:this.configuration.routeSet,userAgentString:this.configuration.userAgentHeaderFieldValue,viaHost:this.configuration.viaHost},g=Object.assign(Object.assign({},f),i);return new o.OutgoingRequestMessage(e,t,n,s,g,a,l)}receiveIncomingRequestFromTransport(e){this.receiveRequestFromTransport(e)}receiveIncomingResponseFromTransport(e){this.receiveResponseFromTransport(e)}replyStateless(e,t){const n=this.configuration.userAgentHeaderFieldValue,r=this.configuration.supportedOptionTagsResponse;t=Object.assign(Object.assign({},t),{userAgent:n,supported:r});const o=Object(s.constructOutgoingResponse)(e,t);return this.transport.send(o.message).catch((t=>{t instanceof Error&&this.logger.error(t.message),this.logger.error(`Transport error occurred sending stateless reply to ${e.method} request.`)})),o}receiveRequestFromTransport(e){const t=e.viaBranch,n=this.userAgentServers.get(t);e.method===r.C.ACK&&n&&n.transaction.state===l.TransactionState.Accepted&&n instanceof u.InviteUserAgentServer?this.logger.warn(`Discarding out of dialog ACK after 2xx response sent on transaction ${t}.`):e.method!==r.C.CANCEL?n?n.transaction.receiveRequest(e):this.receiveRequest(e):n?(this.replyStateless(e,{statusCode:200}),n.transaction instanceof i.InviteServerTransaction&&n.transaction.state===l.TransactionState.Proceeding&&n instanceof u.InviteUserAgentServer&&n.receiveCancel(e)):this.replyStateless(e,{statusCode:481})}receiveRequest(e){if(!S.AllowedMethods.includes(e.method)){const t="Allow: "+S.AllowedMethods.toString();return void this.replyStateless(e,{statusCode:405,extraHeaders:[t]})}if(!e.ruri)throw new Error("Request-URI undefined.");if("sip"!==e.ruri.scheme)return void this.replyStateless(e,{statusCode:416});const t=e.ruri,n=e=>!!e&&e.user===t.user;if(!n(this.configuration.aor)&&!(n(this.configuration.contact.uri)||n(this.configuration.contact.pubGruu)||n(this.configuration.contact.tempGruu)))return this.logger.warn("Request-URI does not point to us."),void(e.method!==r.C.ACK&&this.replyStateless(e,{statusCode:404}));if(e.method!==r.C.INVITE||e.hasHeader("Contact")){if(!e.toTag){const t=e.viaBranch;if(!this.userAgentServers.has(t)&&Array.from(this.userAgentServers.values()).some((t=>t.transaction.request.fromTag===e.fromTag&&t.transaction.request.callId===e.callId&&t.transaction.request.cseq===e.cseq)))return void this.replyStateless(e,{statusCode:482})}e.toTag?this.receiveInsideDialogRequest(e):this.receiveOutsideDialogRequest(e)}else this.replyStateless(e,{statusCode:400,reasonPhrase:"Missing Contact Header"})}receiveInsideDialogRequest(e){if(e.method===r.C.NOTIFY){const t=e.parseHeader("Event");if(!t||!t.event)return void this.replyStateless(e,{statusCode:489});const n=e.callId+e.toTag+t.event,r=this.subscribers.get(n);if(r){const t=new h.NotifyUserAgentServer(this,e);return void r.onNotify(t)}}const t=e.callId+e.toTag+e.fromTag,n=this.dialogs.get(t);if(n){if(e.method===r.C.OPTIONS){const t="Allow: "+S.AllowedMethods.toString(),n="Accept: "+C.toString();return void this.replyStateless(e,{statusCode:200,extraHeaders:[t,n]})}n.receiveRequest(e)}else e.method!==r.C.ACK&&this.replyStateless(e,{statusCode:481})}receiveOutsideDialogRequest(e){switch(e.method){case r.C.ACK:break;case r.C.BYE:this.replyStateless(e,{statusCode:481});break;case r.C.CANCEL:throw new Error(`Unexpected out of dialog request method ${e.method}.`);case r.C.INFO:this.replyStateless(e,{statusCode:405});break;case r.C.INVITE:{const t=new u.InviteUserAgentServer(this,e);this.delegate.onInvite?this.delegate.onInvite(t):t.reject()}break;case r.C.MESSAGE:{const t=new p.MessageUserAgentServer(this,e);this.delegate.onMessage?this.delegate.onMessage(t):t.accept()}break;case r.C.NOTIFY:{const t=new h.NotifyUserAgentServer(this,e);this.delegate.onNotify?this.delegate.onNotify(t):t.reject({statusCode:405})}break;case r.C.OPTIONS:{const t="Allow: "+S.AllowedMethods.toString(),n="Accept: "+C.toString();this.replyStateless(e,{statusCode:200,extraHeaders:[t,n]})}break;case r.C.REFER:{const t=new g.ReferUserAgentServer(this,e);this.delegate.onRefer?this.delegate.onRefer(t):t.reject({statusCode:405})}break;case r.C.REGISTER:{const t=new v.RegisterUserAgentServer(this,e);this.delegate.onRegister?this.delegate.onRegister(t):t.reject({statusCode:405})}break;case r.C.SUBSCRIBE:{const t=new y.SubscribeUserAgentServer(this,e);this.delegate.onSubscribe?this.delegate.onSubscribe(t):t.reject({statusCode:480})}break;default:throw new Error(`Unexpected out of dialog request method ${e.method}.`)}}receiveResponseFromTransport(e){if(e.getHeaders("via").length>1)return void this.logger.warn("More than one Via header field present in the response, dropping");const t=e.viaBranch+e.method,n=this.userAgentClients.get(t);n?n.transaction.receiveResponse(e):this.logger.warn(`Discarding unmatched ${e.statusCode} response to ${e.method} ${t}.`)}}},"./node_modules/sip.js/lib/core/user-agents/bye-user-agent-client.js":
/*!***************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agents/bye-user-agent-client.js ***!
      \***************************************************************************/
/*! exports provided: ByeUserAgentClient */
function(e,t,n){"use strict";n.r(t),n.d(t,"ByeUserAgentClient",(function(){return i}));var r=n(
/*! ../messages/methods/constants.js */
"./node_modules/sip.js/lib/core/messages/methods/constants.js"),o=n(
/*! ../transactions/non-invite-client-transaction.js */
"./node_modules/sip.js/lib/core/transactions/non-invite-client-transaction.js"),s=n(
/*! ./user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/user-agent-client.js");class i extends s.UserAgentClient{constructor(e,t,n){const s=e.createOutgoingRequestMessage(r.C.BYE,n);super(o.NonInviteClientTransaction,e.userAgentCore,s,t),e.dispose()}}},"./node_modules/sip.js/lib/core/user-agents/bye-user-agent-server.js":
/*!***************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agents/bye-user-agent-server.js ***!
      \***************************************************************************/
/*! exports provided: ByeUserAgentServer */
function(e,t,n){"use strict";n.r(t),n.d(t,"ByeUserAgentServer",(function(){return s}));var r=n(
/*! ../transactions/non-invite-server-transaction.js */
"./node_modules/sip.js/lib/core/transactions/non-invite-server-transaction.js"),o=n(
/*! ./user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/user-agent-server.js");class s extends o.UserAgentServer{constructor(e,t,n){super(r.NonInviteServerTransaction,e.userAgentCore,t,n)}}},"./node_modules/sip.js/lib/core/user-agents/cancel-user-agent-client.js":
/*!******************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agents/cancel-user-agent-client.js ***!
      \******************************************************************************/
/*! exports provided: CancelUserAgentClient */
function(e,t,n){"use strict";n.r(t),n.d(t,"CancelUserAgentClient",(function(){return s}));var r=n(
/*! ../transactions/non-invite-client-transaction.js */
"./node_modules/sip.js/lib/core/transactions/non-invite-client-transaction.js"),o=n(
/*! ./user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/user-agent-client.js");class s extends o.UserAgentClient{constructor(e,t,n){super(r.NonInviteClientTransaction,e,t,n)}}},"./node_modules/sip.js/lib/core/user-agents/index.js":
/*!***********************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agents/index.js ***!
      \***********************************************************/
/*! exports provided: ByeUserAgentClient, ByeUserAgentServer, CancelUserAgentClient, InfoUserAgentClient, InfoUserAgentServer, InviteUserAgentClient, InviteUserAgentServer, MessageUserAgentClient, MessageUserAgentServer, NotifyUserAgentClient, NotifyUserAgentServer, PublishUserAgentClient, PrackUserAgentClient, PrackUserAgentServer, ReInviteUserAgentClient, ReInviteUserAgentServer, ReSubscribeUserAgentClient, ReSubscribeUserAgentServer, ReferUserAgentClient, ReferUserAgentServer, RegisterUserAgentClient, RegisterUserAgentServer, SubscribeUserAgentClient, SubscribeUserAgentServer, UserAgentClient, UserAgentServer */
function(e,t,n){"use strict";n.r(t);var r=n(
/*! ./bye-user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/bye-user-agent-client.js");n.d(t,"ByeUserAgentClient",(function(){return r.ByeUserAgentClient}));var o=n(
/*! ./bye-user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/bye-user-agent-server.js");n.d(t,"ByeUserAgentServer",(function(){return o.ByeUserAgentServer}));var s=n(
/*! ./cancel-user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/cancel-user-agent-client.js");n.d(t,"CancelUserAgentClient",(function(){return s.CancelUserAgentClient}));var i=n(
/*! ./info-user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/info-user-agent-client.js");n.d(t,"InfoUserAgentClient",(function(){return i.InfoUserAgentClient}));var a=n(
/*! ./info-user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/info-user-agent-server.js");n.d(t,"InfoUserAgentServer",(function(){return a.InfoUserAgentServer}));var l=n(
/*! ./invite-user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/invite-user-agent-client.js");n.d(t,"InviteUserAgentClient",(function(){return l.InviteUserAgentClient}));var c=n(
/*! ./invite-user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/invite-user-agent-server.js");n.d(t,"InviteUserAgentServer",(function(){return c.InviteUserAgentServer}));var u=n(
/*! ./message-user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/message-user-agent-client.js");n.d(t,"MessageUserAgentClient",(function(){return u.MessageUserAgentClient}));var d=n(
/*! ./message-user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/message-user-agent-server.js");n.d(t,"MessageUserAgentServer",(function(){return d.MessageUserAgentServer}));var p=n(
/*! ./notify-user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/notify-user-agent-client.js");n.d(t,"NotifyUserAgentClient",(function(){return p.NotifyUserAgentClient}));var h=n(
/*! ./notify-user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/notify-user-agent-server.js");n.d(t,"NotifyUserAgentServer",(function(){return h.NotifyUserAgentServer}));var f=n(
/*! ./publish-user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/publish-user-agent-client.js");n.d(t,"PublishUserAgentClient",(function(){return f.PublishUserAgentClient}));var g=n(
/*! ./prack-user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/prack-user-agent-client.js");n.d(t,"PrackUserAgentClient",(function(){return g.PrackUserAgentClient}));var m=n(
/*! ./prack-user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/prack-user-agent-server.js");n.d(t,"PrackUserAgentServer",(function(){return m.PrackUserAgentServer}));var v=n(
/*! ./re-invite-user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/re-invite-user-agent-client.js");n.d(t,"ReInviteUserAgentClient",(function(){return v.ReInviteUserAgentClient}));var b=n(
/*! ./re-invite-user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/re-invite-user-agent-server.js");n.d(t,"ReInviteUserAgentServer",(function(){return b.ReInviteUserAgentServer}));var y=n(
/*! ./re-subscribe-user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/re-subscribe-user-agent-client.js");n.d(t,"ReSubscribeUserAgentClient",(function(){return y.ReSubscribeUserAgentClient}));var w=n(
/*! ./re-subscribe-user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/re-subscribe-user-agent-server.js");n.d(t,"ReSubscribeUserAgentServer",(function(){return w.ReSubscribeUserAgentServer}));var S=n(
/*! ./refer-user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/refer-user-agent-client.js");n.d(t,"ReferUserAgentClient",(function(){return S.ReferUserAgentClient}));var C=n(
/*! ./refer-user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/refer-user-agent-server.js");n.d(t,"ReferUserAgentServer",(function(){return C.ReferUserAgentServer}));var _=n(
/*! ./register-user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/register-user-agent-client.js");n.d(t,"RegisterUserAgentClient",(function(){return _.RegisterUserAgentClient}));var E=n(
/*! ./register-user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/register-user-agent-server.js");n.d(t,"RegisterUserAgentServer",(function(){return E.RegisterUserAgentServer}));var k=n(
/*! ./subscribe-user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/subscribe-user-agent-client.js");n.d(t,"SubscribeUserAgentClient",(function(){return k.SubscribeUserAgentClient}));var T=n(
/*! ./subscribe-user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/subscribe-user-agent-server.js");n.d(t,"SubscribeUserAgentServer",(function(){return T.SubscribeUserAgentServer}));var x=n(
/*! ./user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/user-agent-client.js");n.d(t,"UserAgentClient",(function(){return x.UserAgentClient}));var R=n(
/*! ./user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/user-agent-server.js");n.d(t,"UserAgentServer",(function(){return R.UserAgentServer}))},"./node_modules/sip.js/lib/core/user-agents/info-user-agent-client.js":
/*!****************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agents/info-user-agent-client.js ***!
      \****************************************************************************/
/*! exports provided: InfoUserAgentClient */
function(e,t,n){"use strict";n.r(t),n.d(t,"InfoUserAgentClient",(function(){return i}));var r=n(
/*! ../messages/methods/constants.js */
"./node_modules/sip.js/lib/core/messages/methods/constants.js"),o=n(
/*! ../transactions/non-invite-client-transaction.js */
"./node_modules/sip.js/lib/core/transactions/non-invite-client-transaction.js"),s=n(
/*! ./user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/user-agent-client.js");class i extends s.UserAgentClient{constructor(e,t,n){const s=e.createOutgoingRequestMessage(r.C.INFO,n);super(o.NonInviteClientTransaction,e.userAgentCore,s,t)}}},"./node_modules/sip.js/lib/core/user-agents/info-user-agent-server.js":
/*!****************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agents/info-user-agent-server.js ***!
      \****************************************************************************/
/*! exports provided: InfoUserAgentServer */
function(e,t,n){"use strict";n.r(t),n.d(t,"InfoUserAgentServer",(function(){return s}));var r=n(
/*! ../transactions/non-invite-server-transaction.js */
"./node_modules/sip.js/lib/core/transactions/non-invite-server-transaction.js"),o=n(
/*! ./user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/user-agent-server.js");class s extends o.UserAgentServer{constructor(e,t,n){super(r.NonInviteServerTransaction,e.userAgentCore,t,n)}}},"./node_modules/sip.js/lib/core/user-agents/invite-user-agent-client.js":
/*!******************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agents/invite-user-agent-client.js ***!
      \******************************************************************************/
/*! exports provided: InviteUserAgentClient */
function(e,t,n){"use strict";n.r(t),n.d(t,"InviteUserAgentClient",(function(){return c}));var r=n(
/*! ../dialogs/dialog.js */
"./node_modules/sip.js/lib/core/dialogs/dialog.js"),o=n(
/*! ../dialogs/session-dialog.js */
"./node_modules/sip.js/lib/core/dialogs/session-dialog.js"),s=n(
/*! ../session/session.js */
"./node_modules/sip.js/lib/core/session/session.js"),i=n(
/*! ../transactions/invite-client-transaction.js */
"./node_modules/sip.js/lib/core/transactions/invite-client-transaction.js"),a=n(
/*! ../transactions/transaction-state.js */
"./node_modules/sip.js/lib/core/transactions/transaction-state.js"),l=n(
/*! ./user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/user-agent-client.js");class c extends l.UserAgentClient{constructor(e,t,n){super(i.InviteClientTransaction,e,t,n),this.confirmedDialogAcks=new Map,this.confirmedDialogs=new Map,this.earlyDialogs=new Map,this.delegate=n}dispose(){this.earlyDialogs.forEach((e=>e.dispose())),this.earlyDialogs.clear(),super.dispose()}onTransportError(e){if(this.transaction.state===a.TransactionState.Calling)return super.onTransportError(e);this.logger.error(e.message),this.logger.error("User agent client request transport error while sending ACK.")}receiveResponse(e){if(!this.authenticationGuard(e))return;const t=e.statusCode?e.statusCode.toString():"";if(!t)throw new Error("Response status code undefined.");switch(!0){case/^100$/.test(t):return void(this.delegate&&this.delegate.onTrying&&this.delegate.onTrying({message:e}));case/^1[0-9]{2}$/.test(t):{if(!e.toTag)return void this.logger.warn("Non-100 1xx INVITE response received without a to tag, dropping.");if(!e.parseHeader("contact"))return void this.logger.error("Non-100 1xx INVITE response received without a Contact header field, dropping.");const t=r.Dialog.initialDialogStateForUserAgentClient(this.message,e);let n=this.earlyDialogs.get(t.id);if(!n){const e=this.transaction;if(!(e instanceof i.InviteClientTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");n=new o.SessionDialog(e,this.core,t),this.earlyDialogs.set(n.id,n)}if(!n.reliableSequenceGuard(e))return void this.logger.warn("1xx INVITE reliable response received out of order or is a retransmission, dropping.");n.signalingState!==s.SignalingState.Initial&&n.signalingState!==s.SignalingState.HaveLocalOffer||n.signalingStateTransition(e);const a=n;this.delegate&&this.delegate.onProgress&&this.delegate.onProgress({message:e,session:a,prack:e=>a.prack(void 0,e)})}return;case/^2[0-9]{2}$/.test(t):{if(!e.toTag)return void this.logger.error("2xx INVITE response received without a to tag, dropping.");if(!e.parseHeader("contact"))return void this.logger.error("2xx INVITE response received without a Contact header field, dropping.");const t=r.Dialog.initialDialogStateForUserAgentClient(this.message,e);let n=this.confirmedDialogs.get(t.id);if(n){const e=this.confirmedDialogAcks.get(t.id);if(e){const t=this.transaction;if(!(t instanceof i.InviteClientTransaction))throw new Error("Client transaction not instance of InviteClientTransaction.");t.ackResponse(e.message)}return}if(n=this.earlyDialogs.get(t.id))n.confirm(),n.recomputeRouteSet(e),this.earlyDialogs.delete(n.id),this.confirmedDialogs.set(n.id,n);else{const e=this.transaction;if(!(e instanceof i.InviteClientTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");n=new o.SessionDialog(e,this.core,t),this.confirmedDialogs.set(n.id,n)}n.signalingState!==s.SignalingState.Initial&&n.signalingState!==s.SignalingState.HaveLocalOffer||n.signalingStateTransition(e);const a=n;if(this.delegate&&this.delegate.onAccept)this.delegate.onAccept({message:e,session:a,ack:e=>{const t=a.ack(e);return this.confirmedDialogAcks.set(a.id,t),t}});else{const e=a.ack();this.confirmedDialogAcks.set(a.id,e)}}return;case/^3[0-9]{2}$/.test(t):return this.earlyDialogs.forEach((e=>e.dispose())),this.earlyDialogs.clear(),void(this.delegate&&this.delegate.onRedirect&&this.delegate.onRedirect({message:e}));case/^[4-6][0-9]{2}$/.test(t):return this.earlyDialogs.forEach((e=>e.dispose())),this.earlyDialogs.clear(),void(this.delegate&&this.delegate.onReject&&this.delegate.onReject({message:e}));default:throw new Error(`Invalid status code ${t}`)}throw new Error(`Executing what should be an unreachable code path receiving ${t} response.`)}}},"./node_modules/sip.js/lib/core/user-agents/invite-user-agent-server.js":
/*!******************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agents/invite-user-agent-server.js ***!
      \******************************************************************************/
/*! exports provided: InviteUserAgentServer */
function(e,t,n){"use strict";n.r(t),n.d(t,"InviteUserAgentServer",(function(){return u}));var r=n(
/*! ../dialogs/dialog.js */
"./node_modules/sip.js/lib/core/dialogs/dialog.js"),o=n(
/*! ../dialogs/session-dialog.js */
"./node_modules/sip.js/lib/core/dialogs/session-dialog.js"),s=n(
/*! ../exceptions/transaction-state-error.js */
"./node_modules/sip.js/lib/core/exceptions/transaction-state-error.js"),i=n(
/*! ../session/session.js */
"./node_modules/sip.js/lib/core/session/session.js"),a=n(
/*! ../transactions/invite-server-transaction.js */
"./node_modules/sip.js/lib/core/transactions/invite-server-transaction.js"),l=n(
/*! ../user-agent-core/allowed-methods.js */
"./node_modules/sip.js/lib/core/user-agent-core/allowed-methods.js"),c=n(
/*! ./user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/user-agent-server.js");class u extends c.UserAgentServer{constructor(e,t,n){super(a.InviteServerTransaction,e,t,n),this.core=e}dispose(){this.earlyDialog&&this.earlyDialog.dispose(),super.dispose()}accept(e={statusCode:200}){if(!this.acceptable)throw new s.TransactionStateError(`${this.message.method} not acceptable in state ${this.transaction.state}.`);if(!this.confirmedDialog)if(this.earlyDialog)this.earlyDialog.confirm(),this.confirmedDialog=this.earlyDialog,this.earlyDialog=void 0;else{const e=this.transaction;if(!(e instanceof a.InviteServerTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");const t=r.Dialog.initialDialogStateForUserAgentServer(this.message,this.toTag);this.confirmedDialog=new o.SessionDialog(e,this.core,t)}const t=this.message.getHeaders("record-route").map((e=>`Record-Route: ${e}`)),n=`Contact: ${this.core.configuration.contact.toString()}`,c="Allow: "+l.AllowedMethods.toString();if(!e.body)if(this.confirmedDialog.signalingState===i.SignalingState.Stable)e.body=this.confirmedDialog.answer;else if(this.confirmedDialog.signalingState===i.SignalingState.Initial||this.confirmedDialog.signalingState===i.SignalingState.HaveRemoteOffer)throw new Error("Response must have a body.");e.statusCode=e.statusCode||200,e.extraHeaders=e.extraHeaders||[],e.extraHeaders=e.extraHeaders.concat(t),e.extraHeaders.push(c),e.extraHeaders.push(n);const u=super.accept(e),d=this.confirmedDialog,p=Object.assign(Object.assign({},u),{session:d});return e.body&&this.confirmedDialog.signalingState!==i.SignalingState.Stable&&this.confirmedDialog.signalingStateTransition(e.body),p}progress(e={statusCode:180}){if(!this.progressable)throw new s.TransactionStateError(`${this.message.method} not progressable in state ${this.transaction.state}.`);if(!this.earlyDialog){const e=this.transaction;if(!(e instanceof a.InviteServerTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");const t=r.Dialog.initialDialogStateForUserAgentServer(this.message,this.toTag,!0);this.earlyDialog=new o.SessionDialog(e,this.core,t)}const t=this.message.getHeaders("record-route").map((e=>`Record-Route: ${e}`)),n=`Contact: ${this.core.configuration.contact}`;e.extraHeaders=e.extraHeaders||[],e.extraHeaders=e.extraHeaders.concat(t),e.extraHeaders.push(n);const l=super.progress(e),c=this.earlyDialog,u=Object.assign(Object.assign({},l),{session:c});return e.body&&this.earlyDialog.signalingState!==i.SignalingState.Stable&&this.earlyDialog.signalingStateTransition(e.body),u}redirect(e,t={statusCode:302}){return super.redirect(e,t)}reject(e={statusCode:486}){return super.reject(e)}}},"./node_modules/sip.js/lib/core/user-agents/message-user-agent-client.js":
/*!*******************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agents/message-user-agent-client.js ***!
      \*******************************************************************************/
/*! exports provided: MessageUserAgentClient */
function(e,t,n){"use strict";n.r(t),n.d(t,"MessageUserAgentClient",(function(){return s}));var r=n(
/*! ../transactions/non-invite-client-transaction.js */
"./node_modules/sip.js/lib/core/transactions/non-invite-client-transaction.js"),o=n(
/*! ./user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/user-agent-client.js");class s extends o.UserAgentClient{constructor(e,t,n){super(r.NonInviteClientTransaction,e,t,n)}}},"./node_modules/sip.js/lib/core/user-agents/message-user-agent-server.js":
/*!*******************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agents/message-user-agent-server.js ***!
      \*******************************************************************************/
/*! exports provided: MessageUserAgentServer */
function(e,t,n){"use strict";n.r(t),n.d(t,"MessageUserAgentServer",(function(){return s}));var r=n(
/*! ../transactions/non-invite-server-transaction.js */
"./node_modules/sip.js/lib/core/transactions/non-invite-server-transaction.js"),o=n(
/*! ./user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/user-agent-server.js");class s extends o.UserAgentServer{constructor(e,t,n){super(r.NonInviteServerTransaction,e,t,n)}}},"./node_modules/sip.js/lib/core/user-agents/notify-user-agent-client.js":
/*!******************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agents/notify-user-agent-client.js ***!
      \******************************************************************************/
/*! exports provided: NotifyUserAgentClient */
function(e,t,n){"use strict";n.r(t),n.d(t,"NotifyUserAgentClient",(function(){return i}));var r=n(
/*! ../messages/methods/constants.js */
"./node_modules/sip.js/lib/core/messages/methods/constants.js"),o=n(
/*! ../transactions/non-invite-client-transaction.js */
"./node_modules/sip.js/lib/core/transactions/non-invite-client-transaction.js"),s=n(
/*! ./user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/user-agent-client.js");class i extends s.UserAgentClient{constructor(e,t,n){const s=e.createOutgoingRequestMessage(r.C.NOTIFY,n);super(o.NonInviteClientTransaction,e.userAgentCore,s,t)}}},"./node_modules/sip.js/lib/core/user-agents/notify-user-agent-server.js":
/*!******************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agents/notify-user-agent-server.js ***!
      \******************************************************************************/
/*! exports provided: NotifyUserAgentServer */
function(e,t,n){"use strict";n.r(t),n.d(t,"NotifyUserAgentServer",(function(){return s}));var r=n(
/*! ../transactions/non-invite-server-transaction.js */
"./node_modules/sip.js/lib/core/transactions/non-invite-server-transaction.js"),o=n(
/*! ./user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/user-agent-server.js");class s extends o.UserAgentServer{constructor(e,t,n){const o=void 0!==e.userAgentCore?e.userAgentCore:e;super(r.NonInviteServerTransaction,o,t,n)}}},"./node_modules/sip.js/lib/core/user-agents/prack-user-agent-client.js":
/*!*****************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agents/prack-user-agent-client.js ***!
      \*****************************************************************************/
/*! exports provided: PrackUserAgentClient */
function(e,t,n){"use strict";n.r(t),n.d(t,"PrackUserAgentClient",(function(){return i}));var r=n(
/*! ../messages/methods/constants.js */
"./node_modules/sip.js/lib/core/messages/methods/constants.js"),o=n(
/*! ../transactions/non-invite-client-transaction.js */
"./node_modules/sip.js/lib/core/transactions/non-invite-client-transaction.js"),s=n(
/*! ./user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/user-agent-client.js");class i extends s.UserAgentClient{constructor(e,t,n){const s=e.createOutgoingRequestMessage(r.C.PRACK,n);super(o.NonInviteClientTransaction,e.userAgentCore,s,t),e.signalingStateTransition(s)}}},"./node_modules/sip.js/lib/core/user-agents/prack-user-agent-server.js":
/*!*****************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agents/prack-user-agent-server.js ***!
      \*****************************************************************************/
/*! exports provided: PrackUserAgentServer */
function(e,t,n){"use strict";n.r(t),n.d(t,"PrackUserAgentServer",(function(){return s}));var r=n(
/*! ../transactions/non-invite-server-transaction.js */
"./node_modules/sip.js/lib/core/transactions/non-invite-server-transaction.js"),o=n(
/*! ./user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/user-agent-server.js");class s extends o.UserAgentServer{constructor(e,t,n){super(r.NonInviteServerTransaction,e.userAgentCore,t,n),e.signalingStateTransition(t),this.dialog=e}accept(e={statusCode:200}){return e.body&&this.dialog.signalingStateTransition(e.body),super.accept(e)}}},"./node_modules/sip.js/lib/core/user-agents/publish-user-agent-client.js":
/*!*******************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agents/publish-user-agent-client.js ***!
      \*******************************************************************************/
/*! exports provided: PublishUserAgentClient */
function(e,t,n){"use strict";n.r(t),n.d(t,"PublishUserAgentClient",(function(){return s}));var r=n(
/*! ../transactions/non-invite-client-transaction.js */
"./node_modules/sip.js/lib/core/transactions/non-invite-client-transaction.js"),o=n(
/*! ./user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/user-agent-client.js");class s extends o.UserAgentClient{constructor(e,t,n){super(r.NonInviteClientTransaction,e,t,n)}}},"./node_modules/sip.js/lib/core/user-agents/re-invite-user-agent-client.js":
/*!*********************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agents/re-invite-user-agent-client.js ***!
      \*********************************************************************************/
/*! exports provided: ReInviteUserAgentClient */
function(e,t,n){"use strict";n.r(t),n.d(t,"ReInviteUserAgentClient",(function(){return i}));var r=n(
/*! ../messages/methods/constants.js */
"./node_modules/sip.js/lib/core/messages/methods/constants.js"),o=n(
/*! ../transactions/invite-client-transaction.js */
"./node_modules/sip.js/lib/core/transactions/invite-client-transaction.js"),s=n(
/*! ./user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/user-agent-client.js");class i extends s.UserAgentClient{constructor(e,t,n){const s=e.createOutgoingRequestMessage(r.C.INVITE,n);super(o.InviteClientTransaction,e.userAgentCore,s,t),this.delegate=t,e.signalingStateTransition(s),e.reinviteUserAgentClient=this,this.dialog=e}receiveResponse(e){if(!this.authenticationGuard(e,this.dialog))return;const t=e.statusCode?e.statusCode.toString():"";if(!t)throw new Error("Response status code undefined.");switch(!0){case/^100$/.test(t):this.delegate&&this.delegate.onTrying&&this.delegate.onTrying({message:e});break;case/^1[0-9]{2}$/.test(t):this.delegate&&this.delegate.onProgress&&this.delegate.onProgress({message:e,session:this.dialog,prack:e=>{throw new Error("Unimplemented.")}});break;case/^2[0-9]{2}$/.test(t):this.dialog.signalingStateTransition(e),this.delegate&&this.delegate.onAccept&&this.delegate.onAccept({message:e,session:this.dialog,ack:e=>this.dialog.ack(e)});break;case/^3[0-9]{2}$/.test(t):this.dialog.signalingStateRollback(),this.dialog.reinviteUserAgentClient=void 0,this.delegate&&this.delegate.onRedirect&&this.delegate.onRedirect({message:e});break;case/^[4-6][0-9]{2}$/.test(t):this.dialog.signalingStateRollback(),this.dialog.reinviteUserAgentClient=void 0,this.delegate&&this.delegate.onReject&&this.delegate.onReject({message:e});break;default:throw new Error(`Invalid status code ${t}`)}}}},"./node_modules/sip.js/lib/core/user-agents/re-invite-user-agent-server.js":
/*!*********************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agents/re-invite-user-agent-server.js ***!
      \*********************************************************************************/
/*! exports provided: ReInviteUserAgentServer */
function(e,t,n){"use strict";n.r(t),n.d(t,"ReInviteUserAgentServer",(function(){return s}));var r=n(
/*! ../transactions/invite-server-transaction.js */
"./node_modules/sip.js/lib/core/transactions/invite-server-transaction.js"),o=n(
/*! ./user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/user-agent-server.js");class s extends o.UserAgentServer{constructor(e,t,n){super(r.InviteServerTransaction,e.userAgentCore,t,n),e.reinviteUserAgentServer=this,this.dialog=e}accept(e={statusCode:200}){e.extraHeaders=e.extraHeaders||[],e.extraHeaders=e.extraHeaders.concat(this.dialog.routeSet.map((e=>`Record-Route: ${e}`)));const t=super.accept(e),n=this.dialog,r=Object.assign(Object.assign({},t),{session:n});return e.body&&this.dialog.signalingStateTransition(e.body),this.dialog.reConfirm(),r}progress(e={statusCode:180}){const t=super.progress(e),n=this.dialog,r=Object.assign(Object.assign({},t),{session:n});return e.body&&this.dialog.signalingStateTransition(e.body),r}redirect(e,t={statusCode:302}){throw this.dialog.signalingStateRollback(),this.dialog.reinviteUserAgentServer=void 0,new Error("Unimplemented.")}reject(e={statusCode:488}){return this.dialog.signalingStateRollback(),this.dialog.reinviteUserAgentServer=void 0,super.reject(e)}}},"./node_modules/sip.js/lib/core/user-agents/re-subscribe-user-agent-client.js":
/*!************************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agents/re-subscribe-user-agent-client.js ***!
      \************************************************************************************/
/*! exports provided: ReSubscribeUserAgentClient */
function(e,t,n){"use strict";n.r(t),n.d(t,"ReSubscribeUserAgentClient",(function(){return i}));var r=n(
/*! ../messages/methods/constants.js */
"./node_modules/sip.js/lib/core/messages/methods/constants.js"),o=n(
/*! ../transactions/non-invite-client-transaction.js */
"./node_modules/sip.js/lib/core/transactions/non-invite-client-transaction.js"),s=n(
/*! ./user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/user-agent-client.js");class i extends s.UserAgentClient{constructor(e,t,n){const s=e.createOutgoingRequestMessage(r.C.SUBSCRIBE,n);super(o.NonInviteClientTransaction,e.userAgentCore,s,t),this.dialog=e}waitNotifyStop(){}receiveResponse(e){if(e.statusCode&&e.statusCode>=200&&e.statusCode<300){const t=e.getHeader("Expires");if(t){const e=Number(t);this.dialog.subscriptionExpires>e&&(this.dialog.subscriptionExpires=e)}else this.logger.warn("Expires header missing in a 200-class response to SUBSCRIBE")}e.statusCode&&e.statusCode>=400&&e.statusCode<700&&[404,405,410,416,480,481,482,483,484,485,489,501,604].includes(e.statusCode)&&this.dialog.terminate(),super.receiveResponse(e)}}},"./node_modules/sip.js/lib/core/user-agents/re-subscribe-user-agent-server.js":
/*!************************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agents/re-subscribe-user-agent-server.js ***!
      \************************************************************************************/
/*! exports provided: ReSubscribeUserAgentServer */
function(e,t,n){"use strict";n.r(t),n.d(t,"ReSubscribeUserAgentServer",(function(){return s}));var r=n(
/*! ../transactions/non-invite-server-transaction.js */
"./node_modules/sip.js/lib/core/transactions/non-invite-server-transaction.js"),o=n(
/*! ./user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/user-agent-server.js");class s extends o.UserAgentServer{constructor(e,t,n){super(r.NonInviteServerTransaction,e.userAgentCore,t,n)}}},"./node_modules/sip.js/lib/core/user-agents/refer-user-agent-client.js":
/*!*****************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agents/refer-user-agent-client.js ***!
      \*****************************************************************************/
/*! exports provided: ReferUserAgentClient */
function(e,t,n){"use strict";n.r(t),n.d(t,"ReferUserAgentClient",(function(){return i}));var r=n(
/*! ../messages/methods/constants.js */
"./node_modules/sip.js/lib/core/messages/methods/constants.js"),o=n(
/*! ../transactions/non-invite-client-transaction.js */
"./node_modules/sip.js/lib/core/transactions/non-invite-client-transaction.js"),s=n(
/*! ./user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/user-agent-client.js");class i extends s.UserAgentClient{constructor(e,t,n){const s=e.createOutgoingRequestMessage(r.C.REFER,n);super(o.NonInviteClientTransaction,e.userAgentCore,s,t)}}},"./node_modules/sip.js/lib/core/user-agents/refer-user-agent-server.js":
/*!*****************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agents/refer-user-agent-server.js ***!
      \*****************************************************************************/
/*! exports provided: ReferUserAgentServer */
function(e,t,n){"use strict";n.r(t),n.d(t,"ReferUserAgentServer",(function(){return s}));var r=n(
/*! ../transactions/non-invite-server-transaction.js */
"./node_modules/sip.js/lib/core/transactions/non-invite-server-transaction.js"),o=n(
/*! ./user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/user-agent-server.js");class s extends o.UserAgentServer{constructor(e,t,n){const o=void 0!==e.userAgentCore?e.userAgentCore:e;super(r.NonInviteServerTransaction,o,t,n)}}},"./node_modules/sip.js/lib/core/user-agents/register-user-agent-client.js":
/*!********************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agents/register-user-agent-client.js ***!
      \********************************************************************************/
/*! exports provided: RegisterUserAgentClient */
function(e,t,n){"use strict";n.r(t),n.d(t,"RegisterUserAgentClient",(function(){return s}));var r=n(
/*! ../transactions/non-invite-client-transaction.js */
"./node_modules/sip.js/lib/core/transactions/non-invite-client-transaction.js"),o=n(
/*! ./user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/user-agent-client.js");class s extends o.UserAgentClient{constructor(e,t,n){super(r.NonInviteClientTransaction,e,t,n)}}},"./node_modules/sip.js/lib/core/user-agents/register-user-agent-server.js":
/*!********************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agents/register-user-agent-server.js ***!
      \********************************************************************************/
/*! exports provided: RegisterUserAgentServer */
function(e,t,n){"use strict";n.r(t),n.d(t,"RegisterUserAgentServer",(function(){return s}));var r=n(
/*! ../transactions/non-invite-server-transaction.js */
"./node_modules/sip.js/lib/core/transactions/non-invite-server-transaction.js"),o=n(
/*! ./user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/user-agent-server.js");class s extends o.UserAgentServer{constructor(e,t,n){super(r.NonInviteServerTransaction,e,t,n),this.core=e}}},"./node_modules/sip.js/lib/core/user-agents/subscribe-user-agent-client.js":
/*!*********************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agents/subscribe-user-agent-client.js ***!
      \*********************************************************************************/
/*! exports provided: SubscribeUserAgentClient */
function(e,t,n){"use strict";n.r(t),n.d(t,"SubscribeUserAgentClient",(function(){return l}));var r=n(
/*! ../dialogs/subscription-dialog.js */
"./node_modules/sip.js/lib/core/dialogs/subscription-dialog.js"),o=n(
/*! ../subscription/subscription.js */
"./node_modules/sip.js/lib/core/subscription/subscription.js"),s=n(
/*! ../timers.js */
"./node_modules/sip.js/lib/core/timers.js"),i=n(
/*! ../transactions/non-invite-client-transaction.js */
"./node_modules/sip.js/lib/core/transactions/non-invite-client-transaction.js"),a=n(
/*! ./user-agent-client.js */
"./node_modules/sip.js/lib/core/user-agents/user-agent-client.js");class l extends a.UserAgentClient{constructor(e,t,n){const r=t.getHeader("Event");if(!r)throw new Error("Event undefined");const s=t.getHeader("Expires");if(!s)throw new Error("Expires undefined");super(i.NonInviteClientTransaction,e,t,n),this.delegate=n,this.subscriberId=t.callId+t.fromTag+r,this.subscriptionExpiresRequested=this.subscriptionExpires=Number(s),this.subscriptionEvent=r,this.subscriptionState=o.SubscriptionState.NotifyWait,this.waitNotifyStart()}dispose(){super.dispose()}onNotify(e){const t=e.message.parseHeader("Event").event;if(!t||t!==this.subscriptionEvent)return this.logger.warn("Failed to parse event."),void e.reject({statusCode:489});const n=e.message.parseHeader("Subscription-State");if(!n||!n.state)return this.logger.warn("Failed to parse subscription state."),void e.reject({statusCode:489});const s=n.state;switch(s){case"pending":case"active":case"terminated":break;default:return this.logger.warn(`Invalid subscription state ${s}`),void e.reject({statusCode:489})}if("terminated"!==s&&!e.message.parseHeader("contact"))return this.logger.warn("Failed to parse contact."),void e.reject({statusCode:489});if(this.dialog)throw new Error("Dialog already created. This implementation only supports install of single subscriptions.");switch(this.waitNotifyStop(),this.subscriptionExpires=n.expires?Math.min(this.subscriptionExpires,Math.max(n.expires,0)):this.subscriptionExpires,s){case"pending":this.subscriptionState=o.SubscriptionState.Pending;break;case"active":this.subscriptionState=o.SubscriptionState.Active;break;case"terminated":this.subscriptionState=o.SubscriptionState.Terminated;break;default:throw new Error(`Unrecognized state ${s}.`)}if(this.subscriptionState!==o.SubscriptionState.Terminated){const t=r.SubscriptionDialog.initialDialogStateForSubscription(this.message,e.message);this.dialog=new r.SubscriptionDialog(this.subscriptionEvent,this.subscriptionExpires,this.subscriptionState,this.core,t)}if(this.delegate&&this.delegate.onNotify){const t=e,n=this.dialog;this.delegate.onNotify({request:t,subscription:n})}else e.accept()}waitNotifyStart(){this.N||(this.core.subscribers.set(this.subscriberId,this),this.N=setTimeout((()=>this.timerN()),s.Timers.TIMER_N))}waitNotifyStop(){this.N&&(this.core.subscribers.delete(this.subscriberId),clearTimeout(this.N),this.N=void 0)}receiveResponse(e){if(this.authenticationGuard(e)){if(e.statusCode&&e.statusCode>=200&&e.statusCode<300){const t=e.getHeader("Expires");if(t){const e=Number(t);e>this.subscriptionExpiresRequested&&this.logger.warn("Expires header in a 200-class response to SUBSCRIBE with a higher value than the one in the request"),e<this.subscriptionExpires&&(this.subscriptionExpires=e)}else this.logger.warn("Expires header missing in a 200-class response to SUBSCRIBE");this.dialog&&this.dialog.subscriptionExpires>this.subscriptionExpires&&(this.dialog.subscriptionExpires=this.subscriptionExpires)}e.statusCode&&e.statusCode>=300&&e.statusCode<700&&this.waitNotifyStop(),super.receiveResponse(e)}}timerN(){this.logger.warn("Timer N expired for SUBSCRIBE user agent client. Timed out waiting for NOTIFY."),this.waitNotifyStop(),this.delegate&&this.delegate.onNotifyTimeout&&this.delegate.onNotifyTimeout()}}},"./node_modules/sip.js/lib/core/user-agents/subscribe-user-agent-server.js":
/*!*********************************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agents/subscribe-user-agent-server.js ***!
      \*********************************************************************************/
/*! exports provided: SubscribeUserAgentServer */
function(e,t,n){"use strict";n.r(t),n.d(t,"SubscribeUserAgentServer",(function(){return s}));var r=n(
/*! ../transactions/non-invite-server-transaction.js */
"./node_modules/sip.js/lib/core/transactions/non-invite-server-transaction.js"),o=n(
/*! ./user-agent-server.js */
"./node_modules/sip.js/lib/core/user-agents/user-agent-server.js");class s extends o.UserAgentServer{constructor(e,t,n){super(r.NonInviteServerTransaction,e,t,n),this.core=e}}},"./node_modules/sip.js/lib/core/user-agents/user-agent-client.js":
/*!***********************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agents/user-agent-client.js ***!
      \***********************************************************************/
/*! exports provided: UserAgentClient */
function(e,t,n){"use strict";n.r(t),n.d(t,"UserAgentClient",(function(){return a}));var r=n(
/*! ../messages/methods/constants.js */
"./node_modules/sip.js/lib/core/messages/methods/constants.js"),o=n(
/*! ../messages/incoming-response-message.js */
"./node_modules/sip.js/lib/core/messages/incoming-response-message.js"),s=n(
/*! ../transactions/non-invite-client-transaction.js */
"./node_modules/sip.js/lib/core/transactions/non-invite-client-transaction.js"),i=n(
/*! ../transactions/transaction-state.js */
"./node_modules/sip.js/lib/core/transactions/transaction-state.js");class a{constructor(e,t,n,r){this.transactionConstructor=e,this.core=t,this.message=n,this.delegate=r,this.challenged=!1,this.stale=!1,this.logger=this.loggerFactory.getLogger("sip.user-agent-client"),this.init()}dispose(){this.transaction.dispose()}get loggerFactory(){return this.core.loggerFactory}get transaction(){if(!this._transaction)throw new Error("Transaction undefined.");return this._transaction}cancel(e,t={}){if(!this.transaction)throw new Error("Transaction undefined.");if(!this.message.to)throw new Error("To undefined.");if(!this.message.from)throw new Error("From undefined.");const n=this.core.makeOutgoingRequestMessage(r.C.CANCEL,this.message.ruri,this.message.from.uri,this.message.to.uri,{toTag:this.message.toTag,fromTag:this.message.fromTag,callId:this.message.callId,cseq:this.message.cseq},t.extraHeaders);return n.branch=this.message.branch,this.message.headers.Route&&(n.headers.Route=this.message.headers.Route),e&&n.setHeader("Reason",e),this.transaction.state===i.TransactionState.Proceeding?new a(s.NonInviteClientTransaction,this.core,n):this.transaction.addStateChangeListener((()=>{this.transaction&&this.transaction.state===i.TransactionState.Proceeding&&new a(s.NonInviteClientTransaction,this.core,n)}),{once:!0}),n}authenticationGuard(e,t){const n=e.statusCode;if(!n)throw new Error("Response status code undefined.");if(401!==n&&407!==n)return!0;let r,o;if(401===n?(r=e.parseHeader("www-authenticate"),o="authorization"):(r=e.parseHeader("proxy-authenticate"),o="proxy-authorization"),!r)return this.logger.warn(n+" with wrong or missing challenge, cannot authenticate"),!0;if(this.challenged&&(this.stale||!0!==r.stale))return this.logger.warn(n+" apparently in authentication loop, cannot authenticate"),!0;if(!this.credentials&&(this.credentials=this.core.configuration.authenticationFactory(),!this.credentials))return this.logger.warn("Unable to obtain credentials, cannot authenticate"),!0;if(!this.credentials.authenticate(this.message,r))return!0;this.challenged=!0,r.stale&&(this.stale=!0);let s=this.message.cseq+=1;return t&&t.localSequenceNumber&&(t.incrementLocalSequenceNumber(),s=this.message.cseq=t.localSequenceNumber),this.message.setHeader("cseq",s+" "+this.message.method),this.message.setHeader(o,this.credentials.toString()),this.init(),!1}onRequestTimeout(){this.logger.warn("User agent client request timed out. Generating internal 408 Request Timeout.");const e=new o.IncomingResponseMessage;e.statusCode=408,e.reasonPhrase="Request Timeout",this.receiveResponse(e)}onTransportError(e){this.logger.error(e.message),this.logger.error("User agent client request transport error. Generating internal 503 Service Unavailable.");const t=new o.IncomingResponseMessage;t.statusCode=503,t.reasonPhrase="Service Unavailable",this.receiveResponse(t)}receiveResponse(e){if(!this.authenticationGuard(e))return;const t=e.statusCode?e.statusCode.toString():"";if(!t)throw new Error("Response status code undefined.");switch(!0){case/^100$/.test(t):this.delegate&&this.delegate.onTrying&&this.delegate.onTrying({message:e});break;case/^1[0-9]{2}$/.test(t):this.delegate&&this.delegate.onProgress&&this.delegate.onProgress({message:e});break;case/^2[0-9]{2}$/.test(t):this.delegate&&this.delegate.onAccept&&this.delegate.onAccept({message:e});break;case/^3[0-9]{2}$/.test(t):this.delegate&&this.delegate.onRedirect&&this.delegate.onRedirect({message:e});break;case/^[4-6][0-9]{2}$/.test(t):this.delegate&&this.delegate.onReject&&this.delegate.onReject({message:e});break;default:throw new Error(`Invalid status code ${t}`)}}init(){const e={loggerFactory:this.loggerFactory,onRequestTimeout:()=>this.onRequestTimeout(),onStateChange:e=>{e===i.TransactionState.Terminated&&(this.core.userAgentClients.delete(n),t===this._transaction&&this.dispose())},onTransportError:e=>this.onTransportError(e),receiveResponse:e=>this.receiveResponse(e)},t=new this.transactionConstructor(this.message,this.core.transport,e);this._transaction=t;const n=t.id+t.request.method;this.core.userAgentClients.set(n,this)}}},"./node_modules/sip.js/lib/core/user-agents/user-agent-server.js":
/*!***********************************************************************!*\
      !*** ./node_modules/sip.js/lib/core/user-agents/user-agent-server.js ***!
      \***********************************************************************/
/*! exports provided: UserAgentServer */
function(e,t,n){"use strict";n.r(t),n.d(t,"UserAgentServer",(function(){return c}));var r=n(
/*! ../exceptions/transaction-state-error.js */
"./node_modules/sip.js/lib/core/exceptions/transaction-state-error.js"),o=n(
/*! ../messages/outgoing-response.js */
"./node_modules/sip.js/lib/core/messages/outgoing-response.js"),s=n(
/*! ../messages/utils.js */
"./node_modules/sip.js/lib/core/messages/utils.js"),i=n(
/*! ../transactions/invite-server-transaction.js */
"./node_modules/sip.js/lib/core/transactions/invite-server-transaction.js"),a=n(
/*! ../transactions/non-invite-server-transaction.js */
"./node_modules/sip.js/lib/core/transactions/non-invite-server-transaction.js"),l=n(
/*! ../transactions/transaction-state.js */
"./node_modules/sip.js/lib/core/transactions/transaction-state.js");class c{constructor(e,t,n,r){this.transactionConstructor=e,this.core=t,this.message=n,this.delegate=r,this.logger=this.loggerFactory.getLogger("sip.user-agent-server"),this.toTag=n.toTag?n.toTag:Object(s.newTag)(),this.init()}dispose(){this.transaction.dispose()}get loggerFactory(){return this.core.loggerFactory}get transaction(){if(!this._transaction)throw new Error("Transaction undefined.");return this._transaction}accept(e={statusCode:200}){if(!this.acceptable)throw new r.TransactionStateError(`${this.message.method} not acceptable in state ${this.transaction.state}.`);const t=e.statusCode;if(t<200||t>299)throw new TypeError(`Invalid statusCode: ${t}`);return this.reply(e)}progress(e={statusCode:180}){if(!this.progressable)throw new r.TransactionStateError(`${this.message.method} not progressable in state ${this.transaction.state}.`);const t=e.statusCode;if(t<101||t>199)throw new TypeError(`Invalid statusCode: ${t}`);return this.reply(e)}redirect(e,t={statusCode:302}){if(!this.redirectable)throw new r.TransactionStateError(`${this.message.method} not redirectable in state ${this.transaction.state}.`);const n=t.statusCode;if(n<300||n>399)throw new TypeError(`Invalid statusCode: ${n}`);const o=new Array;return e.forEach((e=>o.push(`Contact: ${e.toString()}`))),t.extraHeaders=(t.extraHeaders||[]).concat(o),this.reply(t)}reject(e={statusCode:480}){if(!this.rejectable)throw new r.TransactionStateError(`${this.message.method} not rejectable in state ${this.transaction.state}.`);const t=e.statusCode;if(t<400||t>699)throw new TypeError(`Invalid statusCode: ${t}`);return this.reply(e)}trying(e){if(!this.tryingable)throw new r.TransactionStateError(`${this.message.method} not tryingable in state ${this.transaction.state}.`);return this.reply({statusCode:100})}receiveCancel(e){this.delegate&&this.delegate.onCancel&&this.delegate.onCancel(e)}get acceptable(){if(this.transaction instanceof i.InviteServerTransaction)return this.transaction.state===l.TransactionState.Proceeding||this.transaction.state===l.TransactionState.Accepted;if(this.transaction instanceof a.NonInviteServerTransaction)return this.transaction.state===l.TransactionState.Trying||this.transaction.state===l.TransactionState.Proceeding;throw new Error("Unknown transaction type.")}get progressable(){if(this.transaction instanceof i.InviteServerTransaction)return this.transaction.state===l.TransactionState.Proceeding;if(this.transaction instanceof a.NonInviteServerTransaction)return!1;throw new Error("Unknown transaction type.")}get redirectable(){if(this.transaction instanceof i.InviteServerTransaction)return this.transaction.state===l.TransactionState.Proceeding;if(this.transaction instanceof a.NonInviteServerTransaction)return this.transaction.state===l.TransactionState.Trying||this.transaction.state===l.TransactionState.Proceeding;throw new Error("Unknown transaction type.")}get rejectable(){if(this.transaction instanceof i.InviteServerTransaction)return this.transaction.state===l.TransactionState.Proceeding;if(this.transaction instanceof a.NonInviteServerTransaction)return this.transaction.state===l.TransactionState.Trying||this.transaction.state===l.TransactionState.Proceeding;throw new Error("Unknown transaction type.")}get tryingable(){if(this.transaction instanceof i.InviteServerTransaction)return this.transaction.state===l.TransactionState.Proceeding;if(this.transaction instanceof a.NonInviteServerTransaction)return this.transaction.state===l.TransactionState.Trying;throw new Error("Unknown transaction type.")}reply(e){e.toTag||100===e.statusCode||(e.toTag=this.toTag),e.userAgent=e.userAgent||this.core.configuration.userAgentHeaderFieldValue,e.supported=e.supported||this.core.configuration.supportedOptionTagsResponse;const t=Object(o.constructOutgoingResponse)(this.message,e);return this.transaction.receiveResponse(e.statusCode,t.message),t}init(){const e={loggerFactory:this.loggerFactory,onStateChange:e=>{e===l.TransactionState.Terminated&&(this.core.userAgentServers.delete(n),this.dispose())},onTransportError:e=>{this.logger.error(e.message),this.delegate&&this.delegate.onTransportError?this.delegate.onTransportError(e):this.logger.error("User agent server response transport error.")}},t=new this.transactionConstructor(this.message,this.core.transport,e);this._transaction=t;const n=t.id;this.core.userAgentServers.set(t.id,this)}}},"./node_modules/sip.js/lib/grammar/grammar.js":
/*!****************************************************!*\
      !*** ./node_modules/sip.js/lib/grammar/grammar.js ***!
      \****************************************************/
/*! exports provided: Grammar */
function(e,t,n){"use strict";n.r(t),n.d(t,"Grammar",(function(){return r}));var r,o=n(
/*! ./pegjs/dist/grammar.js */
"./node_modules/sip.js/lib/grammar/pegjs/dist/grammar.js");!function(e){e.parse=function(e,t){const n={startRule:t};try{o.parse(e,n)}catch(e){n.data=-1}return n.data},e.nameAddrHeaderParse=function(t){const n=e.parse(t,"Name_Addr_Header");return-1!==n?n:void 0},e.URIParse=function(t){const n=e.parse(t,"SIP_URI");return-1!==n?n:void 0}}(r=r||(r={}))},"./node_modules/sip.js/lib/grammar/index.js":
/*!**************************************************!*\
      !*** ./node_modules/sip.js/lib/grammar/index.js ***!
      \**************************************************/
/*! exports provided: Grammar, NameAddrHeader, Parameters, URI, equivalentURI */
function(e,t,n){"use strict";n.r(t);var r=n(
/*! ./grammar.js */
"./node_modules/sip.js/lib/grammar/grammar.js");n.d(t,"Grammar",(function(){return r.Grammar}));var o=n(
/*! ./name-addr-header.js */
"./node_modules/sip.js/lib/grammar/name-addr-header.js");n.d(t,"NameAddrHeader",(function(){return o.NameAddrHeader}));var s=n(
/*! ./parameters.js */
"./node_modules/sip.js/lib/grammar/parameters.js");n.d(t,"Parameters",(function(){return s.Parameters}));var i=n(
/*! ./uri.js */
"./node_modules/sip.js/lib/grammar/uri.js");n.d(t,"URI",(function(){return i.URI})),n.d(t,"equivalentURI",(function(){return i.equivalentURI}))},"./node_modules/sip.js/lib/grammar/name-addr-header.js":
/*!*************************************************************!*\
      !*** ./node_modules/sip.js/lib/grammar/name-addr-header.js ***!
      \*************************************************************/
/*! exports provided: NameAddrHeader */
function(e,t,n){"use strict";n.r(t),n.d(t,"NameAddrHeader",(function(){return o}));var r=n(
/*! ./parameters.js */
"./node_modules/sip.js/lib/grammar/parameters.js");class o extends r.Parameters{constructor(e,t,n){super(n),this.uri=e,this._displayName=t}get friendlyName(){return this.displayName||this.uri.aor}get displayName(){return this._displayName}set displayName(e){this._displayName=e}clone(){return new o(this.uri.clone(),this._displayName,JSON.parse(JSON.stringify(this.parameters)))}toString(){let e=this.displayName||"0"===this.displayName?'"'+this.displayName+'" ':"";e+="<"+this.uri.toString()+">";for(const t in this.parameters)this.parameters.hasOwnProperty(t)&&(e+=";"+t,null!==this.parameters[t]&&(e+="="+this.parameters[t]));return e}}},"./node_modules/sip.js/lib/grammar/parameters.js":
/*!*******************************************************!*\
      !*** ./node_modules/sip.js/lib/grammar/parameters.js ***!
      \*******************************************************/
/*! exports provided: Parameters */
function(e,t,n){"use strict";n.r(t),n.d(t,"Parameters",(function(){return r}));class r{constructor(e){this.parameters={};for(const t in e)e.hasOwnProperty(t)&&this.setParam(t,e[t])}setParam(e,t){e&&(this.parameters[e.toLowerCase()]=null==t?null:t.toString())}getParam(e){if(e)return this.parameters[e.toLowerCase()]}hasParam(e){return!(!e||void 0===this.parameters[e.toLowerCase()])}deleteParam(e){if(e=e.toLowerCase(),this.hasParam(e)){const t=this.parameters[e];return delete this.parameters[e],t}}clearParams(){this.parameters={}}}},"./node_modules/sip.js/lib/grammar/pegjs/dist/grammar.js":
/*!***************************************************************!*\
      !*** ./node_modules/sip.js/lib/grammar/pegjs/dist/grammar.js ***!
      \***************************************************************/
/*! exports provided: SyntaxError, parse */
function(e,t,n){"use strict";n.r(t),n.d(t,"SyntaxError",(function(){return i})),n.d(t,"parse",(function(){return a}));var r=n(
/*! ../../name-addr-header.js */
"./node_modules/sip.js/lib/grammar/name-addr-header.js"),o=n(
/*! ../../uri.js */
"./node_modules/sip.js/lib/grammar/uri.js");function s(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,e+(n+=n.repeat(t)).slice(0,t))}class i extends Error{constructor(e,t,n,r){super(),this.message=e,this.expected=t,this.found=n,this.location=r,this.name="SyntaxError","function"==typeof Object.setPrototypeOf?Object.setPrototypeOf(this,i.prototype):this.__proto__=i.prototype,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,i)}static buildMessage(e,t){function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function r(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(e=>"\\x0"+n(e))).replace(/[\x10-\x1F\x7F-\x9F]/g,(e=>"\\x"+n(e)))}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(e=>"\\x0"+n(e))).replace(/[\x10-\x1F\x7F-\x9F]/g,(e=>"\\x"+n(e)))}function s(e){switch(e.type){case"literal":return'"'+r(e.text)+'"';case"class":const t=e.parts.map((e=>Array.isArray(e)?o(e[0])+"-"+o(e[1]):o(e)));return"["+(e.inverted?"^":"")+t+"]";case"any":return"any character";case"end":return"end of input";case"other":return e.description}}return"Expected "+function(e){const t=e.map(s);let n,r;if(t.sort(),t.length>0){for(n=1,r=1;n<t.length;n++)t[n-1]!==t[n]&&(t[r]=t[n],r++);t.length=r}switch(t.length){case 1:return t[0];case 2:return t[0]+" or "+t[1];default:return t.slice(0,-1).join(", ")+", or "+t[t.length-1]}}(e)+" but "+((i=t)?'"'+r(i)+'"':"end of input")+" found.";var i}format(e){let t="Error: "+this.message;if(this.location){let n,r=null;for(n=0;n<e.length;n++)if(e[n].source===this.location.source){r=e[n].text.split(/\r\n|\n|\r/g);break}let o=this.location.start,i=this.location.source+":"+o.line+":"+o.column;if(r){let e=this.location.end,n=s("",o.line.toString().length," "),a=r[o.line-1],l=o.line===e.line?e.column:a.length+1;t+="\n --\x3e "+i+"\n"+n+" |\n"+o.line+" | "+a+"\n"+n+" | "+s("",o.column-1," ")+s("",l-o.column,"^")}else t+="\n at "+i}return t}}const a=function(e,t){const n={},s=(t=void 0!==t?t:{}).grammarSource,a={Contact:119,Name_Addr_Header:156,Record_Route:176,Request_Response:81,SIP_URI:45,Subscription_State:186,Supported:191,Require:182,Via:194,absoluteURI:84,Call_ID:118,Content_Disposition:130,Content_Length:135,Content_Type:136,CSeq:146,displayName:122,Event:149,From:151,host:52,Max_Forwards:154,Min_SE:213,Proxy_Authenticate:157,quoted_string:40,Refer_To:178,Replaces:179,Session_Expires:210,stun_URI:217,To:192,turn_URI:223,uuid:226,WWW_Authenticate:209,challenge:158,sipfrag:230,Referred_By:231};let l=119;const c=["\r\n",w("\r\n",!1),/^[0-9]/,S([["0","9"]],!1,!1),/^[a-zA-Z]/,S([["a","z"],["A","Z"]],!1,!1),/^[0-9a-fA-F]/,S([["0","9"],["a","f"],["A","F"]],!1,!1),/^[\0-\xFF]/,S([["\0","ÿ"]],!1,!1),/^["]/,S(['"'],!1,!1)," ",w(" ",!1),"\t",w("\t",!1),/^[a-zA-Z0-9]/,S([["a","z"],["A","Z"],["0","9"]],!1,!1),";",w(";",!1),"/",w("/",!1),"?",w("?",!1),":",w(":",!1),"@",w("@",!1),"&",w("&",!1),"=",w("=",!1),"+",w("+",!1),"$",w("$",!1),",",w(",",!1),"-",w("-",!1),"_",w("_",!1),".",w(".",!1),"!",w("!",!1),"~",w("~",!1),"*",w("*",!1),"'",w("'",!1),"(",w("(",!1),")",w(")",!1),"%",w("%",!1),function(){return" "},function(){return":"},/^[!-~]/,S([["!","~"]],!1,!1),/^[\x80-\uFFFF]/,S([["","￿"]],!1,!1),/^[\x80-\xBF]/,S([["","¿"]],!1,!1),/^[a-f]/,S([["a","f"]],!1,!1),"`",w("`",!1),"<",w("<",!1),">",w(">",!1),"\\",w("\\",!1),"[",w("[",!1),"]",w("]",!1),"{",w("{",!1),"}",w("}",!1),function(){return"*"},function(){return"/"},function(){return"="},function(){return"("},function(){return")"},function(){return">"},function(){return"<"},function(){return","},function(){return";"},function(){return":"},function(){return'"'},/^[!-']/,S([["!","'"]],!1,!1),/^[*-[]/,S([["*","["]],!1,!1),/^[\]-~]/,S([["]","~"]],!1,!1),function(e){return e},/^[#-[]/,S([["#","["]],!1,!1),/^[\0-\t]/,S([["\0","\t"]],!1,!1),/^[\v-\f]/,S([["\v","\f"]],!1,!1),/^[\x0E-\x7F]/,S([["",""]],!1,!1),function(){(t=t||{data:{}}).data.uri=new o.URI(t.data.scheme,t.data.user,t.data.host,t.data.port),delete t.data.scheme,delete t.data.user,delete t.data.host,delete t.data.host_type,delete t.data.port},function(){(t=t||{data:{}}).data.uri=new o.URI(t.data.scheme,t.data.user,t.data.host,t.data.port,t.data.uri_params,t.data.uri_headers),delete t.data.scheme,delete t.data.user,delete t.data.host,delete t.data.host_type,delete t.data.port,delete t.data.uri_params,"SIP_URI"===t.startRule&&(t.data=t.data.uri)},"sips",w("sips",!0),"sip",w("sip",!0),function(e){(t=t||{data:{}}).data.scheme=e},function(){(t=t||{data:{}}).data.user=decodeURIComponent(b().slice(0,-1))},function(){(t=t||{data:{}}).data.password=b()},function(){return(t=t||{data:{}}).data.host=b(),t.data.host},function(){return(t=t||{data:{}}).data.host_type="domain",b()},/^[a-zA-Z0-9_\-]/,S([["a","z"],["A","Z"],["0","9"],"_","-"],!1,!1),/^[a-zA-Z0-9\-]/,S([["a","z"],["A","Z"],["0","9"],"-"],!1,!1),function(){return(t=t||{data:{}}).data.host_type="IPv6",b()},"::",w("::",!1),function(){return(t=t||{data:{}}).data.host_type="IPv6",b()},function(){return(t=t||{data:{}}).data.host_type="IPv4",b()},"25",w("25",!1),/^[0-5]/,S([["0","5"]],!1,!1),"2",w("2",!1),/^[0-4]/,S([["0","4"]],!1,!1),"1",w("1",!1),/^[1-9]/,S([["1","9"]],!1,!1),function(e){return t=t||{data:{}},e=parseInt(e.join("")),t.data.port=e,e},"transport=",w("transport=",!0),"udp",w("udp",!0),"tcp",w("tcp",!0),"sctp",w("sctp",!0),"tls",w("tls",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.transport=e.toLowerCase()},"user=",w("user=",!0),"phone",w("phone",!0),"ip",w("ip",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.user=e.toLowerCase()},"method=",w("method=",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.method=e},"ttl=",w("ttl=",!0),function(e){(t=t||{data:{}}).data.params||(t.data.params={}),t.data.params.ttl=e},"maddr=",w("maddr=",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.maddr=e},"lr",w("lr",!0),function(){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.lr=void 0},function(e,n){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),n=null===n?void 0:n[1],t.data.uri_params[e.toLowerCase()]=n},function(e,n){e=e.join("").toLowerCase(),n=n.join(""),(t=t||{data:{}}).data.uri_headers||(t.data.uri_headers={}),t.data.uri_headers[e]?t.data.uri_headers[e].push(n):t.data.uri_headers[e]=[n]},function(){"Refer_To"===(t=t||{data:{}}).startRule&&(t.data.uri=new o.URI(t.data.scheme,t.data.user,t.data.host,t.data.port,t.data.uri_params,t.data.uri_headers),delete t.data.scheme,delete t.data.user,delete t.data.host,delete t.data.host_type,delete t.data.port,delete t.data.uri_params)},"//",w("//",!1),function(){(t=t||{data:{}}).data.scheme=b()},w("SIP",!0),function(){(t=t||{data:{}}).data.sip_version=b()},"INVITE",w("INVITE",!1),"ACK",w("ACK",!1),"VXACH",w("VXACH",!1),"OPTIONS",w("OPTIONS",!1),"BYE",w("BYE",!1),"CANCEL",w("CANCEL",!1),"REGISTER",w("REGISTER",!1),"SUBSCRIBE",w("SUBSCRIBE",!1),"NOTIFY",w("NOTIFY",!1),"REFER",w("REFER",!1),"PUBLISH",w("PUBLISH",!1),function(){return(t=t||{data:{}}).data.method=b(),t.data.method},function(e){(t=t||{data:{}}).data.status_code=parseInt(e.join(""))},function(){(t=t||{data:{}}).data.reason_phrase=b()},function(){(t=t||{data:{}}).data=b()},function(){var e,n;for(n=(t=t||{data:{}}).data.multi_header.length,e=0;e<n;e++)if(null===t.data.multi_header[e].parsed){t.data=null;break}null!==t.data?t.data=t.data.multi_header:t.data=-1},function(){var e;(t=t||{data:{}}).data.multi_header||(t.data.multi_header=[]);try{e=new r.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),delete t.data.uri,delete t.data.displayName,delete t.data.params}catch(t){e=null}t.data.multi_header.push({position:d,offset:y().start.offset,parsed:e})},function(e){'"'===(e=b().trim())[0]&&(e=e.substring(1,e.length-1)),(t=t||{data:{}}).data.displayName=e},"q",w("q",!0),function(e){(t=t||{data:{}}).data.params||(t.data.params={}),t.data.params.q=e},"expires",w("expires",!0),function(e){(t=t||{data:{}}).data.params||(t.data.params={}),t.data.params.expires=e},function(e){return parseInt(e.join(""))},"0",w("0",!1),function(){return parseFloat(b())},function(e,n){(t=t||{data:{}}).data.params||(t.data.params={}),n=null===n?void 0:n[1],t.data.params[e.toLowerCase()]=n},"render",w("render",!0),"session",w("session",!0),"icon",w("icon",!0),"alert",w("alert",!0),function(){"Content_Disposition"===(t=t||{data:{}}).startRule&&(t.data.type=b().toLowerCase())},"handling",w("handling",!0),"optional",w("optional",!0),"required",w("required",!0),function(e){(t=t||{data:{}}).data=parseInt(e.join(""))},function(){(t=t||{data:{}}).data=b()},"text",w("text",!0),"image",w("image",!0),"audio",w("audio",!0),"video",w("video",!0),"application",w("application",!0),"message",w("message",!0),"multipart",w("multipart",!0),"x-",w("x-",!0),function(e){(t=t||{data:{}}).data.value=parseInt(e.join(""))},function(e){(t=t||{data:{}}).data=e},function(e){(t=t||{data:{}}).data.event=e.toLowerCase()},function(){var e=(t=t||{data:{}}).data.tag;t.data=new r.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),e&&t.data.setParam("tag",e)},"tag",w("tag",!0),function(e){(t=t||{data:{}}).data.tag=e},function(e){(t=t||{data:{}}).data=parseInt(e.join(""))},function(e){(t=t||{data:{}}).data=e},function(){(t=t||{data:{}}).data=new r.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params)},"digest",w("Digest",!0),"realm",w("realm",!0),function(e){(t=t||{data:{}}).data.realm=e},"domain",w("domain",!0),"nonce",w("nonce",!0),function(e){(t=t||{data:{}}).data.nonce=e},"opaque",w("opaque",!0),function(e){(t=t||{data:{}}).data.opaque=e},"stale",w("stale",!0),"true",w("true",!0),function(){(t=t||{data:{}}).data.stale=!0},"false",w("false",!0),function(){(t=t||{data:{}}).data.stale=!1},"algorithm",w("algorithm",!0),"md5",w("MD5",!0),"md5-sess",w("MD5-sess",!0),function(e){(t=t||{data:{}}).data.algorithm=e.toUpperCase()},"qop",w("qop",!0),"auth-int",w("auth-int",!0),"auth",w("auth",!0),function(e){(t=t||{data:{}}).data.qop||(t.data.qop=[]),t.data.qop.push(e.toLowerCase())},function(e){(t=t||{data:{}}).data.value=parseInt(e.join(""))},function(){var e,n;for(n=(t=t||{data:{}}).data.multi_header.length,e=0;e<n;e++)if(null===t.data.multi_header[e].parsed){t.data=null;break}null!==t.data?t.data=t.data.multi_header:t.data=-1},function(){var e;(t=t||{data:{}}).data.multi_header||(t.data.multi_header=[]);try{e=new r.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),delete t.data.uri,delete t.data.displayName,delete t.data.params}catch(t){e=null}t.data.multi_header.push({position:d,offset:y().start.offset,parsed:e})},function(){(t=t||{data:{}}).data=new r.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params)},function(){(t=t||{data:{}}).data.replaces_from_tag&&t.data.replaces_to_tag||(t.data=-1)},function(){(t=t||{data:{}}).data={call_id:t.data}},"from-tag",w("from-tag",!0),function(e){(t=t||{data:{}}).data.replaces_from_tag=e},"to-tag",w("to-tag",!0),function(e){(t=t||{data:{}}).data.replaces_to_tag=e},"early-only",w("early-only",!0),function(){(t=t||{data:{}}).data.early_only=!0},function(e,t){return t},function(e,t){return function(e,t){return[e].concat(t)}(e,t)},function(e){"Require"===(t=t||{data:{}}).startRule&&(t.data=e||[])},function(e){(t=t||{data:{}}).data.value=parseInt(e.join(""))},"active",w("active",!0),"pending",w("pending",!0),"terminated",w("terminated",!0),function(){(t=t||{data:{}}).data.state=b()},"reason",w("reason",!0),function(e){t=t||{data:{}},void 0!==e&&(t.data.reason=e)},function(e){t=t||{data:{}},void 0!==e&&(t.data.expires=e)},"retry_after",w("retry_after",!0),function(e){t=t||{data:{}},void 0!==e&&(t.data.retry_after=e)},"deactivated",w("deactivated",!0),"probation",w("probation",!0),"rejected",w("rejected",!0),"timeout",w("timeout",!0),"giveup",w("giveup",!0),"noresource",w("noresource",!0),"invariant",w("invariant",!0),function(e){"Supported"===(t=t||{data:{}}).startRule&&(t.data=e||[])},function(){var e=(t=t||{data:{}}).data.tag;t.data=new r.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),e&&t.data.setParam("tag",e)},"ttl",w("ttl",!0),function(e){(t=t||{data:{}}).data.ttl=e},"maddr",w("maddr",!0),function(e){(t=t||{data:{}}).data.maddr=e},"received",w("received",!0),function(e){(t=t||{data:{}}).data.received=e},"branch",w("branch",!0),function(e){(t=t||{data:{}}).data.branch=e},"rport",w("rport",!0),function(e){t=t||{data:{}},void 0!==e&&(t.data.rport=e.join(""))},function(e){(t=t||{data:{}}).data.protocol=e},w("UDP",!0),w("TCP",!0),w("TLS",!0),w("SCTP",!0),function(e){(t=t||{data:{}}).data.transport=e},function(){(t=t||{data:{}}).data.host=b()},function(e){(t=t||{data:{}}).data.port=parseInt(e.join(""))},function(e){return parseInt(e.join(""))},function(e){"Session_Expires"===(t=t||{data:{}}).startRule&&(t.data.deltaSeconds=e)},"refresher",w("refresher",!1),"uas",w("uas",!1),"uac",w("uac",!1),function(e){"Session_Expires"===(t=t||{data:{}}).startRule&&(t.data.refresher=e)},function(e){"Min_SE"===(t=t||{data:{}}).startRule&&(t.data=e)},"stuns",w("stuns",!0),"stun",w("stun",!0),function(e){(t=t||{data:{}}).data.scheme=e},function(e){(t=t||{data:{}}).data.host=e},"?transport=",w("?transport=",!1),"turns",w("turns",!0),"turn",w("turn",!0),function(e){(t=t||{data:{}}).data.transport=e},function(){(t=t||{data:{}}).data=b()},"Referred-By",w("Referred-By",!1),"b",w("b",!1),"cid",w("cid",!1)],u=[T('2 ""6 7!'),T('4"""5!7#'),T('4$""5!7%'),T('4&""5!7\''),T(";'.# &;("),T('4(""5!7)'),T('4*""5!7+'),T('2,""6,7-'),T('2.""6.7/'),T('40""5!71'),T('22""6273. &24""6475.} &26""6677.q &28""6879.e &2:""6:7;.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E'),T(";).# &;,"),T('2F""6F7G.} &2H""6H7I.q &2J""6J7K.e &2L""6L7M.Y &2N""6N7O.M &2P""6P7Q.A &2R""6R7S.5 &2T""6T7U.) &2V""6V7W'),T('%%2X""6X7Y/5#;#/,$;#/#$+#)(#\'#("\'#&\'#/"!&,)'),T('%%$;$0#*;$&/,#; /#$+")("\'#&\'#." &"/=#$;$/&#0#*;$&&&#/\'$8":Z" )("\'#&\'#'),T(';.." &"'),T("%$;'.# &;(0)*;'.# &;(&/?#28\"\"6879/0$;//'$8#:[# )(#'#(\"'#&'#"),T('%%$;2/&#0#*;2&&&#/g#$%$;.0#*;.&/,#;2/#$+")("\'#&\'#0=*%$;.0#*;.&/,#;2/#$+")("\'#&\'#&/#$+")("\'#&\'#/"!&,)'),T('4\\""5!7].# &;3'),T('4^""5!7_'),T('4`""5!7a'),T(';!.) &4b""5!7c'),T('%$;). &2F""6F7G. &2J""6J7K.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O/#0*;). &2F""6F7G. &2J""6J7K.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O&&&#/"!&,)'),T('%$;). &2F""6F7G.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O/#0*;). &2F""6F7G.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O&&&#/"!&,)'),T('2T""6T7U.ã &2V""6V7W.× &2f""6f7g.Ë &2h""6h7i.¿ &2:""6:7;.³ &2D""6D7E.§ &22""6273. &28""6879. &2j""6j7k. &;&.} &24""6475.q &2l""6l7m.e &2n""6n7o.Y &26""6677.M &2>""6>7?.A &2p""6p7q.5 &2r""6r7s.) &;\'.# &;('),T('%$;).ī &2F""6F7G.ğ &2J""6J7K.ē &2L""6L7M.ć &2X""6X7Y.û &2P""6P7Q.ï &2H""6H7I.ã &2@""6@7A.× &2d""6d7e.Ë &2R""6R7S.¿ &2N""6N7O.³ &2T""6T7U.§ &2V""6V7W. &2f""6f7g. &2h""6h7i. &28""6879.w &2j""6j7k.k &;&.e &24""6475.Y &2l""6l7m.M &2n""6n7o.A &26""6677.5 &2p""6p7q.) &2r""6r7s/Ĵ#0ı*;).ī &2F""6F7G.ğ &2J""6J7K.ē &2L""6L7M.ć &2X""6X7Y.û &2P""6P7Q.ï &2H""6H7I.ã &2@""6@7A.× &2d""6d7e.Ë &2R""6R7S.¿ &2N""6N7O.³ &2T""6T7U.§ &2V""6V7W. &2f""6f7g. &2h""6h7i. &28""6879.w &2j""6j7k.k &;&.e &24""6475.Y &2l""6l7m.M &2n""6n7o.A &26""6677.5 &2p""6p7q.) &2r""6r7s&&&#/"!&,)'),T("%;//?#2P\"\"6P7Q/0$;//'$8#:t# )(#'#(\"'#&'#"),T("%;//?#24\"\"6475/0$;//'$8#:u# )(#'#(\"'#&'#"),T("%;//?#2>\"\"6>7?/0$;//'$8#:v# )(#'#(\"'#&'#"),T("%;//?#2T\"\"6T7U/0$;//'$8#:w# )(#'#(\"'#&'#"),T("%;//?#2V\"\"6V7W/0$;//'$8#:x# )(#'#(\"'#&'#"),T('%2h""6h7i/0#;//\'$8":y" )("\'#&\'#'),T('%;//6#2f""6f7g/\'$8":z" )("\'#&\'#'),T("%;//?#2D\"\"6D7E/0$;//'$8#:{# )(#'#(\"'#&'#"),T("%;//?#22\"\"6273/0$;//'$8#:|# )(#'#(\"'#&'#"),T("%;//?#28\"\"6879/0$;//'$8#:}# )(#'#(\"'#&'#"),T("%;//0#;&/'$8\":~\" )(\"'#&'#"),T("%;&/0#;//'$8\":~\" )(\"'#&'#"),T("%;=/T#$;G.) &;K.# &;F0/*;G.) &;K.# &;F&/,$;>/#$+#)(#'#(\"'#&'#"),T('4""5!7.A &4""5!7.5 &4""5!7.) &;3.# &;.'),T("%%;//Q#;&/H$$;J.# &;K0)*;J.# &;K&/,$;&/#$+$)($'#(#'#(\"'#&'#/\"!&,)"),T("%;//]#;&/T$%$;J.# &;K0)*;J.# &;K&/\"!&,)/1$;&/($8$:$!!)($'#(#'#(\"'#&'#"),T(';..G &2L""6L7M.; &4""5!7./ &4""5!7.# &;3'),T('%2j""6j7k/J#4""5!7.5 &4""5!7.) &4""5!7/#$+")("\'#&\'#'),T("%;N/M#28\"\"6879/>$;O.\" &\"/0$;S/'$8$:$ )($'#(#'#(\"'#&'#"),T("%;N/d#28\"\"6879/U$;O.\" &\"/G$;S/>$;_/5$;l.\" &\"/'$8&:& )(&'#(%'#($'#(#'#(\"'#&'#"),T('%3""5$7.) &3""5#7/\' 8!:!! )'),T('%;P/]#%28""6879/,#;R/#$+")("\'#&\'#." &"/6$2:""6:7;/\'$8#:# )(#\'#("\'#&\'#'),T("$;+.) &;-.# &;Q/2#0/*;+.) &;-.# &;Q&&&#"),T('2<""6<7=.q &2>""6>7?.e &2@""6@7A.Y &2B""6B7C.M &2D""6D7E.A &22""6273.5 &26""6677.) &24""6475'),T('%$;+._ &;-.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E0e*;+._ &;-.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E&/& 8!:! )'),T('%;T/J#%28""6879/,#;^/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),T("%;U.) &;\\.# &;X/& 8!:! )"),T('%$%;V/2#2J""6J7K/#$+")("\'#&\'#0<*%;V/2#2J""6J7K/#$+")("\'#&\'#&/D#;W/;$2J""6J7K." &"/\'$8#:# )(#\'#("\'#&\'#'),T('$4""5!7/,#0)*4""5!7&&&#'),T('%4$""5!7%/?#$4""5!70)*4""5!7&/#$+")("\'#&\'#'),T('%2l""6l7m/?#;Y/6$2n""6n7o/\'$8#:# )(#\'#("\'#&\'#'),T('%%;Z/³#28""6879/¤$;Z/$28""6879/$;Z/$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+-)(-\'#(,\'#(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.ސ &%2""67/¤#;Z/$28""6879/$;Z/$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+,)(,\'#(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.۹ &%2""67/#;Z/$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+*)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.ٺ &%2""67/t#;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.ؓ &%2""67/\\#;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+&)(&\'#(%\'#($\'#(#\'#("\'#&\'#.ׄ &%2""67/D#;Z/;$28""6879/,$;[/#$+$)($\'#(#\'#("\'#&\'#.֍ &%2""67/,#;[/#$+")("\'#&\'#.ծ &%2""67/,#;Z/#$+")("\'#&\'#.Տ &%;Z/#2""67/$;Z/$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$++)(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.Ӈ &%;Z/ª#%28""6879/,#;Z/#$+")("\'#&\'#." &"/$2""67/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+*)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.а &%;Z/¹#%28""6879/,#;Z/#$+")("\'#&\'#." &"/$%28""6879/,#;Z/#$+")("\'#&\'#." &"/k$2""67/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+))()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.Ί &%;Z/È#%28""6879/,#;Z/#$+")("\'#&\'#." &"/¡$%28""6879/,#;Z/#$+")("\'#&\'#." &"/z$%28""6879/,#;Z/#$+")("\'#&\'#." &"/S$2""67/D$;Z/;$28""6879/,$;[/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.˕ &%;Z/×#%28""6879/,#;Z/#$+")("\'#&\'#." &"/°$%28""6879/,#;Z/#$+")("\'#&\'#." &"/$%28""6879/,#;Z/#$+")("\'#&\'#." &"/b$%28""6879/,#;Z/#$+")("\'#&\'#." &"/;$2""67/,$;[/#$+\')(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.ȑ &%;Z/þ#%28""6879/,#;Z/#$+")("\'#&\'#." &"/×$%28""6879/,#;Z/#$+")("\'#&\'#." &"/°$%28""6879/,#;Z/#$+")("\'#&\'#." &"/$%28""6879/,#;Z/#$+")("\'#&\'#." &"/b$%28""6879/,#;Z/#$+")("\'#&\'#." &"/;$2""67/,$;Z/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.Ħ &%;Z/Ĝ#%28""6879/,#;Z/#$+")("\'#&\'#." &"/õ$%28""6879/,#;Z/#$+")("\'#&\'#." &"/Î$%28""6879/,#;Z/#$+")("\'#&\'#." &"/§$%28""6879/,#;Z/#$+")("\'#&\'#." &"/$%28""6879/,#;Z/#$+")("\'#&\'#." &"/Y$%28""6879/,#;Z/#$+")("\'#&\'#." &"/2$2""67/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#/& 8!: ! )'),T('%;#/M#;#." &"/?$;#." &"/1$;#." &"/#$+$)($\'#(#\'#("\'#&\'#'),T("%;Z/;#28\"\"6879/,$;Z/#$+#)(#'#(\"'#&'#.# &;\\"),T("%;]/o#2J\"\"6J7K/`$;]/W$2J\"\"6J7K/H$;]/?$2J\"\"6J7K/0$;]/'$8':¡' )(''#(&'#(%'#($'#(#'#(\"'#&'#"),T('%2¢""6¢7£/2#4¤""5!7¥/#$+")("\'#&\'#. &%2¦""6¦7§/;#4¨""5!7©/,$;!/#$+#)(#\'#("\'#&\'#.j &%2ª""6ª7«/5#;!/,$;!/#$+#)(#\'#("\'#&\'#.B &%4¬""5!7­/,#;!/#$+")("\'#&\'#.# &;!'),T('%%;!." &"/[#;!." &"/M$;!." &"/?$;!." &"/1$;!." &"/#$+%)(%\'#($\'#(#\'#("\'#&\'#/\' 8!:®!! )'),T('$%22""6273/,#;`/#$+")("\'#&\'#0<*%22""6273/,#;`/#$+")("\'#&\'#&'),T(";a.A &;b.; &;c.5 &;d./ &;e.) &;f.# &;g"),T('%3¯""5*7°/a#3±""5#7².G &3³""5#7´.; &3µ""5$7¶./ &3·""5#7¸.# &;6/($8":¹"! )("\'#&\'#'),T('%3º""5%7»/I#3¼""5%7½./ &3¾""5"7¿.# &;6/($8":À"! )("\'#&\'#'),T('%3Á""5\'7Â/1#;/($8":Ã"! )("\'#&\'#'),T('%3Ä""5$7Å/1#;ð/($8":Æ"! )("\'#&\'#'),T('%3Ç""5&7È/1#;T/($8":É"! )("\'#&\'#'),T('%3Ê""5"7Ë/N#%2>""6>7?/,#;6/#$+")("\'#&\'#." &"/\'$8":Ì" )("\'#&\'#'),T('%;h/P#%2>""6>7?/,#;i/#$+")("\'#&\'#." &"/)$8":Í""! )("\'#&\'#'),T('%$;j/&#0#*;j&&&#/"!&,)'),T('%$;j/&#0#*;j&&&#/"!&,)'),T(";k.) &;+.# &;-"),T('2l""6l7m.e &2n""6n7o.Y &24""6475.M &28""6879.A &2<""6<7=.5 &2@""6@7A.) &2B""6B7C'),T('%26""6677/n#;m/e$$%2<""6<7=/,#;m/#$+")("\'#&\'#0<*%2<""6<7=/,#;m/#$+")("\'#&\'#&/#$+#)(#\'#("\'#&\'#'),T('%;n/A#2>""6>7?/2$;o/)$8#:Î#"" )(#\'#("\'#&\'#'),T("$;p.) &;+.# &;-/2#0/*;p.) &;+.# &;-&&&#"),T("$;p.) &;+.# &;-0/*;p.) &;+.# &;-&"),T('2l""6l7m.e &2n""6n7o.Y &24""6475.M &26""6677.A &28""6879.5 &2@""6@7A.) &2B""6B7C'),T(";.# &;r"),T("%;/G#;'/>$;s/5$;'/,$;/#$+%)(%'#($'#(#'#(\"'#&'#"),T(";M.# &;t"),T("%;/E#28\"\"6879/6$;u.# &;x/'$8#:Ï# )(#'#(\"'#&'#"),T('%;v.# &;w/J#%26""6677/,#;/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),T('%2Ð""6Ð7Ñ/:#;/1$;w." &"/#$+#)(#\'#("\'#&\'#'),T('%24""6475/,#;{/#$+")("\'#&\'#'),T("%;z/3#$;y0#*;y&/#$+\")(\"'#&'#"),T(";*.) &;+.# &;-"),T(';+. &;-. &22""6273.} &26""6677.q &28""6879.e &2:""6:7;.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E'),T('%;|/e#$%24""6475/,#;|/#$+")("\'#&\'#0<*%24""6475/,#;|/#$+")("\'#&\'#&/#$+")("\'#&\'#'),T('%$;~0#*;~&/e#$%22""6273/,#;}/#$+")("\'#&\'#0<*%22""6273/,#;}/#$+")("\'#&\'#&/#$+")("\'#&\'#'),T("$;~0#*;~&"),T(';+.w &;-.q &28""6879.e &2:""6:7;.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E'),T('%%;"/#$;".G &;!.A &2@""6@7A.5 &2F""6F7G.) &2J""6J7K0M*;".G &;!.A &2@""6@7A.5 &2F""6F7G.) &2J""6J7K&/#$+")("\'#&\'#/& 8!:Ò! )'),T(";.# &;"),T('%%;O/2#2:""6:7;/#$+")("\'#&\'#." &"/,#;S/#$+")("\'#&\'#." &"'),T('$;+. &;-.} &2B""6B7C.q &2D""6D7E.e &22""6273.Y &28""6879.M &2:""6:7;.A &2<""6<7=.5 &2>""6>7?.) &2@""6@7A/#0*;+. &;-.} &2B""6B7C.q &2D""6D7E.e &22""6273.Y &28""6879.M &2:""6:7;.A &2<""6<7=.5 &2>""6>7?.) &2@""6@7A&&&#'),T("$;y0#*;y&"),T('%3""5#7Ó/q#24""6475/b$$;!/&#0#*;!&&&#/L$2J""6J7K/=$$;!/&#0#*;!&&&#/\'$8%:Ô% )(%\'#($\'#(#\'#("\'#&\'#'),T('2Õ""6Õ7Ö'),T('2×""6×7Ø'),T('2Ù""6Ù7Ú'),T('2Û""6Û7Ü'),T('2Ý""6Ý7Þ'),T('2ß""6ß7à'),T('2á""6á7â'),T('2ã""6ã7ä'),T('2å""6å7æ'),T('2ç""6ç7è'),T('2é""6é7ê'),T("%;.Y &;.S &;.M &;.G &;.A &;.; &;.5 &;./ &;.) &;.# &;6/& 8!:ë! )"),T("%;/G#;'/>$;/5$;'/,$;/#$+%)(%'#($'#(#'#(\"'#&'#"),T("%;/' 8!:ì!! )"),T("%;!/5#;!/,$;!/#$+#)(#'#(\"'#&'#"),T("%$;*.A &;+.; &;-.5 &;3./ &;4.) &;'.# &;(0G*;*.A &;+.; &;-.5 &;3./ &;4.) &;'.# &;(&/& 8!:í! )"),T("%;¶/Y#$%;A/,#;¶/#$+\")(\"'#&'#06*%;A/,#;¶/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),T('%;9/N#%2:""6:7;/,#;9/#$+")("\'#&\'#." &"/\'$8":î" )("\'#&\'#'),T("%;:.c &%;/Y#$%;A/,#;/#$+\")(\"'#&'#06*%;A/,#;/#$+\")(\"'#&'#&/#$+\")(\"'#&'#/& 8!:ï! )"),T("%;L.# &;/]#$%;B/,#;/#$+\")(\"'#&'#06*%;B/,#;/#$+\")(\"'#&'#&/'$8\":ð\" )(\"'#&'#"),T("%;.\" &\"/>#;@/5$;M/,$;?/#$+$)($'#(#'#(\"'#&'#"),T("%%;6/Y#$%;./,#;6/#$+\")(\"'#&'#06*%;./,#;6/#$+\")(\"'#&'#&/#$+\")(\"'#&'#.# &;H/' 8!:ñ!! )"),T(";.) &;.# &; "),T("%3ò\"\"5!7ó/:#;</1$;/($8#:ô#! )(#'#(\"'#&'#"),T("%3õ\"\"5'7ö/:#;</1$;/($8#:÷#! )(#'#(\"'#&'#"),T("%$;!/&#0#*;!&&&#/' 8!:ø!! )"),T('%2ù""6ù7ú/o#%2J""6J7K/M#;!." &"/?$;!." &"/1$;!." &"/#$+$)($\'#(#\'#("\'#&\'#." &"/\'$8":û" )("\'#&\'#'),T('%;6/J#%;</,#;¡/#$+")("\'#&\'#." &"/)$8":ü""! )("\'#&\'#'),T(";6.) &;T.# &;H"),T("%;£/Y#$%;B/,#;¤/#$+\")(\"'#&'#06*%;B/,#;¤/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),T('%3ý""5&7þ.G &3ÿ""5\'7Ā.; &3ā""5$7Ă./ &3ă""5%7Ą.# &;6/& 8!:ą! )'),T(";¥.# &; "),T('%3Ć""5(7ć/M#;</D$3Ĉ""5(7ĉ./ &3Ċ""5(7ċ.# &;6/#$+#)(#\'#("\'#&\'#'),T("%;6/Y#$%;A/,#;6/#$+\")(\"'#&'#06*%;A/,#;6/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),T("%$;!/&#0#*;!&&&#/' 8!:Č!! )"),T("%;©/& 8!:č! )"),T("%;ª/k#;;/b$;¯/Y$$%;B/,#;°/#$+\")(\"'#&'#06*%;B/,#;°/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#"),T(";«.# &;¬"),T('3Ď""5$7ď.S &3Đ""5%7đ.G &3Ē""5%7ē.; &3Ĕ""5%7ĕ./ &3Ė""5+7ė.# &;­'),T('3Ę""5\'7ę./ &3Ě""5)7ě.# &;­'),T(";6.# &;®"),T('%3Ĝ""5"7ĝ/,#;6/#$+")("\'#&\'#'),T(";­.# &;6"),T("%;6/5#;</,$;±/#$+#)(#'#(\"'#&'#"),T(";6.# &;H"),T("%;³/5#;./,$;/#$+#)(#'#(\"'#&'#"),T("%$;!/&#0#*;!&&&#/' 8!:Ğ!! )"),T("%;/' 8!:ğ!! )"),T('%;¶/^#$%;B/,#; /#$+")("\'#&\'#06*%;B/,#; /#$+")("\'#&\'#&/($8":Ġ"!!)("\'#&\'#'),T('%%;7/e#$%2J""6J7K/,#;7/#$+")("\'#&\'#0<*%2J""6J7K/,#;7/#$+")("\'#&\'#&/#$+")("\'#&\'#/"!&,)'),T("%;L.# &;/]#$%;B/,#;¸/#$+\")(\"'#&'#06*%;B/,#;¸/#$+\")(\"'#&'#&/'$8\":ġ\" )(\"'#&'#"),T(";¹.# &; "),T("%3Ģ\"\"5#7ģ/:#;</1$;6/($8#:Ĥ#! )(#'#(\"'#&'#"),T("%$;!/&#0#*;!&&&#/' 8!:ĥ!! )"),T("%;/' 8!:Ħ!! )"),T("%$;0#*;&/x#;@/o$;M/f$;?/]$$%;B/,#; /#$+\")(\"'#&'#06*%;B/,#; /#$+\")(\"'#&'#&/'$8%:ħ% )(%'#($'#(#'#(\"'#&'#"),T(";¾"),T("%3Ĩ\"\"5&7ĩ/k#;./b$;Á/Y$$%;A/,#;Á/#$+\")(\"'#&'#06*%;A/,#;Á/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#.# &;¿"),T("%;6/k#;./b$;À/Y$$%;A/,#;À/#$+\")(\"'#&'#06*%;A/,#;À/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#"),T("%;6/;#;</2$;6.# &;H/#$+#)(#'#(\"'#&'#"),T(";Â.G &;Ä.A &;Æ.; &;È.5 &;É./ &;Ê.) &;Ë.# &;À"),T("%3Ī\"\"5%7ī/5#;</,$;Ã/#$+#)(#'#(\"'#&'#"),T("%;I/' 8!:Ĭ!! )"),T("%3ĭ\"\"5&7Į/#;</$;D/$;Å/|$$%$;'/&#0#*;'&&&#/,#;Å/#$+\")(\"'#&'#0C*%$;'/&#0#*;'&&&#/,#;Å/#$+\")(\"'#&'#&/,$;E/#$+&)(&'#(%'#($'#(#'#(\"'#&'#"),T(";t.# &;w"),T("%3į\"\"5%7İ/5#;</,$;Ç/#$+#)(#'#(\"'#&'#"),T("%;I/' 8!:ı!! )"),T("%3Ĳ\"\"5&7ĳ/:#;</1$;I/($8#:Ĵ#! )(#'#(\"'#&'#"),T('%3ĵ""5%7Ķ/]#;</T$%3ķ""5$7ĸ/& 8!:Ĺ! ).4 &%3ĺ""5%7Ļ/& 8!:ļ! )/#$+#)(#\'#("\'#&\'#'),T('%3Ľ""5)7ľ/R#;</I$3Ŀ""5#7ŀ./ &3Ł""5(7ł.# &;6/($8#:Ń#! )(#\'#("\'#&\'#'),T('%3ń""5#7Ņ/#;</$;D/$%;Ì/e#$%2D""6D7E/,#;Ì/#$+")("\'#&\'#0<*%2D""6D7E/,#;Ì/#$+")("\'#&\'#&/#$+")("\'#&\'#/,$;E/#$+%)(%\'#($\'#(#\'#("\'#&\'#'),T('%3ņ""5(7Ň./ &3ň""5$7ŉ.# &;6/\' 8!:Ŋ!! )'),T("%;6/Y#$%;A/,#;6/#$+\")(\"'#&'#06*%;A/,#;6/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),T("%;Ï/G#;./>$;Ï/5$;./,$;/#$+%)(%'#($'#(#'#(\"'#&'#"),T("%$;!/&#0#*;!&&&#/' 8!:ŋ!! )"),T("%;Ñ/]#$%;A/,#;Ñ/#$+\")(\"'#&'#06*%;A/,#;Ñ/#$+\")(\"'#&'#&/'$8\":Ō\" )(\"'#&'#"),T("%;/]#$%;B/,#; /#$+\")(\"'#&'#06*%;B/,#; /#$+\")(\"'#&'#&/'$8\":ō\" )(\"'#&'#"),T('%;L.O &;.I &%;@." &"/:#;t/1$;?." &"/#$+#)(#\'#("\'#&\'#/]#$%;B/,#; /#$+")("\'#&\'#06*%;B/,#; /#$+")("\'#&\'#&/\'$8":Ŏ" )("\'#&\'#'),T("%;Ô/]#$%;B/,#;Õ/#$+\")(\"'#&'#06*%;B/,#;Õ/#$+\")(\"'#&'#&/'$8\":ŏ\" )(\"'#&'#"),T("%;/& 8!:Ő! )"),T('%3ő""5(7Œ/:#;</1$;6/($8#:œ#! )(#\'#("\'#&\'#.g &%3Ŕ""5&7ŕ/:#;</1$;6/($8#:Ŗ#! )(#\'#("\'#&\'#.: &%3ŗ""5*7Ř/& 8!:ř! ).# &; '),T('%%;6/k#$%;A/2#;6/)$8":Ś""$ )("\'#&\'#0<*%;A/2#;6/)$8":Ś""$ )("\'#&\'#&/)$8":ś""! )("\'#&\'#." &"/\' 8!:Ŝ!! )'),T("%;Ø/Y#$%;A/,#;Ø/#$+\")(\"'#&'#06*%;A/,#;Ø/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),T("%;/Y#$%;B/,#; /#$+\")(\"'#&'#06*%;B/,#; /#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),T("%$;!/&#0#*;!&&&#/' 8!:ŝ!! )"),T("%;Û/Y#$%;B/,#;Ü/#$+\")(\"'#&'#06*%;B/,#;Ü/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),T('%3Ş""5&7ş.; &3Š""5\'7š./ &3Ţ""5*7ţ.# &;6/& 8!:Ť! )'),T("%3ť\"\"5&7Ŧ/:#;</1$;Ý/($8#:ŧ#! )(#'#(\"'#&'#.} &%3õ\"\"5'7ö/:#;</1$;/($8#:Ũ#! )(#'#(\"'#&'#.P &%3ũ\"\"5+7Ū/:#;</1$;/($8#:ū#! )(#'#(\"'#&'#.# &; "),T('3Ŭ""5+7ŭ.k &3Ů""5)7ů._ &3Ű""5(7ű.S &3Ų""5\'7ų.G &3Ŵ""5&7ŵ.; &3Ŷ""5*7ŷ./ &3Ÿ""5)7Ź.# &;6'),T(';1." &"'),T('%%;6/k#$%;A/2#;6/)$8":Ś""$ )("\'#&\'#0<*%;A/2#;6/)$8":Ś""$ )("\'#&\'#&/)$8":ś""! )("\'#&\'#." &"/\' 8!:ź!! )'),T("%;L.# &;/]#$%;B/,#;á/#$+\")(\"'#&'#06*%;B/,#;á/#$+\")(\"'#&'#&/'$8\":Ż\" )(\"'#&'#"),T(";¹.# &; "),T("%;ã/Y#$%;A/,#;ã/#$+\")(\"'#&'#06*%;A/,#;ã/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),T("%;ê/k#;./b$;í/Y$$%;B/,#;ä/#$+\")(\"'#&'#06*%;B/,#;ä/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#"),T(";å.; &;æ.5 &;ç./ &;è.) &;é.# &; "),T("%3ż\"\"5#7Ž/:#;</1$;ð/($8#:ž#! )(#'#(\"'#&'#"),T("%3ſ\"\"5%7ƀ/:#;</1$;T/($8#:Ɓ#! )(#'#(\"'#&'#"),T("%3Ƃ\"\"5(7ƃ/F#;</=$;\\.) &;Y.# &;X/($8#:Ƅ#! )(#'#(\"'#&'#"),T("%3ƅ\"\"5&7Ɔ/:#;</1$;6/($8#:Ƈ#! )(#'#(\"'#&'#"),T("%3ƈ\"\"5%7Ɖ/A#;</8$$;!0#*;!&/($8#:Ɗ#! )(#'#(\"'#&'#"),T("%;ë/G#;;/>$;6/5$;;/,$;ì/#$+%)(%'#($'#(#'#(\"'#&'#"),T('%3""5#7Ó.# &;6/\' 8!:Ƌ!! )'),T('%3±""5#7ƌ.G &3³""5#7ƍ.; &3·""5#7Ǝ./ &3µ""5$7Ə.# &;6/\' 8!:Ɛ!! )'),T('%;î/D#%;C/,#;ï/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),T("%;U.) &;\\.# &;X/& 8!:Ƒ! )"),T('%%;!." &"/[#;!." &"/M$;!." &"/?$;!." &"/1$;!." &"/#$+%)(%\'#($\'#(#\'#("\'#&\'#/\' 8!:ƒ!! )'),T('%%;!/?#;!." &"/1$;!." &"/#$+#)(#\'#("\'#&\'#/\' 8!:Ɠ!! )'),T(";¾"),T('%;/^#$%;B/,#;ó/#$+")("\'#&\'#06*%;B/,#;ó/#$+")("\'#&\'#&/($8":Ɣ"!!)("\'#&\'#'),T(";ô.# &; "),T('%2ƕ""6ƕ7Ɩ/L#;</C$2Ɨ""6Ɨ7Ƙ.) &2ƙ""6ƙ7ƚ/($8#:ƛ#! )(#\'#("\'#&\'#'),T('%;/^#$%;B/,#; /#$+")("\'#&\'#06*%;B/,#; /#$+")("\'#&\'#&/($8":Ɯ"!!)("\'#&\'#'),T("%;6/5#;0/,$;÷/#$+#)(#'#(\"'#&'#"),T("$;2.) &;4.# &;.0/*;2.) &;4.# &;.&"),T("$;%0#*;%&"),T("%;ú/;#28\"\"6879/,$;û/#$+#)(#'#(\"'#&'#"),T('%3Ɲ""5%7ƞ.) &3Ɵ""5$7Ơ/\' 8!:ơ!! )'),T('%;ü/J#%28""6879/,#;^/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),T("%;\\.) &;X.# &;/' 8!:Ƣ!! )"),T(';".S &;!.M &2F""6F7G.A &2J""6J7K.5 &2H""6H7I.) &2N""6N7O'),T('2L""6L7M. &2B""6B7C. &2<""6<7=.} &2R""6R7S.q &2T""6T7U.e &2V""6V7W.Y &2P""6P7Q.M &2@""6@7A.A &2D""6D7E.5 &22""6273.) &2>""6>7?'),T('%;Ā/b#28""6879/S$;û/J$%2ƣ""6ƣ7Ƥ/,#;ì/#$+")("\'#&\'#." &"/#$+$)($\'#(#\'#("\'#&\'#'),T('%3ƥ""5%7Ʀ.) &3Ƨ""5$7ƨ/\' 8!:ơ!! )'),T('%3±""5#7².6 &3³""5#7´.* &$;+0#*;+&/\' 8!:Ʃ!! )'),T("%;Ą/#2F\"\"6F7G/x$;ă/o$2F\"\"6F7G/`$;ă/W$2F\"\"6F7G/H$;ă/?$2F\"\"6F7G/0$;ą/'$8):ƪ) )()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#"),T("%;#/>#;#/5$;#/,$;#/#$+$)($'#(#'#(\"'#&'#"),T("%;ă/,#;ă/#$+\")(\"'#&'#"),T("%;ă/5#;ă/,$;ă/#$+#)(#'#(\"'#&'#"),T("%;q/T#$;m0#*;m&/D$%; /,#;ø/#$+\")(\"'#&'#.\" &\"/#$+#)(#'#(\"'#&'#"),T('%2ƫ""6ƫ7Ƭ.) &2ƭ""6ƭ7Ʈ/w#;0/n$;Ĉ/e$$%;B/2#;ĉ.# &; /#$+")("\'#&\'#0<*%;B/2#;ĉ.# &; /#$+")("\'#&\'#&/#$+$)($\'#(#\'#("\'#&\'#'),T(";.# &;L"),T("%2Ư\"\"6Ư7ư/5#;</,$;Ċ/#$+#)(#'#(\"'#&'#"),T("%;D/S#;,/J$2:\"\"6:7;/;$;,.# &;T/,$;E/#$+%)(%'#($'#(#'#(\"'#&'#")];let d=0,p=0;const h=[{line:1,column:1}];let f,g=0,m=[],v=0;if(void 0!==t.startRule){if(!(t.startRule in a))throw new Error("Can't start parsing from rule \""+t.startRule+'".');l=a[t.startRule]}function b(){return e.substring(p,d)}function y(){return _(p,d)}function w(e,t){return{type:"literal",text:e,ignoreCase:t}}function S(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function C(t){let n,r=h[t];if(r)return r;for(n=t-1;!h[n];)n--;for(r={line:(r=h[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return h[t]=r,r}function _(e,t){const n=C(e),r=C(t);return{source:s,start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function E(e){d<g||(d>g&&(g=d,m=[]),m.push(e))}function k(e,t,n){return new i(i.buildMessage(e,t),e,t,n)}function T(e){return e.split("").map((e=>e.charCodeAt(0)-32))}if(t.data={},(f=function t(r){const o=u[r];let s=0;const i=[];let a=o.length;const l=[],h=[];let f;for(;;){for(;s<a;)switch(o[s]){case 0:h.push(c[o[s+1]]),s+=2;break;case 1:h.push(void 0),s++;break;case 2:h.push(null),s++;break;case 3:h.push(n),s++;break;case 4:h.push([]),s++;break;case 5:h.push(d),s++;break;case 6:h.pop(),s++;break;case 7:d=h.pop(),s++;break;case 8:h.length-=o[s+1],s+=2;break;case 9:h.splice(-2,1),s++;break;case 10:h[h.length-2].push(h.pop()),s++;break;case 11:h.push(h.splice(h.length-o[s+1],o[s+1])),s+=2;break;case 12:h.push(e.substring(h.pop(),d)),s++;break;case 13:l.push(a),i.push(s+3+o[s+1]+o[s+2]),h[h.length-1]?(a=s+3+o[s+1],s+=3):(a=s+3+o[s+1]+o[s+2],s+=3+o[s+1]);break;case 14:l.push(a),i.push(s+3+o[s+1]+o[s+2]),h[h.length-1]===n?(a=s+3+o[s+1],s+=3):(a=s+3+o[s+1]+o[s+2],s+=3+o[s+1]);break;case 15:l.push(a),i.push(s+3+o[s+1]+o[s+2]),h[h.length-1]!==n?(a=s+3+o[s+1],s+=3):(a=s+3+o[s+1]+o[s+2],s+=3+o[s+1]);break;case 16:h[h.length-1]!==n?(l.push(a),i.push(s),a=s+2+o[s+1],s+=2):s+=2+o[s+1];break;case 17:l.push(a),i.push(s+3+o[s+1]+o[s+2]),e.length>d?(a=s+3+o[s+1],s+=3):(a=s+3+o[s+1]+o[s+2],s+=3+o[s+1]);break;case 18:l.push(a),i.push(s+4+o[s+2]+o[s+3]),e.substr(d,c[o[s+1]].length)===c[o[s+1]]?(a=s+4+o[s+2],s+=4):(a=s+4+o[s+2]+o[s+3],s+=4+o[s+2]);break;case 19:l.push(a),i.push(s+4+o[s+2]+o[s+3]),e.substr(d,c[o[s+1]].length).toLowerCase()===c[o[s+1]]?(a=s+4+o[s+2],s+=4):(a=s+4+o[s+2]+o[s+3],s+=4+o[s+2]);break;case 20:l.push(a),i.push(s+4+o[s+2]+o[s+3]),c[o[s+1]].test(e.charAt(d))?(a=s+4+o[s+2],s+=4):(a=s+4+o[s+2]+o[s+3],s+=4+o[s+2]);break;case 21:h.push(e.substr(d,o[s+1])),d+=o[s+1],s+=2;break;case 22:h.push(c[o[s+1]]),d+=c[o[s+1]].length,s+=2;break;case 23:h.push(n),0===v&&E(c[o[s+1]]),s+=2;break;case 24:p=h[h.length-1-o[s+1]],s+=2;break;case 25:p=d,s++;break;case 26:f=o.slice(s+4,s+4+o[s+3]).map((function(e){return h[h.length-1-e]})),h.splice(h.length-o[s+2],o[s+2],c[o[s+1]].apply(null,f)),s+=4+o[s+3];break;case 27:h.push(t(o[s+1])),s+=2;break;case 28:v++,s++;break;case 29:v--,s++;break;default:throw new Error("Invalid opcode: "+o[s]+".")}if(!(l.length>0))break;a=l.pop(),s=i.pop()}return h[0]}(l))!==n&&d===e.length)return f;throw f!==n&&d<e.length&&E({type:"end"}),k(m,g<e.length?e.charAt(g):null,g<e.length?_(g,g+1):_(g,g))}},"./node_modules/sip.js/lib/grammar/uri.js":
/*!************************************************!*\
      !*** ./node_modules/sip.js/lib/grammar/uri.js ***!
      \************************************************/
/*! exports provided: URI, equivalentURI */
function(e,t,n){"use strict";n.r(t),n.d(t,"URI",(function(){return o})),n.d(t,"equivalentURI",(function(){return s}));var r=n(
/*! ./parameters.js */
"./node_modules/sip.js/lib/grammar/parameters.js");class o extends r.Parameters{constructor(e="sip",t,n,r,o,s){if(super(o||{}),this.headers={},!n)throw new TypeError('missing or invalid "host" parameter');for(const i in s)s.hasOwnProperty(i)&&this.setHeader(i,s[i]);this.raw={scheme:e,user:t,host:n,port:r},this.normal={scheme:e.toLowerCase(),user:t,host:n.toLowerCase(),port:r}}get scheme(){return this.normal.scheme}set scheme(e){this.raw.scheme=e,this.normal.scheme=e.toLowerCase()}get user(){return this.normal.user}set user(e){this.normal.user=this.raw.user=e}get host(){return this.normal.host}set host(e){this.raw.host=e,this.normal.host=e.toLowerCase()}get aor(){return this.normal.user+"@"+this.normal.host}get port(){return this.normal.port}set port(e){this.normal.port=this.raw.port=e}setHeader(e,t){this.headers[this.headerize(e)]=t instanceof Array?t:[t]}getHeader(e){if(e)return this.headers[this.headerize(e)]}hasHeader(e){return!!e&&!!this.headers.hasOwnProperty(this.headerize(e))}deleteHeader(e){if(e=this.headerize(e),this.headers.hasOwnProperty(e)){const t=this.headers[e];return delete this.headers[e],t}}clearHeaders(){this.headers={}}clone(){return new o(this._raw.scheme,this._raw.user||"",this._raw.host,this._raw.port,JSON.parse(JSON.stringify(this.parameters)),JSON.parse(JSON.stringify(this.headers)))}toRaw(){return this._toString(this._raw)}toString(){return this._toString(this._normal)}get _normal(){return this.normal}get _raw(){return this.raw}_toString(e){let t=e.scheme+":";e.scheme.toLowerCase().match("^sips?$")||(t+="//"),e.user&&(t+=this.escapeUser(e.user)+"@"),t+=e.host,(e.port||0===e.port)&&(t+=":"+e.port);for(const r in this.parameters)this.parameters.hasOwnProperty(r)&&(t+=";"+r,null!==this.parameters[r]&&(t+="="+this.parameters[r]));const n=[];for(const r in this.headers)if(this.headers.hasOwnProperty(r))for(const e in this.headers[r])this.headers[r].hasOwnProperty(e)&&n.push(r+"="+this.headers[r][e]);return n.length>0&&(t+="?"+n.join("&")),t}escapeUser(e){let t;try{t=decodeURIComponent(e)}catch(e){throw e}return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%2B/gi,"+").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}headerize(e){const t={"Call-Id":"Call-ID",Cseq:"CSeq","Min-Se":"Min-SE",Rack:"RAck",Rseq:"RSeq","Www-Authenticate":"WWW-Authenticate"},n=e.toLowerCase().replace(/_/g,"-").split("-"),r=n.length;let o="";for(let s=0;s<r;s++)0!==s&&(o+="-"),o+=n[s].charAt(0).toUpperCase()+n[s].substring(1);return t[o]&&(o=t[o]),o}}function s(e,t){if(e.scheme!==t.scheme)return!1;if(e.user!==t.user||e.host!==t.host||e.port!==t.port)return!1;if(!function(e,t){const n=Object.keys(e.parameters),r=Object.keys(t.parameters);return!!n.filter((e=>r.includes(e))).every((n=>e.parameters[n]===t.parameters[n]))&&!!["user","ttl","method","transport"].every((n=>e.hasParam(n)&&t.hasParam(n)||!e.hasParam(n)&&!t.hasParam(n)))&&!!["maddr"].every((n=>e.hasParam(n)&&t.hasParam(n)||!e.hasParam(n)&&!t.hasParam(n)))}(e,t))return!1;const n=Object.keys(e.headers),r=Object.keys(t.headers);if(0!==n.length||0!==r.length){if(n.length!==r.length)return!1;const o=n.filter((e=>r.includes(e)));if(o.length!==r.length)return!1;if(!o.every((n=>e.headers[n].length&&t.headers[n].length&&e.headers[n][0]===t.headers[n][0])))return!1}return!0}},"./node_modules/sip.js/lib/index.js":
/*!******************************************!*\
      !*** ./node_modules/sip.js/lib/index.js ***!
      \******************************************/
/*! exports provided: name, version, ContentTypeUnsupportedError, RequestPendingError, SessionDescriptionHandlerError, SessionTerminatedError, StateTransitionError, Ack, Bye, Cancel, EmitterImpl, Info, Invitation, Inviter, Message, Messager, Notification, PublisherState, Publisher, Referral, RegistererState, Registerer, SessionState, Session, Subscriber, SubscriptionState, Subscription, TransportState, SIPExtension, UserAgentRegisteredOptionTags, UserAgentState, UserAgent, Grammar, NameAddrHeader, Parameters, URI, equivalentURI, Core, Web */
function(e,t,n){"use strict";n.r(t),n.d(t,"name",(function(){return c})),n.d(t,"version",(function(){return l}));var r=n(
/*! ./version.js */
"./node_modules/sip.js/lib/version.js"),o=n(
/*! ./api/index.js */
"./node_modules/sip.js/lib/api/index.js");n.d(t,"ContentTypeUnsupportedError",(function(){return o.ContentTypeUnsupportedError})),n.d(t,"RequestPendingError",(function(){return o.RequestPendingError})),n.d(t,"SessionDescriptionHandlerError",(function(){return o.SessionDescriptionHandlerError})),n.d(t,"SessionTerminatedError",(function(){return o.SessionTerminatedError})),n.d(t,"StateTransitionError",(function(){return o.StateTransitionError})),n.d(t,"Ack",(function(){return o.Ack})),n.d(t,"Bye",(function(){return o.Bye})),n.d(t,"Cancel",(function(){return o.Cancel})),n.d(t,"EmitterImpl",(function(){return o.EmitterImpl})),n.d(t,"Info",(function(){return o.Info})),n.d(t,"Invitation",(function(){return o.Invitation})),n.d(t,"Inviter",(function(){return o.Inviter})),n.d(t,"Message",(function(){return o.Message})),n.d(t,"Messager",(function(){return o.Messager})),n.d(t,"Notification",(function(){return o.Notification})),n.d(t,"PublisherState",(function(){return o.PublisherState})),n.d(t,"Publisher",(function(){return o.Publisher})),n.d(t,"Referral",(function(){return o.Referral})),n.d(t,"RegistererState",(function(){return o.RegistererState})),n.d(t,"Registerer",(function(){return o.Registerer})),n.d(t,"SessionState",(function(){return o.SessionState})),n.d(t,"Session",(function(){return o.Session})),n.d(t,"Subscriber",(function(){return o.Subscriber})),n.d(t,"SubscriptionState",(function(){return o.SubscriptionState})),n.d(t,"Subscription",(function(){return o.Subscription})),n.d(t,"TransportState",(function(){return o.TransportState})),n.d(t,"SIPExtension",(function(){return o.SIPExtension})),n.d(t,"UserAgentRegisteredOptionTags",(function(){return o.UserAgentRegisteredOptionTags})),n.d(t,"UserAgentState",(function(){return o.UserAgentState})),n.d(t,"UserAgent",(function(){return o.UserAgent}));var s=n(
/*! ./grammar/index.js */
"./node_modules/sip.js/lib/grammar/index.js");n.d(t,"Grammar",(function(){return s.Grammar})),n.d(t,"NameAddrHeader",(function(){return s.NameAddrHeader})),n.d(t,"Parameters",(function(){return s.Parameters})),n.d(t,"URI",(function(){return s.URI})),n.d(t,"equivalentURI",(function(){return s.equivalentURI}));var i=n(
/*! ./core/index.js */
"./node_modules/sip.js/lib/core/index.js");n.d(t,"Core",(function(){return i}));var a=n(
/*! ./platform/web/index.js */
"./node_modules/sip.js/lib/platform/web/index.js");n.d(t,"Web",(function(){return a}));const l=r.LIBRARY_VERSION,c="sip.js"},"./node_modules/sip.js/lib/platform/web/index.js":
/*!*******************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/index.js ***!
      \*******************************************************/
/*! exports provided: stripTcpCandidates, stripTelephoneEvent, cleanJitsiSdpImageattr, stripG722, stripRtpPayload, stripVideo, addMidLines, holdModifier, defaultMediaStreamFactory, defaultPeerConnectionConfiguration, defaultSessionDescriptionHandlerFactory, SessionDescriptionHandler, startLocalConference, WebAudioSessionDescriptionHandler, defaultManagedSessionFactory, SessionManager, SimpleUser, Transport */
function(e,t,n){"use strict";n.r(t);var r=n(
/*! ./modifiers/index.js */
"./node_modules/sip.js/lib/platform/web/modifiers/index.js");n.d(t,"stripTcpCandidates",(function(){return r.stripTcpCandidates})),n.d(t,"stripTelephoneEvent",(function(){return r.stripTelephoneEvent})),n.d(t,"cleanJitsiSdpImageattr",(function(){return r.cleanJitsiSdpImageattr})),n.d(t,"stripG722",(function(){return r.stripG722})),n.d(t,"stripRtpPayload",(function(){return r.stripRtpPayload})),n.d(t,"stripVideo",(function(){return r.stripVideo})),n.d(t,"addMidLines",(function(){return r.addMidLines})),n.d(t,"holdModifier",(function(){return r.holdModifier}));var o=n(
/*! ./session-description-handler/index.js */
"./node_modules/sip.js/lib/platform/web/session-description-handler/index.js");n.d(t,"defaultMediaStreamFactory",(function(){return o.defaultMediaStreamFactory})),n.d(t,"defaultPeerConnectionConfiguration",(function(){return o.defaultPeerConnectionConfiguration})),n.d(t,"defaultSessionDescriptionHandlerFactory",(function(){return o.defaultSessionDescriptionHandlerFactory})),n.d(t,"SessionDescriptionHandler",(function(){return o.SessionDescriptionHandler})),n.d(t,"startLocalConference",(function(){return o.startLocalConference})),n.d(t,"WebAudioSessionDescriptionHandler",(function(){return o.WebAudioSessionDescriptionHandler}));var s=n(
/*! ./session-manager/index.js */
"./node_modules/sip.js/lib/platform/web/session-manager/index.js");n.d(t,"defaultManagedSessionFactory",(function(){return s.defaultManagedSessionFactory})),n.d(t,"SessionManager",(function(){return s.SessionManager}));var i=n(
/*! ./simple-user/index.js */
"./node_modules/sip.js/lib/platform/web/simple-user/index.js");n.d(t,"SimpleUser",(function(){return i.SimpleUser}));var a=n(
/*! ./transport/index.js */
"./node_modules/sip.js/lib/platform/web/transport/index.js");n.d(t,"Transport",(function(){return a.Transport}))},"./node_modules/sip.js/lib/platform/web/modifiers/index.js":
/*!*****************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/modifiers/index.js ***!
      \*****************************************************************/
/*! exports provided: stripTcpCandidates, stripTelephoneEvent, cleanJitsiSdpImageattr, stripG722, stripRtpPayload, stripVideo, addMidLines, holdModifier */
function(e,t,n){"use strict";n.r(t);var r=n(
/*! ./modifiers.js */
"./node_modules/sip.js/lib/platform/web/modifiers/modifiers.js");n.d(t,"stripTcpCandidates",(function(){return r.stripTcpCandidates})),n.d(t,"stripTelephoneEvent",(function(){return r.stripTelephoneEvent})),n.d(t,"cleanJitsiSdpImageattr",(function(){return r.cleanJitsiSdpImageattr})),n.d(t,"stripG722",(function(){return r.stripG722})),n.d(t,"stripRtpPayload",(function(){return r.stripRtpPayload})),n.d(t,"stripVideo",(function(){return r.stripVideo})),n.d(t,"addMidLines",(function(){return r.addMidLines})),n.d(t,"holdModifier",(function(){return r.holdModifier}))},"./node_modules/sip.js/lib/platform/web/modifiers/modifiers.js":
/*!*********************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/modifiers/modifiers.js ***!
      \*********************************************************************/
/*! exports provided: stripTcpCandidates, stripTelephoneEvent, cleanJitsiSdpImageattr, stripG722, stripRtpPayload, stripVideo, addMidLines, holdModifier */
function(e,t,n){"use strict";n.r(t),n.d(t,"stripTcpCandidates",(function(){return s})),n.d(t,"stripTelephoneEvent",(function(){return i})),n.d(t,"cleanJitsiSdpImageattr",(function(){return a})),n.d(t,"stripG722",(function(){return l})),n.d(t,"stripRtpPayload",(function(){return c})),n.d(t,"stripVideo",(function(){return u})),n.d(t,"addMidLines",(function(){return d})),n.d(t,"holdModifier",(function(){return p}));const r=(e,t)=>{const n=[],r=e.split(/\r\n/);let o;for(let s=0;s<r.length;){const e=r[s];if(/^m=(?:audio|video)/.test(e))o={index:s,stripped:[]},n.push(o);else if(o){const n=/^a=rtpmap:(\d+) ([^/]+)\//.exec(e);if(n&&t===n[2]){r.splice(s,1),o.stripped.push(n[1]);continue}}s++}for(const s of n){const e=r[s.index].split(" ");for(let t=3;t<e.length;)-1===s.stripped.indexOf(e[t])?t++:e.splice(t,1);r[s.index]=e.join(" ")}return r.join("\r\n")},o=(e,t)=>{const n=new RegExp("m="+t+".*$","gm"),r=new RegExp("^a=group:.*$","gm");if(n.test(e)){let n;const o=(e=e.split(/^m=/gm).filter((e=>{if(e.substr(0,t.length)===t){if(n=e.match(/^a=mid:.*$/gm)){const e=n[0].match(/:.+$/g);e&&(n=e[0].substr(1))}return!1}return!0})).join("m=")).match(r);if(o&&1===o.length){let t=o[0];const s=new RegExp(" *"+n+"[^ ]*","g");t=t.replace(s,""),e=e.split(r).join(t)}}return e};function s(e){return e.sdp=(e.sdp||"").replace(/^a=candidate:\d+ \d+ tcp .*?\r\n/gim,""),Promise.resolve(e)}function i(e){return e.sdp=r(e.sdp||"","telephone-event"),Promise.resolve(e)}function a(e){return e.sdp=(e.sdp||"").replace(/^(a=imageattr:.*?)(x|y)=\[0-/gm,"$1$2=[1:"),Promise.resolve(e)}function l(e){return e.sdp=r(e.sdp||"","G722"),Promise.resolve(e)}function c(e){return t=>(t.sdp=r(t.sdp||"",e),Promise.resolve(t))}function u(e){return e.sdp=o(e.sdp||"","video"),Promise.resolve(e)}function d(e){let t=e.sdp||"";if(-1===t.search(/^a=mid.*$/gm)){const n=t.match(/^m=.*$/gm),r=t.split(/^m=.*$/gm);n&&n.forEach(((e,t)=>{n[t]=e+"\na=mid:"+t})),r.forEach(((e,t)=>{n&&n[t]&&(r[t]=e+n[t])})),t=r.join(""),e.sdp=t}return Promise.resolve(e)}function p(e){if(!e.sdp||!e.type)throw new Error("Invalid SDP");let t=e.sdp;const n=e.type;return t&&(t=/a=(sendrecv|sendonly|recvonly|inactive)/.test(t)?(t=t.replace(/a=sendrecv\r\n/g,"a=sendonly\r\n")).replace(/a=recvonly\r\n/g,"a=inactive\r\n"):t.replace(/(m=[^\r]*\r\n)/g,"$1a=sendonly\r\n")),Promise.resolve({sdp:t,type:n})}},"./node_modules/sip.js/lib/platform/web/session-description-handler/index.js":
/*!***********************************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/session-description-handler/index.js ***!
      \***********************************************************************************/
/*! exports provided: defaultMediaStreamFactory, defaultPeerConnectionConfiguration, defaultSessionDescriptionHandlerFactory, SessionDescriptionHandler, startLocalConference, WebAudioSessionDescriptionHandler */
function(e,t,n){"use strict";n.r(t);var r=n(
/*! ./media-stream-factory-default.js */
"./node_modules/sip.js/lib/platform/web/session-description-handler/media-stream-factory-default.js");n.d(t,"defaultMediaStreamFactory",(function(){return r.defaultMediaStreamFactory})),n(
/*! ./media-stream-factory.js */
"./node_modules/sip.js/lib/platform/web/session-description-handler/media-stream-factory.js");var o=n(
/*! ./peer-connection-configuration-default.js */
"./node_modules/sip.js/lib/platform/web/session-description-handler/peer-connection-configuration-default.js");n.d(t,"defaultPeerConnectionConfiguration",(function(){return o.defaultPeerConnectionConfiguration})),n(
/*! ./peer-connection-delegate.js */
"./node_modules/sip.js/lib/platform/web/session-description-handler/peer-connection-delegate.js"),n(
/*! ./session-description-handler-configuration.js */
"./node_modules/sip.js/lib/platform/web/session-description-handler/session-description-handler-configuration.js");var s=n(
/*! ./session-description-handler-factory-default.js */
"./node_modules/sip.js/lib/platform/web/session-description-handler/session-description-handler-factory-default.js");n.d(t,"defaultSessionDescriptionHandlerFactory",(function(){return s.defaultSessionDescriptionHandlerFactory})),n(
/*! ./session-description-handler-factory-options.js */
"./node_modules/sip.js/lib/platform/web/session-description-handler/session-description-handler-factory-options.js"),n(
/*! ./session-description-handler-factory.js */
"./node_modules/sip.js/lib/platform/web/session-description-handler/session-description-handler-factory.js"),n(
/*! ./session-description-handler-options.js */
"./node_modules/sip.js/lib/platform/web/session-description-handler/session-description-handler-options.js");var i=n(
/*! ./session-description-handler.js */
"./node_modules/sip.js/lib/platform/web/session-description-handler/session-description-handler.js");n.d(t,"SessionDescriptionHandler",(function(){return i.SessionDescriptionHandler}));var a=n(
/*! ./web-audio-session-description-handler.js */
"./node_modules/sip.js/lib/platform/web/session-description-handler/web-audio-session-description-handler.js");n.d(t,"startLocalConference",(function(){return a.startLocalConference})),n.d(t,"WebAudioSessionDescriptionHandler",(function(){return a.WebAudioSessionDescriptionHandler}))},"./node_modules/sip.js/lib/platform/web/session-description-handler/media-stream-factory-default.js":
/*!**********************************************************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/session-description-handler/media-stream-factory-default.js ***!
      \**********************************************************************************************************/
/*! exports provided: defaultMediaStreamFactory */
function(e,t,n){"use strict";function r(){return e=>e.audio||e.video?void 0===navigator.mediaDevices?Promise.reject(new Error("Media devices not available in insecure contexts.")):navigator.mediaDevices.getUserMedia.call(navigator.mediaDevices,e):Promise.resolve(new MediaStream)}n.r(t),n.d(t,"defaultMediaStreamFactory",(function(){return r}))},"./node_modules/sip.js/lib/platform/web/session-description-handler/media-stream-factory.js":
/*!**************************************************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/session-description-handler/media-stream-factory.js ***!
      \**************************************************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/platform/web/session-description-handler/peer-connection-configuration-default.js":
/*!*******************************************************************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/session-description-handler/peer-connection-configuration-default.js ***!
      \*******************************************************************************************************************/
/*! exports provided: defaultPeerConnectionConfiguration */
function(e,t,n){"use strict";function r(){return{bundlePolicy:"balanced",certificates:void 0,iceCandidatePoolSize:0,iceServers:[{urls:"stun:stun.l.google.com:19302"}],iceTransportPolicy:"all",rtcpMuxPolicy:"require"}}n.r(t),n.d(t,"defaultPeerConnectionConfiguration",(function(){return r}))},"./node_modules/sip.js/lib/platform/web/session-description-handler/peer-connection-delegate.js":
/*!******************************************************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/session-description-handler/peer-connection-delegate.js ***!
      \******************************************************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/platform/web/session-description-handler/session-description-handler-configuration.js":
/*!***********************************************************************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/session-description-handler/session-description-handler-configuration.js ***!
      \***********************************************************************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/platform/web/session-description-handler/session-description-handler-factory-default.js":
/*!*************************************************************************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/session-description-handler/session-description-handler-factory-default.js ***!
      \*************************************************************************************************************************/
/*! exports provided: defaultSessionDescriptionHandlerFactory */
function(e,t,n){"use strict";n.r(t),n.d(t,"defaultSessionDescriptionHandlerFactory",(function(){return i}));var r=n(
/*! ./media-stream-factory-default.js */
"./node_modules/sip.js/lib/platform/web/session-description-handler/media-stream-factory-default.js"),o=n(
/*! ./peer-connection-configuration-default.js */
"./node_modules/sip.js/lib/platform/web/session-description-handler/peer-connection-configuration-default.js"),s=n(
/*! ./session-description-handler.js */
"./node_modules/sip.js/lib/platform/web/session-description-handler/session-description-handler.js");function i(e){return(t,n)=>{void 0===e&&(e=Object(r.defaultMediaStreamFactory)());const i={iceGatheringTimeout:void 0!==(null==n?void 0:n.iceGatheringTimeout)?null==n?void 0:n.iceGatheringTimeout:5e3,peerConnectionConfiguration:Object.assign(Object.assign({},Object(o.defaultPeerConnectionConfiguration)()),null==n?void 0:n.peerConnectionConfiguration)},a=t.userAgent.getLogger("sip.SessionDescriptionHandler");return new s.SessionDescriptionHandler(a,e,i)}}},"./node_modules/sip.js/lib/platform/web/session-description-handler/session-description-handler-factory-options.js":
/*!*************************************************************************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/session-description-handler/session-description-handler-factory-options.js ***!
      \*************************************************************************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/platform/web/session-description-handler/session-description-handler-factory.js":
/*!*****************************************************************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/session-description-handler/session-description-handler-factory.js ***!
      \*****************************************************************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/platform/web/session-description-handler/session-description-handler-options.js":
/*!*****************************************************************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/session-description-handler/session-description-handler-options.js ***!
      \*****************************************************************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/platform/web/session-description-handler/session-description-handler.js":
/*!*********************************************************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/session-description-handler/session-description-handler.js ***!
      \*********************************************************************************************************/
/*! exports provided: SessionDescriptionHandler */
function(e,t,n){"use strict";n.r(t),n.d(t,"SessionDescriptionHandler",(function(){return r}));class r{constructor(e,t,n){e.debug("SessionDescriptionHandler.constructor"),this.logger=e,this.mediaStreamFactory=t,this.sessionDescriptionHandlerConfiguration=n,this._localMediaStream=new MediaStream,this._remoteMediaStream=new MediaStream,this._peerConnection=new RTCPeerConnection(null==n?void 0:n.peerConnectionConfiguration),this.initPeerConnectionEventHandlers()}get localMediaStream(){return this._localMediaStream}get remoteMediaStream(){return this._remoteMediaStream}get dataChannel(){return this._dataChannel}get peerConnection(){return this._peerConnection}get peerConnectionDelegate(){return this._peerConnectionDelegate}set peerConnectionDelegate(e){this._peerConnectionDelegate=e}static dispatchAddTrackEvent(e,t){e.dispatchEvent(new MediaStreamTrackEvent("addtrack",{track:t}))}static dispatchRemoveTrackEvent(e,t){e.dispatchEvent(new MediaStreamTrackEvent("removetrack",{track:t}))}close(){this.logger.debug("SessionDescriptionHandler.close"),void 0!==this._peerConnection&&(this._peerConnection.getReceivers().forEach((e=>{e.track&&e.track.stop()})),this._peerConnection.getSenders().forEach((e=>{e.track&&e.track.stop()})),this._dataChannel&&this._dataChannel.close(),this._peerConnection.close(),this._peerConnection=void 0)}enableReceiverTracks(e){const t=this.peerConnection;if(!t)throw new Error("Peer connection closed.");t.getReceivers().forEach((t=>{t.track&&(t.track.enabled=e)}))}enableSenderTracks(e){const t=this.peerConnection;if(!t)throw new Error("Peer connection closed.");t.getSenders().forEach((t=>{t.track&&(t.track.enabled=e)}))}getDescription(e,t){var n,r;if(this.logger.debug("SessionDescriptionHandler.getDescription"),void 0===this._peerConnection)return Promise.reject(new Error("Peer connection closed."));this.onDataChannel=null==e?void 0:e.onDataChannel;const o=null===(n=null==e?void 0:e.offerOptions)||void 0===n?void 0:n.iceRestart,s=void 0===(null==e?void 0:e.iceGatheringTimeout)?null===(r=this.sessionDescriptionHandlerConfiguration)||void 0===r?void 0:r.iceGatheringTimeout:null==e?void 0:e.iceGatheringTimeout;return this.getLocalMediaStream(e).then((()=>this.updateDirection(e))).then((()=>this.createDataChannel(e))).then((()=>this.createLocalOfferOrAnswer(e))).then((e=>this.applyModifiers(e,t))).then((e=>this.setLocalSessionDescription(e))).then((()=>this.waitForIceGatheringComplete(o,s))).then((()=>this.getLocalSessionDescription())).then((e=>({body:e.sdp,contentType:"application/sdp"}))).catch((e=>{throw this.logger.error("SessionDescriptionHandler.getDescription failed - "+e),e}))}hasDescription(e){return this.logger.debug("SessionDescriptionHandler.hasDescription"),"application/sdp"===e}iceGatheringComplete(){this.logger.debug("SessionDescriptionHandler.iceGatheringComplete"),void 0!==this.iceGatheringCompleteTimeoutId&&(this.logger.debug("SessionDescriptionHandler.iceGatheringComplete - clearing timeout"),clearTimeout(this.iceGatheringCompleteTimeoutId),this.iceGatheringCompleteTimeoutId=void 0),void 0!==this.iceGatheringCompletePromise&&(this.logger.debug("SessionDescriptionHandler.iceGatheringComplete - resolving promise"),this.iceGatheringCompleteResolve&&this.iceGatheringCompleteResolve(),this.iceGatheringCompletePromise=void 0,this.iceGatheringCompleteResolve=void 0,this.iceGatheringCompleteReject=void 0)}sendDtmf(e,t){if(this.logger.debug("SessionDescriptionHandler.sendDtmf"),void 0===this._peerConnection)return this.logger.error("SessionDescriptionHandler.sendDtmf failed - peer connection closed"),!1;const n=this._peerConnection.getSenders();if(0===n.length)return this.logger.error("SessionDescriptionHandler.sendDtmf failed - no senders"),!1;const r=n[0].dtmf;if(!r)return this.logger.error("SessionDescriptionHandler.sendDtmf failed - no DTMF sender"),!1;const o=null==t?void 0:t.duration,s=null==t?void 0:t.interToneGap;try{r.insertDTMF(e,o,s)}catch(e){return this.logger.error(e.toString()),!1}return this.logger.log("SessionDescriptionHandler.sendDtmf sent via RTP: "+e.toString()),!0}setDescription(e,t,n){if(this.logger.debug("SessionDescriptionHandler.setDescription"),void 0===this._peerConnection)return Promise.reject(new Error("Peer connection closed."));this.onDataChannel=null==t?void 0:t.onDataChannel;const r="have-local-offer"===this._peerConnection.signalingState?"answer":"offer";return this.getLocalMediaStream(t).then((()=>this.applyModifiers({sdp:e,type:r},n))).then((e=>this.setRemoteSessionDescription(e))).catch((e=>{throw this.logger.error("SessionDescriptionHandler.setDescription failed - "+e),e}))}applyModifiers(e,t){return this.logger.debug("SessionDescriptionHandler.applyModifiers"),t&&0!==t.length?t.reduce(((e,t)=>e.then(t)),Promise.resolve(e)).then((e=>{if(this.logger.debug("SessionDescriptionHandler.applyModifiers - modified sdp"),!e.sdp||!e.type)throw new Error("Invalid SDP.");return{sdp:e.sdp,type:e.type}})):Promise.resolve(e)}createDataChannel(e){if(void 0===this._peerConnection)return Promise.reject(new Error("Peer connection closed."));if(!0!==(null==e?void 0:e.dataChannel))return Promise.resolve();if(this._dataChannel)return Promise.resolve();switch(this._peerConnection.signalingState){case"stable":this.logger.debug("SessionDescriptionHandler.createDataChannel - creating data channel");try{return this._dataChannel=this._peerConnection.createDataChannel((null==e?void 0:e.dataChannelLabel)||"",null==e?void 0:e.dataChannelOptions),this.onDataChannel&&this.onDataChannel(this._dataChannel),Promise.resolve()}catch(e){return Promise.reject(e)}case"have-remote-offer":return Promise.resolve();case"have-local-offer":case"have-local-pranswer":case"have-remote-pranswer":case"closed":default:return Promise.reject(new Error("Invalid signaling state "+this._peerConnection.signalingState))}}createLocalOfferOrAnswer(e){if(void 0===this._peerConnection)return Promise.reject(new Error("Peer connection closed."));switch(this._peerConnection.signalingState){case"stable":return this.logger.debug("SessionDescriptionHandler.createLocalOfferOrAnswer - creating SDP offer"),this._peerConnection.createOffer(null==e?void 0:e.offerOptions);case"have-remote-offer":return this.logger.debug("SessionDescriptionHandler.createLocalOfferOrAnswer - creating SDP answer"),this._peerConnection.createAnswer(null==e?void 0:e.answerOptions);case"have-local-offer":case"have-local-pranswer":case"have-remote-pranswer":case"closed":default:return Promise.reject(new Error("Invalid signaling state "+this._peerConnection.signalingState))}}getLocalMediaStream(e){if(this.logger.debug("SessionDescriptionHandler.getLocalMediaStream"),void 0===this._peerConnection)return Promise.reject(new Error("Peer connection closed."));let t=Object.assign({},null==e?void 0:e.constraints);if(this.localMediaStreamConstraints){if(t.audio=t.audio||this.localMediaStreamConstraints.audio,t.video=t.video||this.localMediaStreamConstraints.video,JSON.stringify(this.localMediaStreamConstraints.audio)===JSON.stringify(t.audio)&&JSON.stringify(this.localMediaStreamConstraints.video)===JSON.stringify(t.video))return Promise.resolve()}else void 0===t.audio&&void 0===t.video&&(t={audio:!0});return this.localMediaStreamConstraints=t,this.mediaStreamFactory(t,this,e).then((e=>this.setLocalMediaStream(e)))}setLocalMediaStream(e){if(this.logger.debug("SessionDescriptionHandler.setLocalMediaStream"),!this._peerConnection)throw new Error("Peer connection undefined.");const t=this._peerConnection,n=this._localMediaStream,o=[],s=e=>{const s=e.kind;if("audio"!==s&&"video"!==s)throw new Error(`Unknown new track kind ${s}.`);const i=t.getSenders().find((e=>e.track&&e.track.kind===s));i?o.push(new Promise((e=>{this.logger.debug(`SessionDescriptionHandler.setLocalMediaStream - replacing sender ${s} track`),e()})).then((()=>i.replaceTrack(e).then((()=>{const t=n.getTracks().find((e=>e.kind===s));t&&(t.stop(),n.removeTrack(t),r.dispatchRemoveTrackEvent(n,t)),n.addTrack(e),r.dispatchAddTrackEvent(n,e)})).catch((e=>{throw this.logger.error(`SessionDescriptionHandler.setLocalMediaStream - failed to replace sender ${s} track`),e}))))):o.push(new Promise((e=>{this.logger.debug(`SessionDescriptionHandler.setLocalMediaStream - adding sender ${s} track`),e()})).then((()=>{try{t.addTrack(e,n)}catch(e){throw this.logger.error(`SessionDescriptionHandler.setLocalMediaStream - failed to add sender ${s} track`),e}n.addTrack(e),r.dispatchAddTrackEvent(n,e)})))},i=e.getAudioTracks();i.length&&s(i[0]);const a=e.getVideoTracks();return a.length&&s(a[0]),o.reduce(((e,t)=>e.then((()=>t))),Promise.resolve())}getLocalSessionDescription(){if(this.logger.debug("SessionDescriptionHandler.getLocalSessionDescription"),void 0===this._peerConnection)return Promise.reject(new Error("Peer connection closed."));const e=this._peerConnection.localDescription;return e?Promise.resolve(e):Promise.reject(new Error("Failed to get local session description"))}setLocalSessionDescription(e){return this.logger.debug("SessionDescriptionHandler.setLocalSessionDescription"),void 0===this._peerConnection?Promise.reject(new Error("Peer connection closed.")):this._peerConnection.setLocalDescription(e)}setRemoteSessionDescription(e){if(this.logger.debug("SessionDescriptionHandler.setRemoteSessionDescription"),void 0===this._peerConnection)return Promise.reject(new Error("Peer connection closed."));const t=e.sdp;let n;switch(this._peerConnection.signalingState){case"stable":n="offer";break;case"have-local-offer":n="answer";break;case"have-local-pranswer":case"have-remote-offer":case"have-remote-pranswer":case"closed":default:return Promise.reject(new Error("Invalid signaling state "+this._peerConnection.signalingState))}return t?this._peerConnection.setRemoteDescription({sdp:t,type:n}):(this.logger.error("SessionDescriptionHandler.setRemoteSessionDescription failed - cannot set null sdp"),Promise.reject(new Error("SDP is undefined")))}setRemoteTrack(e){this.logger.debug("SessionDescriptionHandler.setRemoteTrack");const t=this._remoteMediaStream;t.getTrackById(e.id)?this.logger.debug(`SessionDescriptionHandler.setRemoteTrack - have remote ${e.kind} track`):"audio"===e.kind?(this.logger.debug(`SessionDescriptionHandler.setRemoteTrack - adding remote ${e.kind} track`),t.getAudioTracks().forEach((e=>{e.stop(),t.removeTrack(e),r.dispatchRemoveTrackEvent(t,e)})),t.addTrack(e),r.dispatchAddTrackEvent(t,e)):"video"===e.kind&&(this.logger.debug(`SessionDescriptionHandler.setRemoteTrack - adding remote ${e.kind} track`),t.getVideoTracks().forEach((e=>{e.stop(),t.removeTrack(e),r.dispatchRemoveTrackEvent(t,e)})),t.addTrack(e),r.dispatchAddTrackEvent(t,e))}updateDirection(e){if(void 0===this._peerConnection)return Promise.reject(new Error("Peer connection closed."));switch(this._peerConnection.signalingState){case"stable":this.logger.debug("SessionDescriptionHandler.updateDirection - setting offer direction");{const t=t=>{switch(t){case"inactive":case"recvonly":return(null==e?void 0:e.hold)?"inactive":"recvonly";case"sendonly":case"sendrecv":return(null==e?void 0:e.hold)?"sendonly":"sendrecv";case"stopped":return"stopped";default:throw new Error("Should never happen")}};this._peerConnection.getTransceivers().forEach((e=>{if(e.direction){const n=t(e.direction);e.direction!==n&&(e.direction=n)}}))}break;case"have-remote-offer":this.logger.debug("SessionDescriptionHandler.updateDirection - setting answer direction");{const t=(()=>{const e=this._peerConnection.remoteDescription;if(!e)throw new Error("Failed to read remote offer");const t=/a=sendrecv\r\n|a=sendonly\r\n|a=recvonly\r\n|a=inactive\r\n/.exec(e.sdp);if(t)switch(t[0]){case"a=inactive\r\n":return"inactive";case"a=recvonly\r\n":return"recvonly";case"a=sendonly\r\n":return"sendonly";case"a=sendrecv\r\n":return"sendrecv";default:throw new Error("Should never happen")}return"sendrecv"})(),n=(()=>{switch(t){case"inactive":return"inactive";case"recvonly":return"sendonly";case"sendonly":return(null==e?void 0:e.hold)?"inactive":"recvonly";case"sendrecv":return(null==e?void 0:e.hold)?"sendonly":"sendrecv";default:throw new Error("Should never happen")}})();this._peerConnection.getTransceivers().forEach((e=>{e.direction&&"stopped"!==e.direction&&e.direction!==n&&(e.direction=n)}))}break;case"have-local-offer":case"have-local-pranswer":case"have-remote-pranswer":case"closed":default:return Promise.reject(new Error("Invalid signaling state "+this._peerConnection.signalingState))}return Promise.resolve()}waitForIceGatheringComplete(e=!1,t=0){return this.logger.debug("SessionDescriptionHandler.waitForIceGatheringToComplete"),void 0===this._peerConnection?Promise.reject("Peer connection closed."):e||"complete"!==this._peerConnection.iceGatheringState?(void 0!==this.iceGatheringCompletePromise&&(this.logger.debug("SessionDescriptionHandler.waitForIceGatheringToComplete - rejecting prior waiting promise"),this.iceGatheringCompleteReject&&this.iceGatheringCompleteReject(new Error("Promise superseded.")),this.iceGatheringCompletePromise=void 0,this.iceGatheringCompleteResolve=void 0,this.iceGatheringCompleteReject=void 0),this.iceGatheringCompletePromise=new Promise(((e,n)=>{this.iceGatheringCompleteResolve=e,this.iceGatheringCompleteReject=n,t>0&&(this.logger.debug("SessionDescriptionHandler.waitForIceGatheringToComplete - timeout in "+t),this.iceGatheringCompleteTimeoutId=setTimeout((()=>{this.logger.debug("SessionDescriptionHandler.waitForIceGatheringToComplete - timeout"),this.iceGatheringComplete()}),t))})),this.iceGatheringCompletePromise):(this.logger.debug("SessionDescriptionHandler.waitForIceGatheringToComplete - already complete"),Promise.resolve())}initPeerConnectionEventHandlers(){if(this.logger.debug("SessionDescriptionHandler.initPeerConnectionEventHandlers"),!this._peerConnection)throw new Error("Peer connection undefined.");const e=this._peerConnection;e.onconnectionstatechange=t=>{var n;const r=e.connectionState;this.logger.debug(`SessionDescriptionHandler.onconnectionstatechange ${r}`),(null===(n=this._peerConnectionDelegate)||void 0===n?void 0:n.onconnectionstatechange)&&this._peerConnectionDelegate.onconnectionstatechange(t)},e.ondatachannel=e=>{var t;this.logger.debug("SessionDescriptionHandler.ondatachannel"),this._dataChannel=e.channel,this.onDataChannel&&this.onDataChannel(this._dataChannel),(null===(t=this._peerConnectionDelegate)||void 0===t?void 0:t.ondatachannel)&&this._peerConnectionDelegate.ondatachannel(e)},e.onicecandidate=e=>{var t;this.logger.debug("SessionDescriptionHandler.onicecandidate"),(null===(t=this._peerConnectionDelegate)||void 0===t?void 0:t.onicecandidate)&&this._peerConnectionDelegate.onicecandidate(e)},e.onicecandidateerror=e=>{var t;this.logger.debug("SessionDescriptionHandler.onicecandidateerror"),(null===(t=this._peerConnectionDelegate)||void 0===t?void 0:t.onicecandidateerror)&&this._peerConnectionDelegate.onicecandidateerror(e)},e.oniceconnectionstatechange=t=>{var n;const r=e.iceConnectionState;this.logger.debug(`SessionDescriptionHandler.oniceconnectionstatechange ${r}`),(null===(n=this._peerConnectionDelegate)||void 0===n?void 0:n.oniceconnectionstatechange)&&this._peerConnectionDelegate.oniceconnectionstatechange(t)},e.onicegatheringstatechange=t=>{var n;const r=e.iceGatheringState;this.logger.debug(`SessionDescriptionHandler.onicegatheringstatechange ${r}`),"complete"===r&&this.iceGatheringComplete(),(null===(n=this._peerConnectionDelegate)||void 0===n?void 0:n.onicegatheringstatechange)&&this._peerConnectionDelegate.onicegatheringstatechange(t)},e.onnegotiationneeded=e=>{var t;this.logger.debug("SessionDescriptionHandler.onnegotiationneeded"),(null===(t=this._peerConnectionDelegate)||void 0===t?void 0:t.onnegotiationneeded)&&this._peerConnectionDelegate.onnegotiationneeded(e)},e.onsignalingstatechange=t=>{var n;const r=e.signalingState;this.logger.debug(`SessionDescriptionHandler.onsignalingstatechange ${r}`),(null===(n=this._peerConnectionDelegate)||void 0===n?void 0:n.onsignalingstatechange)&&this._peerConnectionDelegate.onsignalingstatechange(t)},e.ontrack=e=>{var t;const n=e.track.kind,r=e.track.enabled?"enabled":"disabled";this.logger.debug(`SessionDescriptionHandler.ontrack ${n} ${r}`),this.setRemoteTrack(e.track),(null===(t=this._peerConnectionDelegate)||void 0===t?void 0:t.ontrack)&&this._peerConnectionDelegate.ontrack(e)}}}},"./node_modules/sip.js/lib/platform/web/session-description-handler/web-audio-session-description-handler.js":
/*!*******************************************************************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/session-description-handler/web-audio-session-description-handler.js ***!
      \*******************************************************************************************************************/
/*! exports provided: startLocalConference, WebAudioSessionDescriptionHandler */
function(e,t,n){"use strict";n.r(t),n.d(t,"startLocalConference",(function(){return o})),n.d(t,"WebAudioSessionDescriptionHandler",(function(){return s}));var r=n(
/*! ./session-description-handler.js */
"./node_modules/sip.js/lib/platform/web/session-description-handler/session-description-handler.js");function o(e){if(e.length<2)throw new Error("Start local conference requires at leaast 2 sessions.");(e=>e.map(((t,n)=>e.slice(n+1).map((e=>[t,e])))).reduce(((e,t)=>e.concat(t)),[]))(e.map((e=>e.sessionDescriptionHandler))).forEach((([e,t])=>{if(!(e instanceof s&&t instanceof s))throw new Error("Session description handler not instance of SessionManagerSessionDescriptionHandler");e.joinWith(t)}))}class s extends r.SessionDescriptionHandler{constructor(e,t,n){super(e,t,n),s.audioContext||(s.audioContext=new AudioContext)}enableSenderTracks(e){const t=this.localMediaStreamReal;if(void 0===t)throw new Error("Stream undefined.");t.getAudioTracks().forEach((t=>{t.enabled=e}))}initLocalMediaStream(e){if(!s.audioContext)throw new Error("SessionManagerSessionDescriptionHandler.audioContext undefined.");return this.localMediaStreamReal=e,this.localMediaStreamSourceNode=s.audioContext.createMediaStreamSource(e),this.localMediaStreamDestinationNode=s.audioContext.createMediaStreamDestination(),this.localMediaStreamSourceNode.connect(this.localMediaStreamDestinationNode),this.localMediaStreamDestinationNode.stream}joinWith(e){if(!s.audioContext)throw new Error("SessionManagerSessionDescriptionHandler.audioContext undefined.");const t=s.audioContext.createMediaStreamSource(this.remoteMediaStream),n=e.localMediaStreamDestinationNode;if(void 0===n)throw new Error("Peer outbound (local) stream local media stream destination is undefined.");t.connect(n);const r=s.audioContext.createMediaStreamSource(e.remoteMediaStream),o=this.localMediaStreamDestinationNode;if(void 0===o)throw new Error("Our outbound (local) stream local media stream destination is undefined.");r.connect(o)}setRealLocalMediaStream(e){if(!s.audioContext)throw new Error("SessionManagerSessionDescriptionHandler.audioContext undefined.");if(this.localMediaStreamReal){if(!this.localMediaStreamDestinationNode||!this.localMediaStreamSourceNode||!this.localMediaStreamReal)throw new Error("Local media stream undefined.");this.localMediaStreamReal=e,this.localMediaStreamSourceNode.disconnect(this.localMediaStreamDestinationNode),this.localMediaStreamSourceNode=s.audioContext.createMediaStreamSource(e),this.localMediaStreamSourceNode.connect(this.localMediaStreamDestinationNode)}else this.initLocalMediaStream(e)}}},"./node_modules/sip.js/lib/platform/web/session-manager/index.js":
/*!***********************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/session-manager/index.js ***!
      \***********************************************************************/
/*! exports provided: defaultManagedSessionFactory, SessionManager */
function(e,t,n){"use strict";n.r(t);var r=n(
/*! ./managed-session-factory-default.js */
"./node_modules/sip.js/lib/platform/web/session-manager/managed-session-factory-default.js");n.d(t,"defaultManagedSessionFactory",(function(){return r.defaultManagedSessionFactory})),n(
/*! ./managed-session-factory.js */
"./node_modules/sip.js/lib/platform/web/session-manager/managed-session-factory.js"),n(
/*! ./managed-session.js */
"./node_modules/sip.js/lib/platform/web/session-manager/managed-session.js"),n(
/*! ./session-manager-delegate.js */
"./node_modules/sip.js/lib/platform/web/session-manager/session-manager-delegate.js"),n(
/*! ./session-manager-options.js */
"./node_modules/sip.js/lib/platform/web/session-manager/session-manager-options.js");var o=n(
/*! ./session-manager.js */
"./node_modules/sip.js/lib/platform/web/session-manager/session-manager.js");n.d(t,"SessionManager",(function(){return o.SessionManager}))},"./node_modules/sip.js/lib/platform/web/session-manager/managed-session-factory-default.js":
/*!*************************************************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/session-manager/managed-session-factory-default.js ***!
      \*************************************************************************************************/
/*! exports provided: defaultManagedSessionFactory */
function(e,t,n){"use strict";function r(){return(e,t)=>({session:t,held:!1,muted:!1})}n.r(t),n.d(t,"defaultManagedSessionFactory",(function(){return r}))},"./node_modules/sip.js/lib/platform/web/session-manager/managed-session-factory.js":
/*!*****************************************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/session-manager/managed-session-factory.js ***!
      \*****************************************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/platform/web/session-manager/managed-session.js":
/*!*********************************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/session-manager/managed-session.js ***!
      \*********************************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/platform/web/session-manager/session-manager-delegate.js":
/*!******************************************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/session-manager/session-manager-delegate.js ***!
      \******************************************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/platform/web/session-manager/session-manager-options.js":
/*!*****************************************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/session-manager/session-manager-options.js ***!
      \*****************************************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/platform/web/session-manager/session-manager.js":
/*!*********************************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/session-manager/session-manager.js ***!
      \*********************************************************************************/
/*! exports provided: SessionManager */
function(e,t,n){"use strict";n.r(t),n.d(t,"SessionManager",(function(){return m}));var r=n(
/*! ../../../api/invitation.js */
"./node_modules/sip.js/lib/api/invitation.js"),o=n(
/*! ../../../api/inviter.js */
"./node_modules/sip.js/lib/api/inviter.js"),s=n(
/*! ../../../api/messager.js */
"./node_modules/sip.js/lib/api/messager.js"),i=n(
/*! ../../../api/registerer.js */
"./node_modules/sip.js/lib/api/registerer.js"),a=n(
/*! ../../../api/registerer-state.js */
"./node_modules/sip.js/lib/api/registerer-state.js"),l=n(
/*! ../../../api/exceptions/request-pending.js */
"./node_modules/sip.js/lib/api/exceptions/request-pending.js"),c=n(
/*! ../../../api/session.js */
"./node_modules/sip.js/lib/api/session.js"),u=n(
/*! ../../../api/session-state.js */
"./node_modules/sip.js/lib/api/session-state.js"),d=n(
/*! ../../../api/user-agent.js */
"./node_modules/sip.js/lib/api/user-agent.js"),p=n(
/*! ../../../api/user-agent-state.js */
"./node_modules/sip.js/lib/api/user-agent-state.js"),h=n(
/*! ../session-description-handler/session-description-handler.js */
"./node_modules/sip.js/lib/platform/web/session-description-handler/session-description-handler.js"),f=n(
/*! ../transport/transport.js */
"./node_modules/sip.js/lib/platform/web/transport/transport.js"),g=n(
/*! ./managed-session-factory-default.js */
"./node_modules/sip.js/lib/platform/web/session-manager/managed-session-factory-default.js");class m{constructor(e,t={}){this.managedSessions=[],this.attemptingReconnection=!1,this.optionsPingFailure=!1,this.optionsPingRunning=!1,this.shouldBeConnected=!1,this.shouldBeRegistered=!1,this.delegate=t.delegate,this.options=Object.assign({aor:"",autoStop:!0,delegate:{},iceStopWaitingOnServerReflexive:!1,managedSessionFactory:Object(g.defaultManagedSessionFactory)(),maxSimultaneousSessions:2,media:{},optionsPingInterval:-1,optionsPingRequestURI:"",reconnectionAttempts:3,reconnectionDelay:4,registrationRetry:!1,registrationRetryInterval:3,registerGuard:null,registererOptions:{},registererRegisterOptions:{},sendDTMFUsingSessionDescriptionHandler:!1,userAgentOptions:{}},m.stripUndefinedProperties(t));const n=Object.assign({},t.userAgentOptions);if(n.transportConstructor||(n.transportConstructor=f.Transport),n.transportOptions||(n.transportOptions={server:e}),!n.uri&&t.aor){const e=d.UserAgent.makeURI(t.aor);if(!e)throw new Error(`Failed to create valid URI from ${t.aor}`);n.uri=e}if(this.userAgent=new d.UserAgent(n),this.userAgent.delegate={onConnect:()=>{this.logger.log("Connected"),this.delegate&&this.delegate.onServerConnect&&this.delegate.onServerConnect(),this.shouldBeRegistered&&this.register(),this.options.optionsPingInterval>0&&this.optionsPingStart()},onDisconnect:async e=>{this.logger.log("Disconnected");let t=!1;this.options.optionsPingInterval>0&&(t=this.optionsPingFailure,this.optionsPingFailure=!1,this.optionsPingStop()),this.delegate&&this.delegate.onServerDisconnect&&this.delegate.onServerDisconnect(e),(e||t)&&(this.registerer&&(this.logger.log("Disposing of registerer..."),this.registerer.dispose().catch((e=>{this.logger.debug("Error occurred disposing of registerer after connection with server was lost."),this.logger.debug(e.toString())})),this.registerer=void 0),this.managedSessions.slice().map((e=>e.session)).forEach((async e=>{this.logger.log("Disposing of session..."),e.dispose().catch((e=>{this.logger.debug("Error occurred disposing of a session after connection with server was lost."),this.logger.debug(e.toString())}))})),this.shouldBeConnected&&this.attemptReconnection())},onInvite:e=>{this.logger.log(`[${e.id}] Received INVITE ManagedSession:${this.managedSessions.length}`);const t=this.options.maxSimultaneousSessions;if(0!==t&&this.managedSessions.length>=t)return this.logger.warn(`[${e.id}] Session already in progress, rejecting INVITE...`),void e.reject().then((()=>{this.logger.log(`[${e.id}] Rejected INVITE`)})).catch((t=>{this.logger.error(`[${e.id}] Failed to reject INVITE`),this.logger.error(t.toString())}));const n={sessionDescriptionHandlerOptions:{constraints:this.constraints}};this.initSession(e,n),this.delegate&&this.delegate.onCallReceived?this.delegate.onCallReceived(e):(this.logger.warn(`[${e.id}] No handler available, rejecting INVITE...`),e.reject().then((()=>{this.logger.log(`[${e.id}] Rejected INVITE`)})).catch((t=>{this.logger.error(`[${e.id}] Failed to reject INVITE`),this.logger.error(t.toString())})))},onMessage:e=>{e.accept().then((()=>{this.delegate&&this.delegate.onMessageReceived&&this.delegate.onMessageReceived(e)}))},onNotify:e=>{e.accept().then((()=>{this.delegate&&this.delegate.onNotificationReceived&&this.delegate.onNotificationReceived(e)}))}},this.registererOptions=Object.assign({},t.registererOptions),this.registererRegisterOptions=Object.assign({},t.registererRegisterOptions),this.options.registrationRetry){this.registererRegisterOptions.requestDelegate=this.registererRegisterOptions.requestDelegate||{};const e=this.registererRegisterOptions.requestDelegate.onReject;this.registererRegisterOptions.requestDelegate.onReject=t=>{e&&e(t),this.attemptRegistration()}}this.logger=this.userAgent.getLogger("sip.SessionManager"),window.addEventListener("online",(()=>{this.logger.log("Online"),this.shouldBeConnected&&this.connect()})),this.options.autoStop&&window.addEventListener("beforeunload",(async()=>{this.shouldBeConnected=!1,this.shouldBeRegistered=!1,this.userAgent.state!==p.UserAgentState.Stopped&&await this.userAgent.stop()}))}static stripUndefinedProperties(e){return Object.keys(e).reduce(((t,n)=>(void 0!==e[n]&&(t[n]=e[n]),t)),{})}getLocalMediaStream(e){const t=e.sessionDescriptionHandler;if(t){if(!(t instanceof h.SessionDescriptionHandler))throw new Error("Session description handler not instance of web SessionDescriptionHandler");return t.localMediaStream}}getRemoteMediaStream(e){const t=e.sessionDescriptionHandler;if(t){if(!(t instanceof h.SessionDescriptionHandler))throw new Error("Session description handler not instance of web SessionDescriptionHandler");return t.remoteMediaStream}}getLocalAudioTrack(e){var t;return null===(t=this.getLocalMediaStream(e))||void 0===t?void 0:t.getTracks().find((e=>"audio"===e.kind))}getLocalVideoTrack(e){var t;return null===(t=this.getLocalMediaStream(e))||void 0===t?void 0:t.getTracks().find((e=>"video"===e.kind))}getRemoteAudioTrack(e){var t;return null===(t=this.getRemoteMediaStream(e))||void 0===t?void 0:t.getTracks().find((e=>"audio"===e.kind))}getRemoteVideoTrack(e){var t;return null===(t=this.getRemoteMediaStream(e))||void 0===t?void 0:t.getTracks().find((e=>"video"===e.kind))}async connect(){return this.logger.log("Connecting UserAgent..."),this.shouldBeConnected=!0,this.userAgent.state!==p.UserAgentState.Started?this.userAgent.start():this.userAgent.reconnect()}async disconnect(){return this.logger.log("Disconnecting UserAgent..."),this.userAgent.state===p.UserAgentState.Stopped?Promise.resolve():(this.shouldBeConnected=!1,this.shouldBeRegistered=!1,this.registerer=void 0,this.userAgent.stop())}isConnected(){return this.userAgent.isConnected()}async register(e){return this.logger.log("Registering UserAgent..."),this.shouldBeRegistered=!0,void 0!==e&&(this.registererRegisterOptions=Object.assign({},e)),this.registerer||(this.registerer=new i.Registerer(this.userAgent,this.registererOptions),this.registerer.stateChange.addListener((e=>{switch(e){case a.RegistererState.Initial:break;case a.RegistererState.Registered:this.delegate&&this.delegate.onRegistered&&this.delegate.onRegistered();break;case a.RegistererState.Unregistered:if(this.delegate&&this.delegate.onUnregistered){let e=this.register.statusCode||503;this.logger.log(`[${this.id}] Registering statusCode=${e}`),this.delegate.onUnregistered(e)}this.shouldBeRegistered&&this.attemptRegistration();break;case a.RegistererState.Terminated:break;default:throw new Error("Unknown registerer state.")}}))),this.attemptRegistration(!0)}async unregister(e){return this.logger.log("Unregistering UserAgent..."),this.shouldBeRegistered=!1,this.registerer?this.registerer.unregister(e).then((()=>{})):(this.logger.warn("No registerer to unregister."),Promise.resolve())}async call(e,t,n){this.logger.log("Beginning Session...");const r=this.options.maxSimultaneousSessions;if(0!==r&&this.managedSessions.length>r)return Promise.reject(new Error("Maximum number of sessions already exists."));const s=d.UserAgent.makeURI(e);if(!s)return Promise.reject(new Error(`Failed to create a valid URI from "${e}"`));if(t||(t={}),t.sessionDescriptionHandlerOptions||(t.sessionDescriptionHandlerOptions={}),t.sessionDescriptionHandlerOptions.constraints||(t.sessionDescriptionHandlerOptions.constraints=this.constraints),t.earlyMedia){(n=n||{}).requestDelegate=n.requestDelegate||{};const e=n.requestDelegate.onProgress;n.requestDelegate.onProgress=t=>{183===t.message.statusCode&&this.setupRemoteMedia(i),e&&e(t)}}this.options.iceStopWaitingOnServerReflexive&&(t.delegate=t.delegate||{},t.delegate.onSessionDescriptionHandler=e=>{if(!(e instanceof h.SessionDescriptionHandler))throw new Error("Session description handler not instance of SessionDescriptionHandler");e.peerConnectionDelegate={onicecandidate:t=>{var n;"srflx"===(null===(n=t.candidate)||void 0===n?void 0:n.type)&&(this.logger.log(`[${i.id}] Found srflx ICE candidate, stop waiting...`),e.iceGatheringComplete())}}});const i=new o.Inviter(this.userAgent,s,t);return this.sendInvite(i,t,n).then((()=>i))}async hangup(e){return this.logger.log(`[${e.id}] Hangup...`),this.sessionExists(e)?this.terminate(e):Promise.reject(new Error("Session does not exist."))}async answer(e,t){return this.logger.log(`[${e.id}] Accepting Invitation...`),this.sessionExists(e)?e instanceof r.Invitation?(t||(t={}),t.sessionDescriptionHandlerOptions||(t.sessionDescriptionHandlerOptions={}),t.sessionDescriptionHandlerOptions.constraints||(t.sessionDescriptionHandlerOptions.constraints=this.constraints),e.accept(t)):Promise.reject(new Error("Session not instance of Invitation.")):Promise.reject(new Error("Session does not exist."))}async decline(e){return this.logger.log(`[${e.id}] Rejecting Invitation...`),this.sessionExists(e)?e instanceof r.Invitation?e.reject({statusCode:603}):Promise.reject(new Error("Session not instance of Invitation.")):Promise.reject(new Error("Session does not exist."))}async hold(e){return this.logger.log(`[${e.id}] Holding session...`),this.setHold(e,!0)}async unhold(e){return this.logger.log(`[${e.id}] Unholding session...`),this.setHold(e,!1)}isHeld(e){const t=this.sessionManaged(e);return!!t&&t.held}mute(e){this.logger.log(`[${e.id}] Disabling media tracks...`),this.setMute(e,!0)}unmute(e){this.logger.log(`[${e.id}] Enabling media tracks...`),this.setMute(e,!1)}isMuted(e){const t=this.sessionManaged(e);return!!t&&t.muted}async sendDTMF(e,t){if(this.logger.log(`[${e.id}] Sending DTMF...`),!/^[0-9A-D#*,]$/.exec(t))return Promise.reject(new Error("Invalid DTMF tone."));if(!this.sessionExists(e))return Promise.reject(new Error("Session does not exist."));if(this.logger.log(`[${e.id}] Sending DTMF tone: ${t}`),this.options.sendDTMFUsingSessionDescriptionHandler)return e.sessionDescriptionHandler?e.sessionDescriptionHandler.sendDtmf(t)?Promise.resolve():Promise.reject(new Error("Failed to send DTMF")):Promise.reject(new Error("Session desciption handler undefined."));{const n={body:{contentDisposition:"render",contentType:"application/dtmf-relay",content:"Signal="+t+"\r\nDuration=2000"}};return e.info({requestOptions:n}).then((()=>{}))}}async transfer(e,t,n){if(this.logger.log(`[${e.id}] Referring session...`),t instanceof c.Session)return e.refer(t,n).then((()=>{}));const r=d.UserAgent.makeURI(t);return r?e.refer(r,n).then((()=>{})):Promise.reject(new Error(`Failed to create a valid URI from "${t}"`))}async message(e,t){this.logger.log("Sending message...");const n=d.UserAgent.makeURI(e);return n?new s.Messager(this.userAgent,n,t).message():Promise.reject(new Error(`Failed to create a valid URI from "${e}"`))}get constraints(){let e={audio:!0,video:!1};return this.options.media.constraints&&(e=Object.assign({},this.options.media.constraints)),e}attemptReconnection(e=1){const t=this.options.reconnectionAttempts,n=this.options.reconnectionDelay;this.shouldBeConnected?(this.attemptingReconnection&&this.logger.log("Reconnection attempt already in progress"),e>t?this.logger.log("Reconnection maximum attempts reached"):(1===e?this.logger.log(`Reconnection attempt ${e} of ${t} - trying`):this.logger.log(`Reconnection attempt ${e} of ${t} - trying in ${n} seconds`),this.attemptingReconnection=!0,setTimeout((()=>{if(!this.shouldBeConnected)return this.logger.log(`Reconnection attempt ${e} of ${t} - aborted`),void(this.attemptingReconnection=!1);this.userAgent.reconnect().then((()=>{this.logger.log(`Reconnection attempt ${e} of ${t} - succeeded`),this.attemptingReconnection=!1})).catch((n=>{this.logger.log(`Reconnection attempt ${e} of ${t} - failed`),this.logger.error(n.message),this.attemptingReconnection=!1,this.attemptReconnection(++e)}))}),1===e?0:1e3*n))):this.logger.log("Should not be connected currently")}attemptRegistration(e=!1){if(this.logger.log("Registration attempt "+(e?"without delay":"")),!this.shouldBeRegistered)return this.logger.log("Should not be registered currently"),Promise.resolve();if(void 0!==this.registrationAttemptTimeout)return this.logger.log("Registration attempt already in progress"),Promise.resolve();const t=()=>this.registerer?this.isConnected()?this.userAgent.state===p.UserAgentState.Stopped?(this.logger.log("User agent stopped"),Promise.resolve()):this.options.registerGuard?this.options.registerGuard().catch((e=>{throw this.logger.log("Register guard rejected will making registration attempt"),e})).then((e=>e||!this.registerer?Promise.resolve():this.registerer.register(this.registererRegisterOptions).then((()=>{})))):this.registerer.register(this.registererRegisterOptions).then((()=>{})):(this.logger.log("User agent not connected"),Promise.resolve()):(this.logger.log("Registerer undefined"),Promise.resolve());return new Promise(((n,r)=>{this.registrationAttemptTimeout=setTimeout((()=>{t().then((()=>{this.registrationAttemptTimeout=void 0,n()})).catch((e=>{this.registrationAttemptTimeout=void 0,e instanceof l.RequestPendingError?n():r(e)}))}),e?0:(e=>{const t=2*e;return 1e3*(Math.random()*(t-e)+e)})(this.options.registrationRetryInterval))}))}cleanupMedia(e){const t=this.sessionManaged(e);if(!t)throw new Error("Managed session does not exist.");t.mediaLocal&&t.mediaLocal.video&&(t.mediaLocal.video.srcObject=null,t.mediaLocal.video.pause()),t.mediaRemote&&(t.mediaRemote.audio&&(t.mediaRemote.audio.srcObject=null,t.mediaRemote.audio.pause()),t.mediaRemote.video&&(t.mediaRemote.video.srcObject=null,t.mediaRemote.video.pause()))}enableReceiverTracks(e,t){if(!this.sessionExists(e))throw new Error("Session does not exist.");const n=e.sessionDescriptionHandler;if(!(n instanceof h.SessionDescriptionHandler))throw new Error("Session's session description handler not instance of SessionDescriptionHandler.");n.enableReceiverTracks(t)}enableSenderTracks(e,t){if(!this.sessionExists(e))throw new Error("Session does not exist.");const n=e.sessionDescriptionHandler;if(!(n instanceof h.SessionDescriptionHandler))throw new Error("Session's session description handler not instance of SessionDescriptionHandler.");n.enableSenderTracks(t)}initSession(e,t){this.sessionAdd(e),this.delegate&&this.delegate.onCallCreated&&this.delegate.onCallCreated(e),e.stateChange.addListener((t=>{switch(this.logger.log(`[${e.id}] Session state changed to ${t}`),t){case u.SessionState.Initial:case u.SessionState.Establishing:break;case u.SessionState.Established:this.setupLocalMedia(e),this.setupRemoteMedia(e),this.delegate&&this.delegate.onCallAnswered&&this.delegate.onCallAnswered(e);break;case u.SessionState.Terminating:case u.SessionState.Terminated:this.sessionExists(e)&&(this.cleanupMedia(e),this.sessionRemove(e),this.delegate&&this.delegate.onCallHangup&&this.delegate.onCallHangup(e));break;default:throw new Error("Unknown session state.")}})),e.delegate=e.delegate||{},e.delegate.onInfo=t=>{var n;if(void 0===(null===(n=this.delegate)||void 0===n?void 0:n.onCallDTMFReceived))return void t.reject();const r=t.request.getHeader("content-type");if(!r||!/^application\/dtmf-relay/i.exec(r))return void t.reject();const o=t.request.body.split("\r\n",2);if(2!==o.length)return void t.reject();let s;const i=/^(Signal\s*?=\s*?)([0-9A-D#*]{1})(\s)?.*/;if(void 0!==o[0]&&i.test(o[0])&&(s=o[0].replace(i,"$2")),!s)return void t.reject();let a;const l=/^(Duration\s?=\s?)([0-9]{1,4})(\s)?.*/;void 0!==o[1]&&l.test(o[1])&&(a=parseInt(o[1].replace(l,"$2"),10)),a?t.accept().then((()=>{if(this.delegate&&this.delegate.onCallDTMFReceived){if(!s||!a)throw new Error("Tone or duration undefined.");this.delegate.onCallDTMFReceived(e,s,a)}})).catch((e=>{this.logger.error(e.message)})):t.reject()},e.delegate.onRefer=e=>{e.accept().then((()=>this.sendInvite(e.makeInviter(t),t))).catch((e=>{this.logger.error(e.message)}))}}optionsPingRun(e,t,n){if(this.options.optionsPingInterval<1)throw new Error("Invalid options ping interval.");this.optionsPingRunning||(this.optionsPingRunning=!0,this.optionsPingTimeout=setTimeout((()=>{this.optionsPingTimeout=void 0;const r=()=>{this.optionsPingFailure=!1,this.optionsPingRunning&&(this.optionsPingRunning=!1,this.optionsPingRun(e,t,n))},o=()=>{this.logger.error("OPTIONS ping failed"),this.optionsPingFailure=!0,this.optionsPingRunning=!1,this.userAgent.transport.disconnect().catch((e=>this.logger.error(e)))},s=this.userAgent.userAgentCore,i=s.makeOutgoingRequestMessage("OPTIONS",e,t,n,{});this.optionsPingRequest=s.request(i,{onAccept:()=>{this.optionsPingRequest=void 0,r()},onReject:e=>{this.optionsPingRequest=void 0,408===e.message.statusCode||503===e.message.statusCode?o():r()}})}),1e3*this.options.optionsPingInterval))}optionsPingStart(){let e,t,n;if(this.logger.log("OPTIONS pings started"),this.options.optionsPingRequestURI){if(!(e=d.UserAgent.makeURI(this.options.optionsPingRequestURI)))throw new Error("Failed to create Request URI.");t=this.userAgent.contact.uri.clone(),n=this.userAgent.contact.uri.clone()}else{if(!this.options.aor)return void this.logger.error("You have enabled sending OPTIONS pings and as such you must provide either a) an AOR to register, or b) an RURI to use for the target of the OPTIONS ping requests. ");{const r=d.UserAgent.makeURI(this.options.aor);if(!r)throw new Error("Failed to create URI.");(e=r.clone()).user=void 0,t=r.clone(),n=r.clone()}}this.optionsPingRun(e,t,n)}optionsPingStop(){this.logger.log("OPTIONS pings stopped"),this.optionsPingRunning=!1,this.optionsPingFailure=!1,this.optionsPingRequest&&(this.optionsPingRequest.dispose(),this.optionsPingRequest=void 0),this.optionsPingTimeout&&(clearTimeout(this.optionsPingTimeout),this.optionsPingTimeout=void 0)}async sendInvite(e,t,n){return this.initSession(e,t),e.invite(n).then((()=>{this.logger.log(`[${e.id}] Sent INVITE`)}))}sessionAdd(e){const t=this.options.managedSessionFactory(this,e);this.managedSessions.push(t)}sessionExists(e){return void 0!==this.sessionManaged(e)}sessionManaged(e){return this.managedSessions.find((t=>t.session.id===e.id))}sessionRemove(e){this.managedSessions=this.managedSessions.filter((t=>t.session.id!==e.id))}async setHold(e,t){if(!this.sessionExists(e))return Promise.reject(new Error("Session does not exist."));if(this.isHeld(e)===t)return Promise.resolve();if(!(e.sessionDescriptionHandler instanceof h.SessionDescriptionHandler))throw new Error("Session's session description handler not instance of SessionDescriptionHandler.");const n={requestDelegate:{onAccept:()=>{const n=this.sessionManaged(e);void 0!==n&&(n.held=t,this.enableReceiverTracks(e,!n.held),this.enableSenderTracks(e,!n.held&&!n.muted),this.delegate&&this.delegate.onCallHold&&this.delegate.onCallHold(e,n.held))},onReject:()=>{this.logger.warn(`[${e.id}] Re-invite request was rejected`);const n=this.sessionManaged(e);void 0!==n&&(n.held=!t,this.enableReceiverTracks(e,!n.held),this.enableSenderTracks(e,!n.held&&!n.muted),this.delegate&&this.delegate.onCallHold&&this.delegate.onCallHold(e,n.held))}}},r=e.sessionDescriptionHandlerOptionsReInvite;r.hold=t,e.sessionDescriptionHandlerOptionsReInvite=r;const o=this.sessionManaged(e);if(!o)throw new Error("Managed session is undefiend.");return o.held=t,e.invite(n).then((()=>{const t=this.sessionManaged(e);void 0!==t&&(this.enableReceiverTracks(e,!t.held),this.enableSenderTracks(e,!t.held&&!t.muted))})).catch((n=>{throw o.held=!t,n instanceof l.RequestPendingError&&this.logger.error(`[${e.id}] A hold request is already in progress.`),n}))}setMute(e,t){if(!this.sessionExists(e))return void this.logger.warn(`[${e.id}] A session is required to enabled/disable media tracks`);if(e.state!==u.SessionState.Established)return void this.logger.warn(`[${e.id}] An established session is required to enable/disable media tracks`);const n=this.sessionManaged(e);void 0!==n&&(n.muted=t,this.enableSenderTracks(e,!n.held&&!n.muted))}setupLocalMedia(e){const t=this.sessionManaged(e);if(!t)throw new Error("Managed session does not exist.");const n="function"==typeof this.options.media.local?this.options.media.local(e):this.options.media.local;t.mediaLocal=n;const r=null==n?void 0:n.video;if(r){const t=this.getLocalMediaStream(e);if(!t)throw new Error("Local media stream undefiend.");r.srcObject=t,r.volume=0,r.play().catch((t=>{this.logger.error(`[${e.id}] Failed to play local media`),this.logger.error(t.message)}))}}setupRemoteMedia(e){const t=this.sessionManaged(e);if(!t)throw new Error("Managed session does not exist.");const n="function"==typeof this.options.media.remote?this.options.media.remote(e):this.options.media.remote;t.mediaRemote=n;const r=(null==n?void 0:n.video)||(null==n?void 0:n.audio);if(r){const t=this.getRemoteMediaStream(e);if(!t)throw new Error("Remote media stream undefiend.");r.autoplay=!0,r.srcObject=t,r.play().catch((t=>{this.logger.error(`[${e.id}] Failed to play remote media`),this.logger.error(t.message)})),t.onaddtrack=()=>{this.logger.log("Remote media onaddtrack"),r.load(),r.play().catch((t=>{this.logger.error(`[${e.id}] Failed to play remote media`),this.logger.error(t.message)}))}}}async terminate(e){switch(this.logger.log(`[${e.id}] Terminating...`),e.state){case u.SessionState.Initial:if(e instanceof o.Inviter)return e.cancel().then((()=>{this.logger.log(`[${e.id}] Inviter never sent INVITE (canceled)`)}));if(e instanceof r.Invitation)return e.reject().then((()=>{this.logger.log(`[${e.id}] Invitation rejected (sent 480)`)}));throw new Error("Unknown session type.");case u.SessionState.Establishing:if(e instanceof o.Inviter)return e.cancel().then((()=>{this.logger.log(`[${e.id}] Inviter canceled (sent CANCEL)`)}));if(e instanceof r.Invitation)return e.reject().then((()=>{this.logger.log(`[${e.id}] Invitation rejected (sent 480)`)}));throw new Error("Unknown session type.");case u.SessionState.Established:return e.bye().then((()=>{this.logger.log(`[${e.id}] Session ended (sent BYE)`)}));case u.SessionState.Terminating:case u.SessionState.Terminated:break;default:throw new Error("Unknown state")}return this.logger.log(`[${e.id}] Terminating in state ${e.state}, no action taken`),Promise.resolve()}}},"./node_modules/sip.js/lib/platform/web/simple-user/index.js":
/*!*******************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/simple-user/index.js ***!
      \*******************************************************************/
/*! exports provided: SimpleUser */
function(e,t,n){"use strict";n.r(t);var r=n(
/*! ./simple-user.js */
"./node_modules/sip.js/lib/platform/web/simple-user/simple-user.js");n.d(t,"SimpleUser",(function(){return r.SimpleUser})),n(
/*! ./simple-user-delegate.js */
"./node_modules/sip.js/lib/platform/web/simple-user/simple-user-delegate.js"),n(
/*! ./simple-user-options.js */
"./node_modules/sip.js/lib/platform/web/simple-user/simple-user-options.js")},"./node_modules/sip.js/lib/platform/web/simple-user/simple-user-delegate.js":
/*!**********************************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/simple-user/simple-user-delegate.js ***!
      \**********************************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/platform/web/simple-user/simple-user-options.js":
/*!*********************************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/simple-user/simple-user-options.js ***!
      \*********************************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/platform/web/simple-user/simple-user.js":
/*!*************************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/simple-user/simple-user.js ***!
      \*************************************************************************/
/*! exports provided: SimpleUser */
function(e,t,n){"use strict";n.r(t),n.d(t,"SimpleUser",(function(){return o}));var r=n(
/*! ../session-manager/session-manager.js */
"./node_modules/sip.js/lib/platform/web/session-manager/session-manager.js");class o{constructor(e,t={}){this.session=void 0,this.delegate=t.delegate,this.options=Object.assign({},t);const n={aor:this.options.aor,delegate:{onCallAnswered:()=>{var e,t;return null===(t=null===(e=this.delegate)||void 0===e?void 0:e.onCallAnswered)||void 0===t?void 0:t.call(e)},onCallCreated:e=>{var t,n;this.session=e,null===(n=null===(t=this.delegate)||void 0===t?void 0:t.onCallCreated)||void 0===n||n.call(t)},onCallReceived:()=>{var e,t;return null===(t=null===(e=this.delegate)||void 0===e?void 0:e.onCallReceived)||void 0===t?void 0:t.call(e)},onCallHangup:()=>{var e,t;this.session=void 0,(null===(e=this.delegate)||void 0===e?void 0:e.onCallHangup)&&(null===(t=this.delegate)||void 0===t||t.onCallHangup())},onCallHold:(e,t)=>{var n,r;return null===(r=null===(n=this.delegate)||void 0===n?void 0:n.onCallHold)||void 0===r?void 0:r.call(n,t)},onCallDTMFReceived:(e,t,n)=>{var r,o;return null===(o=null===(r=this.delegate)||void 0===r?void 0:r.onCallDTMFReceived)||void 0===o?void 0:o.call(r,t,n)},onMessageReceived:e=>{var t,n;return null===(n=null===(t=this.delegate)||void 0===t?void 0:t.onMessageReceived)||void 0===n?void 0:n.call(t,e.request.body)},onRegistered:()=>{var e,t;return null===(t=null===(e=this.delegate)||void 0===e?void 0:e.onRegistered)||void 0===t?void 0:t.call(e)},onUnregistered:e=>{var t,n;return null===(n=null===(t=this.delegate)||void 0===t?void 0:t.onUnregistered)||void 0===n?void 0:n.call(t,e)},onServerConnect:()=>{var e,t;return null===(t=null===(e=this.delegate)||void 0===e?void 0:e.onServerConnect)||void 0===t?void 0:t.call(e)},onServerDisconnect:()=>{var e,t;return null===(t=null===(e=this.delegate)||void 0===e?void 0:e.onServerDisconnect)||void 0===t?void 0:t.call(e)}},maxSimultaneousSessions:1,media:this.options.media,reconnectionAttempts:this.options.reconnectionAttempts,reconnectionDelay:this.options.reconnectionDelay,registererOptions:this.options.registererOptions,sendDTMFUsingSessionDescriptionHandler:this.options.sendDTMFUsingSessionDescriptionHandler,userAgentOptions:this.options.userAgentOptions};this.sessionManager=new r.SessionManager(e,n),this.logger=this.sessionManager.userAgent.getLogger("sip.SimpleUser")}get id(){return this.options.userAgentOptions&&this.options.userAgentOptions.displayName||"Anonymous"}get activeSession(){return this.session}get localMediaStream(){return this.session&&this.sessionManager.getLocalMediaStream(this.session)}get remoteMediaStream(){return this.session&&this.sessionManager.getRemoteMediaStream(this.session)}get localAudioTrack(){return this.session&&this.sessionManager.getLocalAudioTrack(this.session)}get localVideoTrack(){return this.session&&this.sessionManager.getLocalVideoTrack(this.session)}get remoteAudioTrack(){return this.session&&this.sessionManager.getRemoteAudioTrack(this.session)}get remoteVideoTrack(){return this.session&&this.sessionManager.getRemoteVideoTrack(this.session)}connect(){return this.logger.log(`[${this.id}] Connecting UserAgent...`),this.sessionManager.connect()}disconnect(){return this.logger.log(`[${this.id}] Disconnecting UserAgent...`),this.sessionManager.disconnect()}isConnected(){return this.sessionManager.isConnected()}register(e){return this.logger.log(`[${this.id}] Registering UserAgent...`),this.sessionManager.register(e)}unregister(e){return this.logger.log(`[${this.id}] Unregistering UserAgent...`),this.sessionManager.unregister(e)}call(e,t,n){return this.logger.log(`[${this.id}] Beginning Session...`),this.session?Promise.reject(new Error("Session already exists.")):this.sessionManager.call(e,t,n).then((()=>{}))}hangup(){return this.logger.log(`[${this.id}] Hangup...`),this.session?this.sessionManager.hangup(this.session).then((()=>{this.session=void 0})):Promise.reject(new Error("Session does not exist."))}answer(e){return this.logger.log(`[${this.id}] Accepting Invitation...`),this.session?this.sessionManager.answer(this.session,e):Promise.reject(new Error("Session does not exist."))}decline(){return this.logger.log(`[${this.id}] rejecting Invitation...`),this.session?this.sessionManager.decline(this.session):Promise.reject(new Error("Session does not exist."))}hold(){return this.logger.log(`[${this.id}] holding session...`),this.session?this.sessionManager.hold(this.session):Promise.reject(new Error("Session does not exist."))}unhold(){return this.logger.log(`[${this.id}] unholding session...`),this.session?this.sessionManager.unhold(this.session):Promise.reject(new Error("Session does not exist."))}isHeld(){return!!this.session&&this.sessionManager.isHeld(this.session)}mute(){return this.logger.log(`[${this.id}] disabling media tracks...`),this.session&&this.sessionManager.mute(this.session)}unmute(){return this.logger.log(`[${this.id}] enabling media tracks...`),this.session&&this.sessionManager.unmute(this.session)}isMuted(){return!!this.session&&this.sessionManager.isMuted(this.session)}sendDTMF(e){return this.logger.log(`[${this.id}] sending DTMF...`),this.session?this.sessionManager.sendDTMF(this.session,e):Promise.reject(new Error("Session does not exist."))}message(e,t){return this.logger.log(`[${this.id}] sending message...`),this.sessionManager.message(e,t)}}},"./node_modules/sip.js/lib/platform/web/transport/index.js":
/*!*****************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/transport/index.js ***!
      \*****************************************************************/
/*! exports provided: Transport */
function(e,t,n){"use strict";n.r(t);var r=n(
/*! ./transport.js */
"./node_modules/sip.js/lib/platform/web/transport/transport.js");n.d(t,"Transport",(function(){return r.Transport})),n(
/*! ./transport-options.js */
"./node_modules/sip.js/lib/platform/web/transport/transport-options.js")},"./node_modules/sip.js/lib/platform/web/transport/transport-options.js":
/*!*****************************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/transport/transport-options.js ***!
      \*****************************************************************************/
/*! no exports provided */
function(e,t,n){"use strict";n.r(t)},"./node_modules/sip.js/lib/platform/web/transport/transport.js":
/*!*********************************************************************!*\
      !*** ./node_modules/sip.js/lib/platform/web/transport/transport.js ***!
      \*********************************************************************/
/*! exports provided: Transport */
function(e,t,n){"use strict";n.r(t),n.d(t,"Transport",(function(){return a}));var r=n(
/*! ../../../api/emitter.js */
"./node_modules/sip.js/lib/api/emitter.js"),o=n(
/*! ../../../api/exceptions/state-transition.js */
"./node_modules/sip.js/lib/api/exceptions/state-transition.js"),s=n(
/*! ../../../api/transport-state.js */
"./node_modules/sip.js/lib/api/transport-state.js"),i=n(
/*! ../../../grammar/grammar.js */
"./node_modules/sip.js/lib/grammar/grammar.js");class a{constructor(e,t){if(this._state=s.TransportState.Disconnected,this.transitioningState=!1,this._stateEventEmitter=new r.EmitterImpl,this.logger=e,t){const e=t,n=null==e?void 0:e.wsServers,r=null==e?void 0:e.maxReconnectionAttempts;if(void 0!==n){const e='The transport option "wsServers" as has apparently been specified and has been deprecated. It will no longer be available starting with SIP.js release 0.16.0. Please update accordingly.';this.logger.warn(e)}if(void 0!==r){const e='The transport option "maxReconnectionAttempts" as has apparently been specified and has been deprecated. It will no longer be available starting with SIP.js release 0.16.0. Please update accordingly.';this.logger.warn(e)}n&&!t.server&&("string"==typeof n&&(t.server=n),n instanceof Array&&(t.server=n[0]))}this.configuration=Object.assign(Object.assign({},a.defaultOptions),t);const n=this.configuration.server,o=i.Grammar.parse(n,"absoluteURI");if(-1===o)throw this.logger.error(`Invalid WebSocket Server URL "${n}"`),new Error("Invalid WebSocket Server URL");if(!["wss","ws","udp"].includes(o.scheme))throw this.logger.error(`Invalid scheme in WebSocket Server URL "${n}"`),new Error("Invalid scheme in WebSocket Server URL");this._protocol=o.scheme.toUpperCase()}dispose(){return this.disconnect()}get protocol(){return this._protocol}get server(){return this.configuration.server}get state(){return this._state}get stateChange(){return this._stateEventEmitter}get ws(){return this._ws}connect(){return this._connect()}disconnect(){return this._disconnect()}isConnected(){return this.state===s.TransportState.Connected}send(e){return this._send(e)}_connect(){switch(this.logger.log(`Connecting ${this.server}`),this.state){case s.TransportState.Connecting:if(this.transitioningState)return Promise.reject(this.transitionLoopDetectedError(s.TransportState.Connecting));if(!this.connectPromise)throw new Error("Connect promise must be defined.");return this.connectPromise;case s.TransportState.Connected:if(this.transitioningState)return Promise.reject(this.transitionLoopDetectedError(s.TransportState.Connecting));if(this.connectPromise)throw new Error("Connect promise must not be defined.");return Promise.resolve();case s.TransportState.Disconnecting:case s.TransportState.Disconnected:if(this.connectPromise)throw new Error("Connect promise must not be defined.");try{this.transitionState(s.TransportState.Connecting)}catch(e){if(e instanceof o.StateTransitionError)return Promise.reject(e);throw e}break;default:throw new Error("Unknown state")}let e;try{(e=new WebSocket(this.server,"sip")).binaryType="arraybuffer",e.addEventListener("close",(t=>this.onWebSocketClose(t,e))),e.addEventListener("error",(t=>this.onWebSocketError(t,e))),e.addEventListener("open",(t=>this.onWebSocketOpen(t,e))),e.addEventListener("message",(t=>this.onWebSocketMessage(t,e))),this._ws=e}catch(e){return this._ws=void 0,this.logger.error("WebSocket construction failed."),this.logger.error(e.toString()),new Promise(((t,n)=>{this.connectResolve=t,this.connectReject=n,this.transitionState(s.TransportState.Disconnected,e)}))}return this.connectPromise=new Promise(((t,n)=>{this.connectResolve=t,this.connectReject=n,this.connectTimeout=setTimeout((()=>{this.logger.warn("Connect timed out. Exceeded time set in configuration.connectionTimeout: "+this.configuration.connectionTimeout+"s."),e.close(1e3)}),1e3*this.configuration.connectionTimeout)})),this.connectPromise}_disconnect(){switch(this.logger.log(`Disconnecting ${this.server}`),this.state){case s.TransportState.Connecting:case s.TransportState.Connected:if(this.disconnectPromise)throw new Error("Disconnect promise must not be defined.");try{this.transitionState(s.TransportState.Disconnecting)}catch(e){if(e instanceof o.StateTransitionError)return Promise.reject(e);throw e}break;case s.TransportState.Disconnecting:if(this.transitioningState)return Promise.reject(this.transitionLoopDetectedError(s.TransportState.Disconnecting));if(!this.disconnectPromise)throw new Error("Disconnect promise must be defined.");return this.disconnectPromise;case s.TransportState.Disconnected:if(this.transitioningState)return Promise.reject(this.transitionLoopDetectedError(s.TransportState.Disconnecting));if(this.disconnectPromise)throw new Error("Disconnect promise must not be defined.");return Promise.resolve();default:throw new Error("Unknown state")}if(!this._ws)throw new Error("WebSocket must be defined.");const e=this._ws;return this.disconnectPromise=new Promise(((t,n)=>{this.disconnectResolve=t,this.disconnectReject=n;try{e.close(1e3)}catch(e){throw this.logger.error("WebSocket close failed."),this.logger.error(e.toString()),e}})),this.disconnectPromise}_send(e){if(!0===this.configuration.traceSip&&this.logger.log("Sending WebSocket message:\n\n"+e+"\n"),this._state!==s.TransportState.Connected)return Promise.reject(new Error("Not connected."));if(!this._ws)throw new Error("WebSocket undefined.");try{this._ws.send(e)}catch(e){return e instanceof Error?Promise.reject(e):Promise.reject(new Error("WebSocket send failed."))}return Promise.resolve()}onWebSocketClose(e,t){if(t!==this._ws)return;const n=`WebSocket closed ${this.server} (code: ${e.code})`,r=this.disconnectPromise?void 0:new Error(n);r&&this.logger.warn("WebSocket closed unexpectedly"),this.logger.log(n),this._ws=void 0,this.transitionState(s.TransportState.Disconnected,r)}onWebSocketError(e,t){t===this._ws&&this.logger.error("WebSocket error occurred.")}onWebSocketMessage(e,t){if(t!==this._ws)return;const n=e.data;let r;if(/^(\r\n)+$/.test(n))return this.clearKeepAliveTimeout(),void(!0===this.configuration.traceSip&&this.logger.log("Received WebSocket message with CRLF Keep Alive response"));if(n){if("string"!=typeof n){try{r=(new TextDecoder).decode(new Uint8Array(n))}catch(e){return this.logger.error(e.toString()),void this.logger.error("Received WebSocket binary message failed to be converted into string, message discarded")}!0===this.configuration.traceSip&&this.logger.log("Received WebSocket binary message:\n\n"+r+"\n")}else r=n,!0===this.configuration.traceSip&&this.logger.log("Received WebSocket text message:\n\n"+r+"\n");if(this.state===s.TransportState.Connected){if(this.onMessage)try{this.onMessage(r)}catch(e){throw this.logger.error(e.toString()),this.logger.error("Exception thrown by onMessage callback"),e}}else this.logger.warn("Received message while not connected, discarding...")}else this.logger.warn("Received empty message, discarding...")}onWebSocketOpen(e,t){t===this._ws&&this._state===s.TransportState.Connecting&&(this.logger.log(`WebSocket opened ${this.server}`),this.transitionState(s.TransportState.Connected))}transitionLoopDetectedError(e){let t="A state transition loop has been detected.";return t+=` An attempt to transition from ${this._state} to ${e} before the prior transition completed.`,t+=" Perhaps you are synchronously calling connect() or disconnect() from a callback or state change handler?",this.logger.error(t),new o.StateTransitionError("Loop detected.")}transitionState(e,t){const n=()=>{throw new Error(`Invalid state transition from ${this._state} to ${e}`)};if(this.transitioningState)throw this.transitionLoopDetectedError(e);switch(this.transitioningState=!0,this._state){case s.TransportState.Connecting:e!==s.TransportState.Connected&&e!==s.TransportState.Disconnecting&&e!==s.TransportState.Disconnected&&n();break;case s.TransportState.Connected:e!==s.TransportState.Disconnecting&&e!==s.TransportState.Disconnected&&n();break;case s.TransportState.Disconnecting:e!==s.TransportState.Connecting&&e!==s.TransportState.Disconnected&&n();break;case s.TransportState.Disconnected:e!==s.TransportState.Connecting&&n();break;default:throw new Error("Unknown state.")}const r=this._state;this._state=e;const o=this.connectResolve,i=this.connectReject;r===s.TransportState.Connecting&&(this.connectPromise=void 0,this.connectResolve=void 0,this.connectReject=void 0);const a=this.disconnectResolve,l=this.disconnectReject;if(r===s.TransportState.Disconnecting&&(this.disconnectPromise=void 0,this.disconnectResolve=void 0,this.disconnectReject=void 0),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0),this.logger.log(`Transitioned from ${r} to ${this._state}`),this._stateEventEmitter.emit(this._state),e===s.TransportState.Connected&&(this.startSendingKeepAlives(),this.onConnect))try{this.onConnect()}catch(e){throw this.logger.error(e.toString()),this.logger.error("Exception thrown by onConnect callback"),e}if(r===s.TransportState.Connected&&(this.stopSendingKeepAlives(),this.onDisconnect))try{t?this.onDisconnect(t):this.onDisconnect()}catch(e){throw this.logger.error(e.toString()),this.logger.error("Exception thrown by onDisconnect callback"),e}if(r===s.TransportState.Connecting){if(!o)throw new Error("Connect resolve undefined.");if(!i)throw new Error("Connect reject undefined.");e===s.TransportState.Connected?o():i(t||new Error("Connect aborted."))}if(r===s.TransportState.Disconnecting){if(!a)throw new Error("Disconnect resolve undefined.");if(!l)throw new Error("Disconnect reject undefined.");e===s.TransportState.Disconnected?a():l(t||new Error("Disconnect aborted."))}this.transitioningState=!1}clearKeepAliveTimeout(){this.keepAliveDebounceTimeout&&clearTimeout(this.keepAliveDebounceTimeout),this.keepAliveDebounceTimeout=void 0}sendKeepAlive(){return this.keepAliveDebounceTimeout?Promise.resolve():(this.keepAliveDebounceTimeout=setTimeout((()=>{this.clearKeepAliveTimeout()}),1e3*this.configuration.keepAliveDebounce),this.send("\r\n\r\n"))}startSendingKeepAlives(){this.configuration.keepAliveInterval&&!this.keepAliveInterval&&(this.keepAliveInterval=setInterval((()=>{this.sendKeepAlive(),this.startSendingKeepAlives()}),(e=>{const t=.8*e;return 1e3*(Math.random()*(e-t)+t)})(this.configuration.keepAliveInterval)))}stopSendingKeepAlives(){this.keepAliveInterval&&clearInterval(this.keepAliveInterval),this.keepAliveDebounceTimeout&&clearTimeout(this.keepAliveDebounceTimeout),this.keepAliveInterval=void 0,this.keepAliveDebounceTimeout=void 0}}a.defaultOptions={server:"",connectionTimeout:5,keepAliveInterval:0,keepAliveDebounce:10,traceSip:!0}},"./node_modules/sip.js/lib/version.js":
/*!********************************************!*\
      !*** ./node_modules/sip.js/lib/version.js ***!
      \********************************************/
/*! exports provided: LIBRARY_VERSION */
function(e,t,n){"use strict";n.r(t),n.d(t,"LIBRARY_VERSION",(function(){return r}));const r="0.21.1"}})}))},7203:function(e){"use strict";e.exports=__WEBPACK_EXTERNAL_MODULE__7203__}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}!function(){__webpack_require__.amdO={}}(),function(){__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return __webpack_require__.d(t,{a:t}),t}}(),function(){__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){__webpack_require__.p=""}();var __webpack_exports__={};return function(){"use strict";if(__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return rP}}),"undefined"!==typeof window){var e=window.document.currentScript,t=e&&e.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);t&&(__webpack_require__.p=t[1])}var n=__webpack_require__(7203),r=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n};const o=Symbol("popper"),s=Symbol("popperContent"),i={name:"ElPopperRoot",inheritAttrs:!1},a=(0,n.defineComponent)({...i,setup(e,{expose:t}){const r=(0,n.ref)(),s=(0,n.ref)(),i=(0,n.ref)(),a=(0,n.ref)(),l={triggerRef:r,popperInstanceRef:s,contentRef:i,referenceRef:a};return t(l),(0,n.provide)(o,l),(e,t)=>(0,n.renderSlot)(e.$slots,"default")}});var l=r(a,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const c=()=>{},u=(Object.assign,Object.prototype.hasOwnProperty),d=(e,t)=>u.call(e,t),p=Array.isArray,h=e=>"function"===typeof e,f=e=>"string"===typeof e,g=e=>null!==e&&"object"===typeof e,m=Object.prototype.toString,v=e=>m.call(e),b=e=>v(e).slice(8,-1),y=e=>{const t=Object.create(null);return n=>{const r=t[n];return r||(t[n]=e(n))}},w=/-(\w)/g,S=y((e=>e.replace(w,((e,t)=>t?t.toUpperCase():"")))),C=/\B([A-Z])/g,_=y((e=>e.replace(C,"-$1").toLowerCase())),E=y((e=>e.charAt(0).toUpperCase()+e.slice(1)));y((e=>e?`on${E(e)}`:""));const k=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(null!=t?t:{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},T=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),x=e=>(e.install=c,e),R=k(l);__webpack_require__(2801),__webpack_require__(8675),__webpack_require__(7380),__webpack_require__(1118),__webpack_require__(1703);var A;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const j="undefined"!==typeof window,I=(Object.prototype.toString,e=>"boolean"===typeof e),N=e=>"number"===typeof e,O=e=>"string"===typeof e,D=()=>{};j&&(null==(A=null==window?void 0:window.navigator)?void 0:A.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function P(e,t){function n(...n){e((()=>t.apply(this,n)),{fn:t,thisArg:this,args:n})}return n}function M(e,t={}){let r,o;const s=s=>{const i=(0,n.unref)(e),a=(0,n.unref)(t.maxWait);if(r&&clearTimeout(r),i<=0||void 0!==a&&a<=0)return o&&(clearTimeout(o),o=null),s();a&&!o&&(o=setTimeout((()=>{r&&clearTimeout(r),o=null,s()}),a)),r=setTimeout((()=>{o&&clearTimeout(o),o=null,s()}),i)};return s}function L(e){return!!(0,n.getCurrentScope)()&&((0,n.onScopeDispose)(e),!0)}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function $(e,t=200,n={}){return P(M(t,n),e)}function B(e,t=200,r={}){if(t<=0)return e;const o=(0,n.ref)(e.value),s=$((()=>{o.value=e.value}),t,r);return(0,n.watch)(e,(()=>s())),o}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function H(e,t,r={}){const{immediate:o=!0}=r,s=(0,n.ref)(!1);let i=null;function a(){i&&(clearTimeout(i),i=null)}function l(){s.value=!1,a()}function c(...r){a(),s.value=!0,i=setTimeout((()=>{s.value=!1,i=null,e(...r)}),(0,n.unref)(t))}return o&&(s.value=!0,j&&c()),L(l),{isPending:s,start:c,stop:l}}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function U(e){var t;const r=(0,n.unref)(e);return null!=(t=null==r?void 0:r.$el)?t:r}const V=j?window:void 0;j&&window.document,j&&window.navigator,j&&window.location;function F(...e){let t,r,o,s;if(O(e[0])?([r,o,s]=e,t=V):[t,r,o,s]=e,!t)return D;let i=D;const a=(0,n.watch)((()=>U(t)),(e=>{i(),e&&(e.addEventListener(r,o,s),i=()=>{e.removeEventListener(r,o,s),i=D})}),{immediate:!0,flush:"post"}),l=()=>{a(),i()};return L(l),l}function q(e,t,r={}){const{window:o=V,ignore:s,capture:i=!0,detectIframe:a=!1}=r;if(!o)return;const l=(0,n.ref)(!0);let c;const u=n=>{o.clearTimeout(c);const r=U(e),i=n.composedPath();r&&r!==n.target&&!i.includes(r)&&l.value&&(s&&s.length>0&&s.some((e=>{const t=U(e);return t&&(n.target===t||i.includes(t))}))||t(n))},d=[F(o,"click",u,{passive:!0,capture:i}),F(o,"pointerdown",(t=>{const n=U(e);l.value=!!n&&!t.composedPath().includes(n)}),{passive:!0}),F(o,"pointerup",(e=>{if(0===e.button){const t=e.composedPath();e.composedPath=()=>t,c=o.setTimeout((()=>u(e)),50)}}),{passive:!0}),a&&F(o,"blur",(n=>{var r;const o=U(e);"IFRAME"!==(null==(r=document.activeElement)?void 0:r.tagName)||(null==o?void 0:o.contains(document.activeElement))||t(n)}))].filter(Boolean),p=()=>d.forEach((e=>e()));return p}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const z="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},W="__vueuse_ssr_handlers__";z[W]=z[W]||{};z[W];Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var Y=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,X=(e,t)=>{var n={};for(var r in e)G.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Y)for(var r of Y(e))t.indexOf(r)<0&&K.call(e,r)&&(n[r]=e[r]);return n};function J(e,t,r={}){const o=r,{window:s=V}=o,i=X(o,["window"]);let a;const l=s&&"ResizeObserver"in s,c=()=>{a&&(a.disconnect(),a=void 0)},u=(0,n.watch)((()=>U(e)),(e=>{c(),l&&s&&e&&(a=new ResizeObserver(t),a.observe(e,i))}),{immediate:!0,flush:"post"}),d=()=>{c(),u()};return L(d),{isSupported:l,stop:d}}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;new Map;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var Z;(function(e){e["UP"]="UP",e["RIGHT"]="RIGHT",e["DOWN"]="DOWN",e["LEFT"]="LEFT",e["NONE"]="NONE"})(Z||(Z={}));Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function Q(e){var t=-1,n=null==e?0:e.length,r={};while(++t<n){var o=e[t];r[o[0]]=o[1]}return r}var ee=Q;const te=Symbol(),ne="__elPropsReservedKey";function re(e,t){if(!g(e)||e[ne])return e;const{values:r,required:o,default:s,type:i,validator:a}=e,l=r||a?o=>{let i=!1,l=[];if(r&&(l=Array.from(r),d(e,"default")&&l.push(s),i||(i=l.includes(o))),a&&(i||(i=a(o))),!i&&l.length>0){const e=[...new Set(l)].map((e=>JSON.stringify(e))).join(", ");(0,n.warn)(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${e}], got value ${JSON.stringify(o)}.`)}return i}:void 0,c={type:g(i)&&Object.getOwnPropertySymbols(i).includes(te)?i[te]:i,required:!!o,validator:l,[ne]:!0};return d(e,"default")&&(c.default=s),c}const oe=e=>ee(Object.entries(e).map((([e,t])=>[e,re(t,e)]))),se=e=>({[te]:e});function ie(){let e;const t=(t,r)=>{n(),e=window.setTimeout(t,r)},n=()=>window.clearTimeout(e);return L((()=>n())),{registerTimeout:t,cancelTimeout:n}}const ae=oe({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200}}),le=({showAfter:e,hideAfter:t,open:r,close:o})=>{const{registerTimeout:s}=ie(),i=()=>{s((()=>{r()}),(0,n.unref)(e))},a=()=>{s((()=>{o()}),(0,n.unref)(t))};return{onOpen:i,onClose:a}};var ce="top",ue="bottom",de="right",pe="left",he="auto",fe=[ce,ue,de,pe],ge="start",me="end",ve="clippingParents",be="viewport",ye="popper",we="reference",Se=fe.reduce((function(e,t){return e.concat([t+"-"+ge,t+"-"+me])}),[]),Ce=[].concat(fe,[he]).reduce((function(e,t){return e.concat([t,t+"-"+ge,t+"-"+me])}),[]),_e="beforeRead",Ee="read",ke="afterRead",Te="beforeMain",xe="main",Re="afterMain",Ae="beforeWrite",je="write",Ie="afterWrite",Ne=[_e,Ee,ke,Te,xe,Re,Ae,je,Ie];function Oe(e){return e?(e.nodeName||"").toLowerCase():null}function De(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Pe(e){var t=De(e).Element;return e instanceof t||e instanceof Element}function Me(e){var t=De(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Le(e){if("undefined"==typeof ShadowRoot)return!1;var t=De(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function $e(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];!Me(o)||!Oe(o)||(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))}function Be(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]),i=s.reduce((function(e,t){return e[t]="",e}),{});!Me(r)||!Oe(r)||(Object.assign(r.style,i),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}}var He={name:"applyStyles",enabled:!0,phase:"write",fn:$e,effect:Be,requires:["computeStyles"]};function Ue(e){return e.split("-")[0]}var Ve=Math.max,Fe=Math.min,qe=Math.round;function ze(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,o=1;if(Me(e)&&t){var s=e.offsetHeight,i=e.offsetWidth;i>0&&(r=qe(n.width)/i||1),s>0&&(o=qe(n.height)/s||1)}return{width:n.width/r,height:n.height/o,top:n.top/o,right:n.right/r,bottom:n.bottom/o,left:n.left/r,x:n.left/r,y:n.top/o}}function We(e){var t=ze(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Ye(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Le(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ge(e){return De(e).getComputedStyle(e)}function Ke(e){return["table","td","th"].indexOf(Oe(e))>=0}function Xe(e){return((Pe(e)?e.ownerDocument:e.document)||window.document).documentElement}function Je(e){return"html"===Oe(e)?e:e.assignedSlot||e.parentNode||(Le(e)?e.host:null)||Xe(e)}function Ze(e){return Me(e)&&"fixed"!==Ge(e).position?e.offsetParent:null}function Qe(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),n=-1!==navigator.userAgent.indexOf("Trident");if(n&&Me(e)){var r=Ge(e);if("fixed"===r.position)return null}var o=Je(e);for(Le(o)&&(o=o.host);Me(o)&&["html","body"].indexOf(Oe(o))<0;){var s=Ge(o);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||t&&"filter"===s.willChange||t&&s.filter&&"none"!==s.filter)return o;o=o.parentNode}return null}function et(e){for(var t=De(e),n=Ze(e);n&&Ke(n)&&"static"===Ge(n).position;)n=Ze(n);return n&&("html"===Oe(n)||"body"===Oe(n)&&"static"===Ge(n).position)?t:n||Qe(e)||t}function tt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function nt(e,t,n){return Ve(e,Fe(t,n))}function rt(e,t,n){var r=nt(e,t,n);return r>n?n:r}function ot(){return{top:0,right:0,bottom:0,left:0}}function st(e){return Object.assign({},ot(),e)}function it(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var at=function(e,t){return e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e,st("number"!=typeof e?e:it(e,fe))};function lt(e){var t,n=e.state,r=e.name,o=e.options,s=n.elements.arrow,i=n.modifiersData.popperOffsets,a=Ue(n.placement),l=tt(a),c=[pe,de].indexOf(a)>=0,u=c?"height":"width";if(s&&i){var d=at(o.padding,n),p=We(s),h="y"===l?ce:pe,f="y"===l?ue:de,g=n.rects.reference[u]+n.rects.reference[l]-i[l]-n.rects.popper[u],m=i[l]-n.rects.reference[l],v=et(s),b=v?"y"===l?v.clientHeight||0:v.clientWidth||0:0,y=g/2-m/2,w=d[h],S=b-p[u]-d[f],C=b/2-p[u]/2+y,_=nt(w,C,S),E=l;n.modifiersData[r]=(t={},t[E]=_,t.centerOffset=_-C,t)}}function ct(e){var t=e.state,n=e.options,r=n.element,o=void 0===r?"[data-popper-arrow]":r;null!=o&&("string"==typeof o&&(o=t.elements.popper.querySelector(o),!o)||!Ye(t.elements.popper,o)||(t.elements.arrow=o))}var ut={name:"arrow",enabled:!0,phase:"main",fn:lt,effect:ct,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function dt(e){return e.split("-")[1]}var pt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ht(e){var t=e.x,n=e.y,r=window,o=r.devicePixelRatio||1;return{x:qe(t*o)/o||0,y:qe(n*o)/o||0}}function ft(e){var t,n=e.popper,r=e.popperRect,o=e.placement,s=e.variation,i=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,p=i.x,h=void 0===p?0:p,f=i.y,g=void 0===f?0:f,m="function"==typeof u?u({x:h,y:g}):{x:h,y:g};h=m.x,g=m.y;var v=i.hasOwnProperty("x"),b=i.hasOwnProperty("y"),y=pe,w=ce,S=window;if(c){var C=et(n),_="clientHeight",E="clientWidth";if(C===De(n)&&(C=Xe(n),"static"!==Ge(C).position&&"absolute"===a&&(_="scrollHeight",E="scrollWidth")),o===ce||(o===pe||o===de)&&s===me){w=ue;var k=d&&C===S&&S.visualViewport?S.visualViewport.height:C[_];g-=k-r.height,g*=l?1:-1}if(o===pe||(o===ce||o===ue)&&s===me){y=de;var T=d&&C===S&&S.visualViewport?S.visualViewport.width:C[E];h-=T-r.width,h*=l?1:-1}}var x,R=Object.assign({position:a},c&&pt),A=!0===u?ht({x:h,y:g}):{x:h,y:g};return h=A.x,g=A.y,l?Object.assign({},R,(x={},x[w]=b?"0":"",x[y]=v?"0":"",x.transform=(S.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",x)):Object.assign({},R,(t={},t[w]=b?g+"px":"",t[y]=v?h+"px":"",t.transform="",t))}function gt(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,s=n.adaptive,i=void 0===s||s,a=n.roundOffsets,l=void 0===a||a,c={placement:Ue(t.placement),variation:dt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ft(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ft(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var mt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:gt,data:{}},vt={passive:!0};function bt(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,s=void 0===o||o,i=r.resize,a=void 0===i||i,l=De(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach((function(e){e.addEventListener("scroll",n.update,vt)})),a&&l.addEventListener("resize",n.update,vt),function(){s&&c.forEach((function(e){e.removeEventListener("scroll",n.update,vt)})),a&&l.removeEventListener("resize",n.update,vt)}}var yt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:bt,data:{}},wt={left:"right",right:"left",bottom:"top",top:"bottom"};function St(e){return e.replace(/left|right|bottom|top/g,(function(e){return wt[e]}))}var Ct={start:"end",end:"start"};function _t(e){return e.replace(/start|end/g,(function(e){return Ct[e]}))}function Et(e){var t=De(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function kt(e){return ze(Xe(e)).left+Et(e).scrollLeft}function Tt(e){var t=De(e),n=Xe(e),r=t.visualViewport,o=n.clientWidth,s=n.clientHeight,i=0,a=0;return r&&(o=r.width,s=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(i=r.offsetLeft,a=r.offsetTop)),{width:o,height:s,x:i+kt(e),y:a}}function xt(e){var t,n=Xe(e),r=Et(e),o=null==(t=e.ownerDocument)?void 0:t.body,s=Ve(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),i=Ve(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+kt(e),l=-r.scrollTop;return"rtl"===Ge(o||n).direction&&(a+=Ve(n.clientWidth,o?o.clientWidth:0)-s),{width:s,height:i,x:a,y:l}}function Rt(e){var t=Ge(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function At(e){return["html","body","#document"].indexOf(Oe(e))>=0?e.ownerDocument.body:Me(e)&&Rt(e)?e:At(Je(e))}function jt(e,t){var n;void 0===t&&(t=[]);var r=At(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),s=De(r),i=o?[s].concat(s.visualViewport||[],Rt(r)?r:[]):r,a=t.concat(i);return o?a:a.concat(jt(Je(i)))}function It(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Nt(e){var t=ze(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function Ot(e,t){return t===be?It(Tt(e)):Pe(t)?Nt(t):It(xt(Xe(e)))}function Dt(e){var t=jt(Je(e)),n=["absolute","fixed"].indexOf(Ge(e).position)>=0,r=n&&Me(e)?et(e):e;return Pe(r)?t.filter((function(e){return Pe(e)&&Ye(e,r)&&"body"!==Oe(e)})):[]}function Pt(e,t,n){var r="clippingParents"===t?Dt(e):[].concat(t),o=[].concat(r,[n]),s=o[0],i=o.reduce((function(t,n){var r=Ot(e,n);return t.top=Ve(r.top,t.top),t.right=Fe(r.right,t.right),t.bottom=Fe(r.bottom,t.bottom),t.left=Ve(r.left,t.left),t}),Ot(e,s));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function Mt(e){var t,n=e.reference,r=e.element,o=e.placement,s=o?Ue(o):null,i=o?dt(o):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(s){case ce:t={x:a,y:n.y-r.height};break;case ue:t={x:a,y:n.y+n.height};break;case de:t={x:n.x+n.width,y:l};break;case pe:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=s?tt(s):null;if(null!=c){var u="y"===c?"height":"width";switch(i){case ge:t[c]=t[c]-(n[u]/2-r[u]/2);break;case me:t[c]=t[c]+(n[u]/2-r[u]/2);break}}return t}function Lt(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,s=n.boundary,i=void 0===s?ve:s,a=n.rootBoundary,l=void 0===a?be:a,c=n.elementContext,u=void 0===c?ye:c,d=n.altBoundary,p=void 0!==d&&d,h=n.padding,f=void 0===h?0:h,g=st("number"!=typeof f?f:it(f,fe)),m=u===ye?we:ye,v=e.rects.popper,b=e.elements[p?m:u],y=Pt(Pe(b)?b:b.contextElement||Xe(e.elements.popper),i,l),w=ze(e.elements.reference),S=Mt({reference:w,element:v,strategy:"absolute",placement:o}),C=It(Object.assign({},v,S)),_=u===ye?C:w,E={top:y.top-_.top+g.top,bottom:_.bottom-y.bottom+g.bottom,left:y.left-_.left+g.left,right:_.right-y.right+g.right},k=e.modifiersData.offset;if(u===ye&&k){var T=k[o];Object.keys(E).forEach((function(e){var t=[de,ue].indexOf(e)>=0?1:-1,n=[ce,ue].indexOf(e)>=0?"y":"x";E[e]+=T[n]*t}))}return E}function $t(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,s=n.rootBoundary,i=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?Ce:l,u=dt(r),d=u?a?Se:Se.filter((function(e){return dt(e)===u})):fe,p=d.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=d);var h=p.reduce((function(t,n){return t[n]=Lt(e,{placement:n,boundary:o,rootBoundary:s,padding:i})[Ue(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}function Bt(e){if(Ue(e)===he)return[];var t=St(e);return[_t(e),t,_t(t)]}function Ht(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,s=void 0===o||o,i=n.altAxis,a=void 0===i||i,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,p=n.altBoundary,h=n.flipVariations,f=void 0===h||h,g=n.allowedAutoPlacements,m=t.options.placement,v=Ue(m),b=v===m,y=l||(b||!f?[St(m)]:Bt(m)),w=[m].concat(y).reduce((function(e,n){return e.concat(Ue(n)===he?$t(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:g}):n)}),[]),S=t.rects.reference,C=t.rects.popper,_=new Map,E=!0,k=w[0],T=0;T<w.length;T++){var x=w[T],R=Ue(x),A=dt(x)===ge,j=[ce,ue].indexOf(R)>=0,I=j?"width":"height",N=Lt(t,{placement:x,boundary:u,rootBoundary:d,altBoundary:p,padding:c}),O=j?A?de:pe:A?ue:ce;S[I]>C[I]&&(O=St(O));var D=St(O),P=[];if(s&&P.push(N[R]<=0),a&&P.push(N[O]<=0,N[D]<=0),P.every((function(e){return e}))){k=x,E=!1;break}_.set(x,P)}if(E)for(var M=f?3:1,L=function(e){var t=w.find((function(t){var n=_.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return k=t,"break"},$=M;$>0;$--){var B=L($);if("break"===B)break}t.placement!==k&&(t.modifiersData[r]._skip=!0,t.placement=k,t.reset=!0)}}var Ut={name:"flip",enabled:!0,phase:"main",fn:Ht,requiresIfExists:["offset"],data:{_skip:!1}};function Vt(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Ft(e){return[ce,de,ue,pe].some((function(t){return e[t]>=0}))}function qt(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,s=t.modifiersData.preventOverflow,i=Lt(t,{elementContext:"reference"}),a=Lt(t,{altBoundary:!0}),l=Vt(i,r),c=Vt(a,o,s),u=Ft(l),d=Ft(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var zt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:qt};function Wt(e,t,n){var r=Ue(e),o=[pe,ce].indexOf(r)>=0?-1:1,s="function"==typeof n?n(Object.assign({},t,{placement:e})):n,i=s[0],a=s[1];return i=i||0,a=(a||0)*o,[pe,de].indexOf(r)>=0?{x:a,y:i}:{x:i,y:a}}function Yt(e){var t=e.state,n=e.options,r=e.name,o=n.offset,s=void 0===o?[0,0]:o,i=Ce.reduce((function(e,n){return e[n]=Wt(n,t.rects,s),e}),{}),a=i[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=i}var Gt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Yt};function Kt(e){var t=e.state,n=e.name;t.modifiersData[n]=Mt({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Xt={name:"popperOffsets",enabled:!0,phase:"read",fn:Kt,data:{}};function Jt(e){return"x"===e?"y":"x"}function Zt(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,s=void 0===o||o,i=n.altAxis,a=void 0!==i&&i,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,p=n.tether,h=void 0===p||p,f=n.tetherOffset,g=void 0===f?0:f,m=Lt(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=Ue(t.placement),b=dt(t.placement),y=!b,w=tt(v),S=Jt(w),C=t.modifiersData.popperOffsets,_=t.rects.reference,E=t.rects.popper,k="function"==typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,T="number"==typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),x=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,R={x:0,y:0};if(C){if(s){var A,j="y"===w?ce:pe,I="y"===w?ue:de,N="y"===w?"height":"width",O=C[w],D=O+m[j],P=O-m[I],M=h?-E[N]/2:0,L=b===ge?_[N]:E[N],$=b===ge?-E[N]:-_[N],B=t.elements.arrow,H=h&&B?We(B):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:ot(),V=U[j],F=U[I],q=nt(0,_[N],H[N]),z=y?_[N]/2-M-q-V-T.mainAxis:L-q-V-T.mainAxis,W=y?-_[N]/2+M+q+F+T.mainAxis:$+q+F+T.mainAxis,Y=t.elements.arrow&&et(t.elements.arrow),G=Y?"y"===w?Y.clientTop||0:Y.clientLeft||0:0,K=null!=(A=null==x?void 0:x[w])?A:0,X=O+z-K-G,J=O+W-K,Z=nt(h?Fe(D,X):D,O,h?Ve(P,J):P);C[w]=Z,R[w]=Z-O}if(a){var Q,ee="x"===w?ce:pe,te="x"===w?ue:de,ne=C[S],re="y"===S?"height":"width",oe=ne+m[ee],se=ne-m[te],ie=-1!==[ce,pe].indexOf(v),ae=null!=(Q=null==x?void 0:x[S])?Q:0,le=ie?oe:ne-_[re]-E[re]-ae+T.altAxis,he=ie?ne+_[re]+E[re]-ae-T.altAxis:se,fe=h&&ie?rt(le,ne,he):nt(h?le:oe,ne,h?he:se);C[S]=fe,R[S]=fe-ne}t.modifiersData[r]=R}}var Qt={name:"preventOverflow",enabled:!0,phase:"main",fn:Zt,requiresIfExists:["offset"]};function en(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function tn(e){return e!==De(e)&&Me(e)?en(e):Et(e)}function nn(e){var t=e.getBoundingClientRect(),n=qe(t.width)/e.offsetWidth||1,r=qe(t.height)/e.offsetHeight||1;return 1!==n||1!==r}function rn(e,t,n){void 0===n&&(n=!1);var r=Me(t),o=Me(t)&&nn(t),s=Xe(t),i=ze(e,o),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==Oe(t)||Rt(s))&&(a=tn(t)),Me(t)?(l=ze(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=kt(s))),{x:i.left+a.scrollLeft-l.x,y:i.top+a.scrollTop-l.y,width:i.width,height:i.height}}function on(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name);var s=[].concat(e.requires||[],e.requiresIfExists||[]);s.forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function sn(e){var t=on(e);return Ne.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}function an(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}function ln(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}var cn={placement:"bottom",modifiers:[],strategy:"absolute"};function un(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function dn(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,s=void 0===o?cn:o;return function(e,t,n){void 0===n&&(n=s);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},cn,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},i=[],a=!1,l={state:o,setOptions:function(n){var i="function"==typeof n?n(o.options):n;u(),o.options=Object.assign({},s,o.options,i),o.scrollParents={reference:Pe(e)?jt(e):e.contextElement?jt(e.contextElement):[],popper:jt(t)};var a=sn(ln([].concat(r,o.options.modifiers)));return o.orderedModifiers=a.filter((function(e){return e.enabled})),c(),l.update()},forceUpdate:function(){if(!a){var e=o.elements,t=e.reference,n=e.popper;if(un(t,n)){o.rects={reference:rn(t,et(n),"fixed"===o.options.strategy),popper:We(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var s=o.orderedModifiers[r],i=s.fn,c=s.options,u=void 0===c?{}:c,d=s.name;"function"==typeof i&&(o=i({state:o,options:u,name:d,instance:l})||o)}else o.reset=!1,r=-1}}},update:an((function(){return new Promise((function(e){l.forceUpdate(),e(o)}))})),destroy:function(){u(),a=!0}};if(!un(e,t))return l;function c(){o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,s=e.effect;if("function"==typeof s){var a=s({state:o,name:t,instance:l,options:r}),c=function(){};i.push(a||c)}}))}function u(){i.forEach((function(e){return e()})),i=[]}return l.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}dn();var pn=[yt,Xt,mt,He],hn=(dn({defaultModifiers:pn}),[yt,Xt,mt,He,Gt,Ut,Qt,ut,zt]),fn=dn({defaultModifiers:hn});const gn=["fixed","absolute"],mn=oe({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:se(Array),default:()=>[]},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Ce,default:"bottom"},popperOptions:{type:se(Object),default:()=>({})},strategy:{type:String,values:gn,default:"absolute"}}),vn=oe({...mn,style:{type:se([String,Array,Object])},className:{type:se([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,popperClass:{type:se([String,Array,Object])},popperStyle:{type:se([String,Array,Object])},referenceEl:{type:se(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},zIndex:Number}),bn=()=>Math.floor(1e4*Math.random());let yn;const wn=`el-popper-container-${bn()}`,Sn=`#${wn}`,Cn=()=>{const e=document.createElement("div");return e.id=wn,document.body.appendChild(e),e},_n=()=>{(0,n.onBeforeMount)((()=>{j&&(yn&&document.body.querySelector(Sn)||(yn=Cn()))}))},En=oe({virtualRef:{type:se(Object)},virtualTriggering:Boolean,onMouseenter:Function,onMouseleave:Function,onClick:Function,onKeydown:Function,onFocus:Function,onBlur:Function,onContextmenu:Function,id:String,open:Boolean}),kn=oe({...ae,...vn,appendTo:{type:se([String,Object]),default:Sn},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:se(Boolean),default:null},transition:{type:String,default:"el-fade-in-linear"},teleported:{type:Boolean,default:!0},disabled:{type:Boolean}}),Tn=oe({...En,disabled:Boolean,trigger:{type:se([String,Array]),default:"hover"}}),xn=oe({openDelay:{type:Number},visibleArrow:{type:Boolean,default:void 0},hideAfter:{type:Number,default:200},showArrow:{type:Boolean,default:!0}}),Rn=Symbol("elTooltip"),An=(e,t)=>{const{placement:n,strategy:r,popperOptions:o}=e,s={placement:n,strategy:r,...o,modifiers:In(e)};return Nn(s,t),On(s,null==o?void 0:o.modifiers),s},jn=e=>{if(j)return U(e)};function In(e){const{offset:t,gpuAcceleration:n,fallbackPlacements:r}=e;return[{name:"offset",options:{offset:[0,null!=t?t:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:null!=r?r:[]}},{name:"computeStyles",options:{gpuAcceleration:n,adaptive:n}}]}function Nn(e,{arrowEl:t,arrowOffset:n}){e.modifiers.push({name:"arrow",options:{element:t,padding:null!=n?n:5}})}function On(e,t){t&&(e.modifiers=[...e.modifiers,...null!=t?t:[]])}const Dn=Symbol("formContextKey"),Pn=Symbol("formItemContextKey"),Mn=Symbol();class Ln extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function $n(e,t){throw new Ln(`[${e}] ${t}`)}function Bn(e,t){0}var Hn=Array.isArray,Un=Hn,Vn="object"==typeof global&&global&&global.Object===Object&&global,Fn=Vn,qn="object"==typeof self&&self&&self.Object===Object&&self,zn=Fn||qn||Function("return this")(),Wn=zn,Yn=Wn.Symbol,Gn=Yn,Kn=Object.prototype,Xn=Kn.hasOwnProperty,Jn=Kn.toString,Zn=Gn?Gn.toStringTag:void 0;function Qn(e){var t=Xn.call(e,Zn),n=e[Zn];try{e[Zn]=void 0;var r=!0}catch(s){}var o=Jn.call(e);return r&&(t?e[Zn]=n:delete e[Zn]),o}var er=Qn,tr=Object.prototype,nr=tr.toString;function rr(e){return nr.call(e)}var or=rr,sr="[object Null]",ir="[object Undefined]",ar=Gn?Gn.toStringTag:void 0;function lr(e){return null==e?void 0===e?ir:sr:ar&&ar in Object(e)?er(e):or(e)}var cr=lr;function ur(e){return null!=e&&"object"==typeof e}var dr=ur,pr="[object Symbol]";function hr(e){return"symbol"==typeof e||dr(e)&&cr(e)==pr}var fr=hr,gr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mr=/^\w*$/;function vr(e,t){if(Un(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!fr(e))||(mr.test(e)||!gr.test(e)||null!=t&&e in Object(t))}var br=vr;function yr(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var wr=yr,Sr="[object AsyncFunction]",Cr="[object Function]",_r="[object GeneratorFunction]",Er="[object Proxy]";function kr(e){if(!wr(e))return!1;var t=cr(e);return t==Cr||t==_r||t==Sr||t==Er}var Tr=kr,xr=Wn["__core-js_shared__"],Rr=xr,Ar=function(){var e=/[^.]+$/.exec(Rr&&Rr.keys&&Rr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function jr(e){return!!Ar&&Ar in e}var Ir=jr,Nr=Function.prototype,Or=Nr.toString;function Dr(e){if(null!=e){try{return Or.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var Pr=Dr,Mr=/[\\^$.*+?()[\]{}|]/g,Lr=/^\[object .+?Constructor\]$/,$r=Function.prototype,Br=Object.prototype,Hr=$r.toString,Ur=Br.hasOwnProperty,Vr=RegExp("^"+Hr.call(Ur).replace(Mr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Fr(e){if(!wr(e)||Ir(e))return!1;var t=Tr(e)?Vr:Lr;return t.test(Pr(e))}var qr=Fr;function zr(e,t){return null==e?void 0:e[t]}var Wr=zr;function Yr(e,t){var n=Wr(e,t);return qr(n)?n:void 0}var Gr=Yr,Kr=Gr(Object,"create"),Xr=Kr;function Jr(){this.__data__=Xr?Xr(null):{},this.size=0}var Zr=Jr;function Qr(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var eo=Qr,to="__lodash_hash_undefined__",no=Object.prototype,ro=no.hasOwnProperty;function oo(e){var t=this.__data__;if(Xr){var n=t[e];return n===to?void 0:n}return ro.call(t,e)?t[e]:void 0}var so=oo,io=Object.prototype,ao=io.hasOwnProperty;function lo(e){var t=this.__data__;return Xr?void 0!==t[e]:ao.call(t,e)}var co=lo,uo="__lodash_hash_undefined__";function po(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Xr&&void 0===t?uo:t,this}var ho=po;function fo(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}fo.prototype.clear=Zr,fo.prototype["delete"]=eo,fo.prototype.get=so,fo.prototype.has=co,fo.prototype.set=ho;var go=fo;function mo(){this.__data__=[],this.size=0}var vo=mo;function bo(e,t){return e===t||e!==e&&t!==t}var yo=bo;function wo(e,t){var n=e.length;while(n--)if(yo(e[n][0],t))return n;return-1}var So=wo,Co=Array.prototype,_o=Co.splice;function Eo(e){var t=this.__data__,n=So(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():_o.call(t,n,1),--this.size,!0}var ko=Eo;function To(e){var t=this.__data__,n=So(t,e);return n<0?void 0:t[n][1]}var xo=To;function Ro(e){return So(this.__data__,e)>-1}var Ao=Ro;function jo(e,t){var n=this.__data__,r=So(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Io=jo;function No(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}No.prototype.clear=vo,No.prototype["delete"]=ko,No.prototype.get=xo,No.prototype.has=Ao,No.prototype.set=Io;var Oo=No,Do=Gr(Wn,"Map"),Po=Do;function Mo(){this.size=0,this.__data__={hash:new go,map:new(Po||Oo),string:new go}}var Lo=Mo;function $o(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var Bo=$o;function Ho(e,t){var n=e.__data__;return Bo(t)?n["string"==typeof t?"string":"hash"]:n.map}var Uo=Ho;function Vo(e){var t=Uo(this,e)["delete"](e);return this.size-=t?1:0,t}var Fo=Vo;function qo(e){return Uo(this,e).get(e)}var zo=qo;function Wo(e){return Uo(this,e).has(e)}var Yo=Wo;function Go(e,t){var n=Uo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Ko=Go;function Xo(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}Xo.prototype.clear=Lo,Xo.prototype["delete"]=Fo,Xo.prototype.get=zo,Xo.prototype.has=Yo,Xo.prototype.set=Ko;var Jo=Xo,Zo="Expected a function";function Qo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Zo);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],s=n.cache;if(s.has(o))return s.get(o);var i=e.apply(this,r);return n.cache=s.set(o,i)||s,i};return n.cache=new(Qo.Cache||Jo),n}Qo.Cache=Jo;var es=Qo,ts=500;function ns(e){var t=es(e,(function(e){return n.size===ts&&n.clear(),e})),n=t.cache;return t}var rs=ns,os=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ss=/\\(\\)?/g,is=rs((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(os,(function(e,n,r,o){t.push(r?o.replace(ss,"$1"):n||e)})),t})),as=is;function ls(e,t){var n=-1,r=null==e?0:e.length,o=Array(r);while(++n<r)o[n]=t(e[n],n,e);return o}var cs=ls,us=1/0,ds=Gn?Gn.prototype:void 0,ps=ds?ds.toString:void 0;function hs(e){if("string"==typeof e)return e;if(Un(e))return cs(e,hs)+"";if(fr(e))return ps?ps.call(e):"";var t=e+"";return"0"==t&&1/e==-us?"-0":t}var fs=hs;function gs(e){return null==e?"":fs(e)}var ms=gs;function vs(e,t){return Un(e)?e:br(e,t)?[e]:as(ms(e))}var bs=vs,ys=1/0;function ws(e){if("string"==typeof e||fr(e))return e;var t=e+"";return"0"==t&&1/e==-ys?"-0":t}var Ss=ws;function Cs(e,t){t=bs(t,e);var n=0,r=t.length;while(null!=e&&n<r)e=e[Ss(t[n++])];return n&&n==r?e:void 0}var _s=Cs;function Es(e,t,n){var r=null==e?void 0:_s(e,t);return void 0===r?n:r}var ks=Es,Ts=function(){try{var e=Gr(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),xs=Ts;function Rs(e,t,n){"__proto__"==t&&xs?xs(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var As=Rs,js=Object.prototype,Is=js.hasOwnProperty;function Ns(e,t,n){var r=e[t];Is.call(e,t)&&yo(r,n)&&(void 0!==n||t in e)||As(e,t,n)}var Os=Ns,Ds=9007199254740991,Ps=/^(?:0|[1-9]\d*)$/;function Ms(e,t){var n=typeof e;return t=null==t?Ds:t,!!t&&("number"==n||"symbol"!=n&&Ps.test(e))&&e>-1&&e%1==0&&e<t}var Ls=Ms;function $s(e,t,n,r){if(!wr(e))return e;t=bs(t,e);var o=-1,s=t.length,i=s-1,a=e;while(null!=a&&++o<s){var l=Ss(t[o]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=i){var u=a[l];c=r?r(u,l,a):void 0,void 0===c&&(c=wr(u)?u:Ls(t[o+1])?[]:{})}Os(a,l,c),a=a[l]}return e}var Bs=$s;function Hs(e,t,n){return null==e?e:Bs(e,t,n)}var Us=Hs;const Vs=e=>Object.keys(e),Fs=(e,t,n)=>({get value(){return ks(e,t,n)},set value(n){Us(e,t,n)}}),qs=(0,n.ref)();function zs(e,t){const r=(0,n.getCurrentInstance)()?(0,n.inject)(Mn,qs):qs;return e?(0,n.computed)((()=>{var n,o;return null!=(o=null==(n=r.value)?void 0:n[e])?o:t})):r}const Ws=(e,t,r=!1)=>{var o;const s=!!(0,n.getCurrentInstance)(),i=s?zs():void 0,a=null!=(o=null==t?void 0:t.provide)?o:s?n.provide:void 0;if(!a)return void Bn("provideGlobalConfig","provideGlobalConfig() can only be used inside setup().");const l=(0,n.computed)((()=>{const t=(0,n.unref)(e);return(null==i?void 0:i.value)?Ys(i.value,t):t}));return a(Mn,l),!r&&qs.value||(qs.value=l.value),l},Ys=(e,t)=>{var n;const r=[...new Set([...Vs(e),...Vs(t)])],o={};for(const s of r)o[s]=null!=(n=t[s])?n:e[s];return o},Gs=(0,n.ref)(0),Ks=()=>{const e=zs("zIndex",2e3),t=(0,n.computed)((()=>e.value+Gs.value)),r=()=>(Gs.value++,t.value);return{initialZIndex:e,currentZIndex:t,nextZIndex:r}},Xs="el",Js="is-",Zs=(e,t,n,r,o)=>{let s=`${e}-${t}`;return n&&(s+=`-${n}`),r&&(s+=`__${r}`),o&&(s+=`--${o}`),s},Qs=e=>{const t=zs("namespace"),r=(0,n.computed)((()=>t.value||Xs)),o=(t="")=>Zs((0,n.unref)(r),e,t,"",""),s=t=>t?Zs((0,n.unref)(r),e,"",t,""):"",i=t=>t?Zs((0,n.unref)(r),e,"","",t):"",a=(t,o)=>t&&o?Zs((0,n.unref)(r),e,t,o,""):"",l=(t,o)=>t&&o?Zs((0,n.unref)(r),e,"",t,o):"",c=(t,o)=>t&&o?Zs((0,n.unref)(r),e,t,"",o):"",u=(t,o,s)=>t&&o&&s?Zs((0,n.unref)(r),e,t,o,s):"",d=(e,...t)=>{const n=!(t.length>=1)||t[0];return e&&n?`${Js}${e}`:""},p=e=>{const t={};for(const n in e)t[`--${r.value}-${n}`]=e[n];return t},h=t=>{const n={};for(const o in t)n[`--${r.value}-${e}-${o}`]=t[o];return n},f=e=>`--${r.value}-${e}`,g=t=>`--${r.value}-${e}-${t}`;return{namespace:r,b:o,e:s,m:i,be:a,em:l,bm:c,bem:u,is:d,cssVar:p,cssVarName:f,cssVarBlock:h,cssVarBlockName:g}},ei={name:"ElPopperContent"},ti=(0,n.defineComponent)({...ei,props:vn,emits:["mouseenter","mouseleave"],setup(e,{expose:t}){const r=e,{popperInstanceRef:i,contentRef:a,triggerRef:l}=(0,n.inject)(o,void 0),c=(0,n.inject)(Pn,void 0),{nextZIndex:u}=Ks(),d=Qs("popper"),p=(0,n.ref)(),h=(0,n.ref)(),f=(0,n.ref)();(0,n.provide)(s,{arrowRef:h,arrowOffset:f}),(0,n.provide)(Pn,{...c,addInputId:()=>{},removeInputId:()=>{}});const g=(0,n.ref)(r.zIndex||u()),m=(0,n.computed)((()=>jn(r.referenceEl)||(0,n.unref)(l))),v=(0,n.computed)((()=>[{zIndex:(0,n.unref)(g)},r.popperStyle])),b=(0,n.computed)((()=>[d.b(),d.is("pure",r.pure),d.is(r.effect),r.popperClass])),y=({referenceEl:e,popperContentEl:t,arrowEl:o})=>{const s=An(r,{arrowEl:o,arrowOffset:(0,n.unref)(f)});return fn(e,t,s)},w=(e=!0)=>{var t;null==(t=(0,n.unref)(i))||t.update(),e&&(g.value=r.zIndex||u())},S=()=>{var e,t;const o={name:"eventListeners",enabled:r.visible};null==(t=null==(e=(0,n.unref)(i))?void 0:e.setOptions)||t.call(e,(e=>({...e,modifiers:[...e.modifiers||[],o]}))),w(!1)};return(0,n.onMounted)((()=>{let e;(0,n.watch)(m,(t=>{var r;null==e||e();const o=(0,n.unref)(i);if(null==(r=null==o?void 0:o.destroy)||r.call(o),t){const r=(0,n.unref)(p);a.value=r,i.value=y({referenceEl:t,popperContentEl:r,arrowEl:(0,n.unref)(h)}),e=(0,n.watch)((()=>t.getBoundingClientRect()),(()=>w()),{immediate:!0})}else i.value=void 0}),{immediate:!0}),(0,n.watch)((()=>r.visible),S,{immediate:!0}),(0,n.watch)((()=>An(r,{arrowEl:(0,n.unref)(h),arrowOffset:(0,n.unref)(f)})),(e=>{var t;return null==(t=i.value)?void 0:t.setOptions(e)}))})),t({popperContentRef:p,popperInstanceRef:i,updatePopper:w,contentStyle:v}),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{ref_key:"popperContentRef",ref:p,style:(0,n.normalizeStyle)((0,n.unref)(v)),class:(0,n.normalizeClass)((0,n.unref)(b)),role:"tooltip",onMouseenter:t[0]||(t[0]=t=>e.$emit("mouseenter",t)),onMouseleave:t[1]||(t[1]=t=>e.$emit("mouseleave",t))},[(0,n.renderSlot)(e.$slots,"default")],38))}});var ni=r(ti,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const ri=(0,n.defineComponent)({name:"ElVisuallyHidden",props:{style:{type:[String,Object,Array]}},setup(e){return{computedStyle:(0,n.computed)((()=>[e.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]))}}});function oi(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createElementBlock)("span",(0,n.mergeProps)(e.$attrs,{style:e.computedStyle}),[(0,n.renderSlot)(e.$slots,"default")],16)}var si=r(ri,[["render",oi],["__file","/home/runner/work/element-plus/element-plus/packages/components/visual-hidden/src/visual-hidden.vue"]]);const ii={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},ai=(e,t,n,r=!1)=>{e&&t&&n&&(null==e||e.addEventListener(t,n,r))},li=(e,t,n,r=!1)=>{e&&t&&n&&(null==e||e.removeEventListener(t,n,r))},ci=(e,t,n)=>{const r=function(...o){n&&n.apply(this,o),li(e,t,r)};ai(e,t,r)},ui=(e,t,{checkForDefaultPrevented:n=!0}={})=>{const r=r=>{const o=null==e?void 0:e(r);if(!1===n||!o)return null==t?void 0:t(r)};return r},di=e=>{const t=t=>{const n=t;n.key===ii.esc&&(null==e||e(n))};(0,n.onMounted)((()=>{ai(document,"keydown",t)})),(0,n.onBeforeUnmount)((()=>{li(document,"keydown",t)}))},pi=(0,n.defineComponent)({name:"ElTooltipContent",components:{ElPopperContent:ni,ElVisuallyHidden:si},inheritAttrs:!1,props:kn,setup(e){const t=(0,n.ref)(null),r=(0,n.ref)(!1),o=(0,n.ref)(!1),s=(0,n.ref)(!1),i=(0,n.ref)(!1),{controlled:a,id:l,open:c,trigger:u,onClose:d,onOpen:p,onShow:h,onHide:f,onBeforeShow:g,onBeforeHide:m}=(0,n.inject)(Rn,void 0),v=(0,n.computed)((()=>e.persistent));(0,n.onBeforeUnmount)((()=>{i.value=!0}));const b=(0,n.computed)((()=>!!(0,n.unref)(v)||(0,n.unref)(c))),y=(0,n.computed)((()=>!e.disabled&&(0,n.unref)(c))),w=(0,n.computed)((()=>{var t;return null!=(t=e.style)?t:{}})),S=(0,n.computed)((()=>!(0,n.unref)(c)));di(d);const C=()=>{f()},_=()=>{if((0,n.unref)(a))return!0},E=ui(_,(()=>{e.enterable&&"hover"===(0,n.unref)(u)&&p()})),k=ui(_,(()=>{"hover"===(0,n.unref)(u)&&d()})),T=()=>{var e,n;null==(n=null==(e=t.value)?void 0:e.updatePopper)||n.call(e),null==g||g()},x=()=>{null==m||m()},R=()=>{h()};let A;return(0,n.watch)((()=>(0,n.unref)(c)),(e=>{e?A=q((0,n.computed)((()=>{var e;return null==(e=t.value)?void 0:e.popperContentRef})),(()=>{if((0,n.unref)(a))return;const e=(0,n.unref)(u);"hover"!==e&&d()})):null==A||A()}),{flush:"post"}),{ariaHidden:S,entering:o,leaving:s,id:l,intermediateOpen:r,contentStyle:w,contentRef:t,destroyed:i,shouldRender:b,shouldShow:y,open:c,onAfterShow:R,onBeforeEnter:T,onBeforeLeave:x,onContentEnter:E,onContentLeave:k,onTransitionLeave:C}}});function hi(e,t,r,o,s,i){const a=(0,n.resolveComponent)("el-visually-hidden"),l=(0,n.resolveComponent)("el-popper-content");return(0,n.openBlock)(),(0,n.createBlock)(n.Teleport,{disabled:!e.teleported,to:e.appendTo},[(0,n.createVNode)(n.Transition,{name:e.transition,onAfterLeave:e.onTransitionLeave,onBeforeEnter:e.onBeforeEnter,onAfterEnter:e.onAfterShow,onBeforeLeave:e.onBeforeLeave},{default:(0,n.withCtx)((()=>[e.shouldRender?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createBlock)(l,(0,n.mergeProps)({key:0,ref:"contentRef"},e.$attrs,{"aria-hidden":e.ariaHidden,"boundaries-padding":e.boundariesPadding,"fallback-placements":e.fallbackPlacements,"gpu-acceleration":e.gpuAcceleration,offset:e.offset,placement:e.placement,"popper-options":e.popperOptions,strategy:e.strategy,effect:e.effect,enterable:e.enterable,pure:e.pure,"popper-class":e.popperClass,"popper-style":[e.popperStyle,e.contentStyle],"reference-el":e.referenceEl,visible:e.shouldShow,"z-index":e.zIndex,onMouseenter:e.onContentEnter,onMouseleave:e.onContentLeave}),{default:(0,n.withCtx)((()=>[(0,n.createCommentVNode)(" Workaround bug #6378 "),e.destroyed?(0,n.createCommentVNode)("v-if",!0):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.renderSlot)(e.$slots,"default"),(0,n.createVNode)(a,{id:e.id,role:"tooltip"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.ariaLabel),1)])),_:1},8,["id"])],64))])),_:3},16,["aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","visible","z-index","onMouseenter","onMouseleave"])),[[n.vShow,e.shouldShow]]):(0,n.createCommentVNode)("v-if",!0)])),_:3},8,["name","onAfterLeave","onBeforeEnter","onAfterEnter","onBeforeLeave"])],8,["disabled","to"])}var fi=r(pi,[["render",hi],["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const gi=(e,t)=>p(e)?e.includes(t):e===t,mi=(e,t,r)=>o=>{gi((0,n.unref)(e),t)&&r(o)},vi=Symbol("elForwardRef"),bi=e=>{const t=t=>{e.value=t};(0,n.provide)(vi,{setForwardRef:t})},yi=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),wi=e=>void 0===e,Si=e=>!e&&0!==e||p(e)&&0===e.length||g(e)&&!Object.keys(e).length,Ci=e=>"undefined"!==typeof Element&&e instanceof Element,_i="ElOnlyChild",Ei=(0,n.defineComponent)({name:_i,setup(e,{slots:t,attrs:r}){var o;const s=(0,n.inject)(vi),i=yi(null!=(o=null==s?void 0:s.setForwardRef)?o:c);return()=>{var e;const o=null==(e=t.default)?void 0:e.call(t,r);if(!o)return null;if(o.length>1)return Bn(_i,"requires exact only one valid child."),null;const s=ki(o);return s?(0,n.withDirectives)((0,n.cloneVNode)(s,r),[[i]]):(Bn(_i,"no valid child node found"),null)}}});function ki(e){if(!e)return null;const t=e;for(const r of t){if(g(r))switch(r.type){case n.Comment:continue;case n.Text:return Ti(r);case"svg":return Ti(r);case n.Fragment:return ki(r.children);default:return r}return Ti(r)}return null}function Ti(e){return(0,n.createVNode)("span",{class:"el-only-child__content"},[e])}const xi={name:"ElPopperTrigger",inheritAttrs:!1},Ri=(0,n.defineComponent)({...xi,props:En,setup(e,{expose:t}){const r=e,{triggerRef:s}=(0,n.inject)(o,void 0);return bi(s),(0,n.onMounted)((()=>{(0,n.watch)((()=>r.virtualRef),(e=>{e&&(s.value=U(e))}),{immediate:!0}),(0,n.watch)((()=>s.value),((e,t)=>{Ci(e)&&["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach((n=>{var o;const s=r[n];s&&(e.addEventListener(n.slice(2).toLowerCase(),s),null==(o=null==t?void 0:t.removeEventListener)||o.call(t,n.slice(2).toLowerCase(),s))}))}),{immediate:!0})})),t({triggerRef:s}),(e,t)=>e.virtualTriggering?(0,n.createCommentVNode)("v-if",!0):((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(Ei),(0,n.mergeProps)({key:0},e.$attrs,{"aria-describedby":e.open?e.id:void 0}),{default:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"default")])),_:3},16,["aria-describedby"]))}});var Ai=r(Ri,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const ji=(0,n.defineComponent)({name:"ElTooltipTrigger",components:{ElPopperTrigger:Ai},props:Tn,setup(e){const t=Qs("tooltip"),{controlled:r,id:o,open:s,onOpen:i,onClose:a,onToggle:l}=(0,n.inject)(Rn,void 0),c=(0,n.ref)(null),u=()=>{if((0,n.unref)(r)||e.disabled)return!0},d=(0,n.toRef)(e,"trigger"),p=ui(u,mi(d,"hover",i)),h=ui(u,mi(d,"hover",a)),f=ui(u,mi(d,"click",(e=>{0===e.button&&l(e)}))),g=ui(u,mi(d,"focus",i)),m=ui(u,mi(d,"focus",a)),v=ui(u,mi(d,"contextmenu",(e=>{e.preventDefault(),l(e)}))),b=ui(u,(e=>{const{code:t}=e;t!==ii.enter&&t!==ii.space||l(e)}));return{onBlur:m,onContextMenu:v,onFocus:g,onMouseenter:p,onMouseleave:h,onClick:f,onKeydown:b,open:s,id:o,triggerRef:c,ns:t}}});function Ii(e,t,r,o,s,i){const a=(0,n.resolveComponent)("el-popper-trigger");return(0,n.openBlock)(),(0,n.createBlock)(a,{id:e.id,"virtual-ref":e.virtualRef,open:e.open,"virtual-triggering":e.virtualTriggering,class:(0,n.normalizeClass)(e.ns.e("trigger")),onBlur:e.onBlur,onClick:e.onClick,onContextmenu:e.onContextMenu,onFocus:e.onFocus,onMouseenter:e.onMouseenter,onMouseleave:e.onMouseleave,onKeydown:e.onKeydown},{default:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"default")])),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"])}var Ni=r(ji,[["render",Ii],["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const Oi=re({type:se(Boolean),default:null}),Di=re({type:se(Function)}),Pi=e=>{const t={[e]:Oi,[`onUpdate:${e}`]:Di},r=[`update:${e}`],o=({indicator:t,shouldHideWhenRouteChanges:r,shouldProceed:o,onShow:s,onHide:i})=>{const a=(0,n.getCurrentInstance)(),l=a.props,{emit:c}=a,u=`update:${e}`,d=(0,n.computed)((()=>h(l[`onUpdate:${e}`]))),p=(0,n.computed)((()=>null===l[e])),f=()=>{!0!==t.value&&(t.value=!0,h(s)&&s())},g=()=>{!1!==t.value&&(t.value=!1,h(i)&&i())},m=()=>{if(!0===l.disabled||h(o)&&!o())return;const e=d.value&&j;e&&c(u,!0),!p.value&&e||f()},v=()=>{if(!0===l.disabled||!j)return;const e=d.value&&j;e&&c(u,!1),!p.value&&e||g()},b=e=>{I(e)&&(l.disabled&&e?d.value&&c(u,!1):t.value!==e&&(e?f():g()))},y=()=>{t.value?v():m()};return(0,n.watch)((()=>l[e]),b),r&&void 0!==a.appContext.config.globalProperties.$route&&(0,n.watch)((()=>({...a.proxy.$route})),(()=>{r.value&&t.value&&v()})),(0,n.onMounted)((()=>{b(l[e])})),{hide:v,show:m,toggle:y}};return{useModelToggle:o,useModelToggleProps:t,useModelToggleEmits:r}},{useModelToggle:Mi,useModelToggleProps:Li,useModelToggleEmits:$i}=Pi("modelValue"),Bi=oe({arrowOffset:{type:Number,default:5}}),Hi={name:"ElPopperArrow",inheritAttrs:!1},Ui=(0,n.defineComponent)({...Hi,props:Bi,setup(e,{expose:t}){const r=e,o=Qs("popper"),{arrowOffset:i,arrowRef:a}=(0,n.inject)(s,void 0);return(0,n.watch)((()=>r.arrowOffset),(e=>{i.value=e})),(0,n.onBeforeUnmount)((()=>{a.value=void 0})),t({arrowRef:a}),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("span",{ref_key:"arrowRef",ref:a,class:(0,n.normalizeClass)((0,n.unref)(o).e("arrow")),"data-popper-arrow":""},null,2))}});var Vi=r(Ui,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const Fi={prefix:Math.floor(1e4*Math.random()),current:0},qi=Symbol("elIdInjection"),zi=e=>{const t=(0,n.inject)(qi,Fi);j||t!==Fi||Bn("IdInjection","Looks like you are using server rendering, you must provide a id provider to ensure the hydration process to be succeed\nusage: app.provide(ID_INJECTION_KEY, {\n  prefix: number,\n  current: number,\n})");const r=(0,n.computed)((()=>(0,n.unref)(e)||`el-id-${t.prefix}-${t.current++}`));return r},{useModelToggleProps:Wi,useModelToggle:Yi,useModelToggleEmits:Gi}=Pi("visible"),Ki=(0,n.defineComponent)({name:"ElTooltip",components:{ElPopper:R,ElPopperArrow:Vi,ElTooltipContent:fi,ElTooltipTrigger:Ni},props:{...Wi,...kn,...Tn,...Bi,...xn},emits:[...Gi,"before-show","before-hide","show","hide"],setup(e,{emit:t}){_n();const r=(0,n.computed)((()=>(wi(e.openDelay)||Bn("ElTooltip","open-delay is about to be deprecated in the next major version, please use `show-after` instead"),e.openDelay||e.showAfter))),o=(0,n.computed)((()=>(wi(e.visibleArrow)||Bn("ElTooltip","`visible-arrow` is about to be deprecated in the next major version, please use `show-arrow` instead"),I(e.visibleArrow)?e.visibleArrow:e.showArrow))),s=zi(),i=(0,n.ref)(null),a=()=>{var e;const t=(0,n.unref)(i);t&&(null==(e=t.popperInstanceRef)||e.update())},l=(0,n.ref)(!1),{show:c,hide:u}=Yi({indicator:l}),{onOpen:d,onClose:p}=le({showAfter:r,hideAfter:(0,n.toRef)(e,"hideAfter"),open:c,close:u}),h=(0,n.computed)((()=>I(e.visible)));return(0,n.provide)(Rn,{controlled:h,id:s,open:(0,n.readonly)(l),trigger:(0,n.toRef)(e,"trigger"),onOpen:d,onClose:p,onToggle:()=>{(0,n.unref)(l)?p():d()},onShow:()=>{t("show")},onHide:()=>{t("hide")},onBeforeShow:()=>{t("before-show")},onBeforeHide:()=>{t("before-hide")},updatePopper:a}),(0,n.watch)((()=>e.disabled),(e=>{e&&l.value&&(l.value=!1)})),{compatShowAfter:r,compatShowArrow:o,popperRef:i,open:l,hide:u,updatePopper:a,onOpen:d,onClose:p}}}),Xi=["innerHTML"],Ji={key:1};function Zi(e,t,r,o,s,i){const a=(0,n.resolveComponent)("el-tooltip-trigger"),l=(0,n.resolveComponent)("el-popper-arrow"),c=(0,n.resolveComponent)("el-tooltip-content"),u=(0,n.resolveComponent)("el-popper");return(0,n.openBlock)(),(0,n.createBlock)(u,{ref:"popperRef"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(a,{disabled:e.disabled,trigger:e.trigger,"virtual-ref":e.virtualRef,"virtual-triggering":e.virtualTriggering},{default:(0,n.withCtx)((()=>[e.$slots.default?(0,n.renderSlot)(e.$slots,"default",{key:0}):(0,n.createCommentVNode)("v-if",!0)])),_:3},8,["disabled","trigger","virtual-ref","virtual-triggering"]),(0,n.createVNode)(c,{"aria-label":e.ariaLabel,"boundaries-padding":e.boundariesPadding,content:e.content,disabled:e.disabled,effect:e.effect,enterable:e.enterable,"fallback-placements":e.fallbackPlacements,"hide-after":e.hideAfter,"gpu-acceleration":e.gpuAcceleration,offset:e.offset,persistent:e.persistent,"popper-class":e.popperClass,"popper-style":e.popperStyle,placement:e.placement,"popper-options":e.popperOptions,pure:e.pure,"raw-content":e.rawContent,"reference-el":e.referenceEl,"show-after":e.compatShowAfter,strategy:e.strategy,teleported:e.teleported,transition:e.transition,"z-index":e.zIndex,"append-to":e.appendTo},{default:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"content",{},(()=>[e.rawContent?((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:0,innerHTML:e.content},null,8,Xi)):((0,n.openBlock)(),(0,n.createElementBlock)("span",Ji,(0,n.toDisplayString)(e.content),1))])),e.compatShowArrow?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,"arrow-offset":e.arrowOffset},null,8,["arrow-offset"])):(0,n.createCommentVNode)("v-if",!0)])),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","show-after","strategy","teleported","transition","z-index","append-to"])])),_:3},512)}var Qi=r(Ki,[["render",Zi],["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const ea=k(Qi);var ta=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n};const na=(0,n.defineComponent)({name:"Close"}),ra={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},oa=(0,n.createElementVNode)("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),sa=[oa];function ia(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",ra,sa)}var aa=ta(na,[["render",ia]]);const la=(0,n.defineComponent)({name:"SuccessFilled"}),ca={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ua=(0,n.createElementVNode)("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),da=[ua];function pa(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",ca,da)}var ha=ta(la,[["render",pa]]);const fa=(0,n.defineComponent)({name:"InfoFilled"}),ga={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ma=(0,n.createElementVNode)("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),va=[ma];function ba(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",ga,va)}var ya=ta(fa,[["render",ba]]);const wa=(0,n.defineComponent)({name:"WarningFilled"}),Sa={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ca=(0,n.createElementVNode)("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),_a=[Ca];function Ea(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",Sa,_a)}var ka=ta(wa,[["render",Ea]]);const Ta=(0,n.defineComponent)({name:"CircleCloseFilled"}),xa={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ra=(0,n.createElementVNode)("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),Aa=[Ra];function ja(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",xa,Aa)}var Ia=ta(Ta,[["render",ja]]);const Na=(0,n.defineComponent)({name:"Loading"}),Oa={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Da=(0,n.createElementVNode)("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),Pa=[Da];function Ma(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",Oa,Pa)}var La=ta(Na,[["render",Ma]]);const $a=(0,n.defineComponent)({name:"CircleCheck"}),Ba={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ha=(0,n.createElementVNode)("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),Ua=(0,n.createElementVNode)("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),Va=[Ha,Ua];function Fa(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",Ba,Va)}var qa=ta($a,[["render",Fa]]);const za=(0,n.defineComponent)({name:"CircleClose"}),Wa={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ya=(0,n.createElementVNode)("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),Ga=(0,n.createElementVNode)("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),Ka=[Ya,Ga];function Xa(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",Wa,Ka)}var Ja=ta(za,[["render",Xa]]);const Za=se([String,Object,Function]),Qa={Close:aa},el={Close:aa,SuccessFilled:ha,InfoFilled:ya,WarningFilled:ka,CircleCloseFilled:Ia},tl={success:ha,warning:ka,error:Ia,info:ya},nl={validating:La,success:qa,error:Ja},rl=(0,n.defineComponent)({inheritAttrs:!1});function ol(e,t,r,o,s,i){return(0,n.renderSlot)(e.$slots,"default")}var sl=r(rl,[["render",ol],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const il=(0,n.defineComponent)({name:"ElCollectionItem",inheritAttrs:!1});function al(e,t,r,o,s,i){return(0,n.renderSlot)(e.$slots,"default")}var ll=r(il,[["render",al],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const cl="data-el-collection-item",ul=e=>{const t=`El${e}Collection`,r=`${t}Item`,o=Symbol(t),s=Symbol(r),i={...sl,name:t,setup(){const e=(0,n.ref)(null),t=new Map,r=()=>{const r=(0,n.unref)(e);if(!r)return[];const o=Array.from(r.querySelectorAll(`[${cl}]`)),s=[...t.values()],i=s.sort(((e,t)=>o.indexOf(e.ref)-o.indexOf(t.ref)));return i};(0,n.provide)(o,{itemMap:t,getItems:r,collectionRef:e})}},a={...ll,name:r,setup(e,{attrs:t}){const r=(0,n.ref)(null),i=(0,n.inject)(o,void 0);(0,n.provide)(s,{collectionItemRef:r}),(0,n.onMounted)((()=>{const e=(0,n.unref)(r);e&&i.itemMap.set(e,{ref:e,...t})})),(0,n.onBeforeUnmount)((()=>{const e=(0,n.unref)(r);i.itemMap.delete(e)}))}};return{COLLECTION_INJECTION_KEY:o,COLLECTION_ITEM_INJECTION_KEY:s,ElCollection:i,ElCollectionItem:a}},dl=oe({trigger:Tn.trigger,effect:{...kn.effect,default:"light"},type:{type:se(String)},placement:{type:se(String),default:"bottom"},popperOptions:{type:se(Object),default:()=>({})},size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:se([Number,String]),default:0},maxHeight:{type:se([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},buttonProps:{type:se(Object)}}),pl=(oe({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Za}}),oe({onKeydown:{type:se(Function)}}),[ii.down,ii.pageDown,ii.home]),hl=[ii.up,ii.pageUp,ii.end],{ElCollection:fl,ElCollectionItem:gl,COLLECTION_INJECTION_KEY:ml,COLLECTION_ITEM_INJECTION_KEY:vl}=ul("Dropdown"),bl=oe({trigger:Tn.trigger,placement:dl.placement,disabled:Tn.disabled,visible:kn.visible,transition:kn.transition,popperOptions:dl.popperOptions,tabindex:dl.tabindex,content:kn.content,popperStyle:kn.popperStyle,popperClass:kn.popperClass,enterable:{...kn.enterable,default:!0},effect:{...kn.effect,default:"light"},teleported:kn.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0}}),yl=["update:visible","before-enter","before-leave","after-enter","after-leave"],wl="ElPopover",Sl=(0,n.defineComponent)({name:wl,components:{ElTooltip:ea},props:bl,emits:yl,setup(e,{emit:t}){const r=Qs("popover"),o=(0,n.ref)(null),s=(0,n.computed)((()=>{var e;return null==(e=(0,n.unref)(o))?void 0:e.popperRef})),i=(0,n.computed)((()=>f(e.width)?e.width:`${e.width}px`)),a=(0,n.computed)((()=>[{width:i.value},e.popperStyle])),l=(0,n.computed)((()=>[r.b(),e.popperClass,{[r.m("plain")]:!!e.content}])),c=(0,n.computed)((()=>"el-fade-in-linear"===e.transition)),u=()=>{var e;null==(e=o.value)||e.hide()},d=()=>{t("before-enter")},p=()=>{t("before-leave")},h=()=>{t("after-enter")},g=()=>{t("update:visible",!1),t("after-leave")};return{ns:r,kls:l,gpuAcceleration:c,style:a,tooltipRef:o,popperRef:s,hide:u,beforeEnter:d,beforeLeave:p,afterEnter:h,afterLeave:g}}});function Cl(e,t,r,o,s,i){const a=(0,n.resolveComponent)("el-tooltip");return(0,n.openBlock)(),(0,n.createBlock)(a,(0,n.mergeProps)({ref:"tooltipRef"},e.$attrs,{trigger:e.trigger,placement:e.placement,disabled:e.disabled,visible:e.visible,transition:e.transition,"popper-options":e.popperOptions,tabindex:e.tabindex,content:e.content,offset:e.offset,"show-after":e.showAfter,"hide-after":e.hideAfter,"auto-close":e.autoClose,"show-arrow":e.showArrow,"aria-label":e.title,effect:e.effect,enterable:e.enterable,"popper-class":e.kls,"popper-style":e.style,teleported:e.teleported,persistent:e.persistent,"gpu-acceleration":e.gpuAcceleration,onBeforeShow:e.beforeEnter,onBeforeHide:e.beforeLeave,onShow:e.afterEnter,onHide:e.afterLeave}),{content:(0,n.withCtx)((()=>[e.title?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:(0,n.normalizeClass)(e.ns.e("title")),role:"title"},(0,n.toDisplayString)(e.title),3)):(0,n.createCommentVNode)("v-if",!0),(0,n.renderSlot)(e.$slots,"default",{},(()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.content),1)]))])),default:(0,n.withCtx)((()=>[e.$slots.reference?(0,n.renderSlot)(e.$slots,"reference",{key:0}):(0,n.createCommentVNode)("v-if",!0)])),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onBeforeShow","onBeforeHide","onShow","onHide"])}var _l=r(Sl,[["render",Cl],["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/index.vue"]]);const El=(e,t)=>{const n=t.arg||t.value,r=null==n?void 0:n.popperRef;r&&(r.triggerRef=e)};var kl={mounted(e,t){El(e,t)},updated(e,t){El(e,t)}};const Tl="popover";_l.install=e=>{e.component(_l.name,_l)},kl.install=e=>{e.directive(Tl,kl)};const xl=kl;_l.directive=xl;const Rl=_l,Al=Rl,jl=Symbol("rowContextKey"),Il=oe({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:["start","center","end","space-around","space-between","space-evenly"],default:"start"},align:{type:String,values:["top","middle","bottom"],default:"top"}}),Nl=(0,n.defineComponent)({name:"ElRow",props:Il,setup(e,{slots:t}){const r=Qs("row"),o=(0,n.computed)((()=>e.gutter));(0,n.provide)(jl,{gutter:o});const s=(0,n.computed)((()=>{const t={marginLeft:"",marginRight:""};return e.gutter&&(t.marginLeft=`-${e.gutter/2}px`,t.marginRight=t.marginLeft),t}));return()=>(0,n.createVNode)(e.tag,{class:[r.b(),r.is(`justify-${e.justify}`,"start"!==e.justify),r.is(`align-${e.align}`,"top"!==e.align)],style:s.value},{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t)]}})}}),Ol=k(Nl),Dl=e=>e,Pl=oe({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:se([Number,Object]),default:()=>Dl({})},sm:{type:se([Number,Object]),default:()=>Dl({})},md:{type:se([Number,Object]),default:()=>Dl({})},lg:{type:se([Number,Object]),default:()=>Dl({})},xl:{type:se([Number,Object]),default:()=>Dl({})}});var Ml=(0,n.defineComponent)({name:"ElCol",props:Pl,setup(e,{slots:t}){const{gutter:r}=(0,n.inject)(jl,{gutter:(0,n.computed)((()=>0))}),o=Qs("col"),s=(0,n.computed)((()=>r.value?{paddingLeft:r.value/2+"px",paddingRight:r.value/2+"px"}:{})),i=(0,n.computed)((()=>{const t=[],n=["span","offset","pull","push"];n.forEach((n=>{const r=e[n];"number"===typeof r&&("span"===n?t.push(o.b(`${e[n]}`)):r>0&&t.push(o.b(`${n}-${e[n]}`)))}));const s=["xs","sm","md","lg","xl"];return s.forEach((n=>{if("number"===typeof e[n])t.push(o.b(`${n}-${e[n]}`));else if("object"===typeof e[n]){const r=e[n];Object.keys(r).forEach((e=>{t.push("span"!==e?o.b(`${n}-${e}-${r[e]}`):o.b(`${n}-${r[e]}`))}))}})),r.value&&t.push(o.is("guttered")),t}));return()=>(0,n.createVNode)(e.tag,{class:[o.b(),i.value],style:s.value},t)}});const Ll=k(Ml);function $l(e){return null==e}var Bl=$l;const Hl=oe({size:{type:se([Number,String])},color:{type:String}}),Ul="utils/dom/style",Vl=(e="")=>e.split(" ").filter((e=>!!e.trim())),Fl=(e,t)=>{if(!e||!t)return!1;if(t.includes(" "))throw new Error("className should not contain space.");return e.classList.contains(t)},ql=(e,t)=>{e&&t.trim()&&e.classList.add(...Vl(t))},zl=(e,t)=>{e&&t.trim()&&e.classList.remove(...Vl(t))},Wl=(e,t)=>{var n;if(!j||!e||!t)return"";let r=S(t);"float"===r&&(r="cssFloat");try{const r=e.style[t];if(r)return r;const o=null==(n=document.defaultView)?void 0:n.getComputedStyle(e,"");return o?o[t]:""}catch(o){return e.style[t]}};function Yl(e,t="px"){return e?f(e)?e:N(e)?`${e}${t}`:void Bn(Ul,"binding value must be a string or number"):""}const Gl={name:"ElIcon",inheritAttrs:!1},Kl=(0,n.defineComponent)({...Gl,props:Hl,setup(e){const t=e,r=Qs("icon"),o=(0,n.computed)((()=>t.size||t.color?{fontSize:wi(t.size)?void 0:Yl(t.size),"--color":t.color}:{}));return(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("i",(0,n.mergeProps)({class:(0,n.unref)(r).b(),style:(0,n.unref)(o)},e.$attrs),[(0,n.renderSlot)(e.$slots,"default")],16))}});var Xl=r(Kl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const Jl=k(Xl),Zl=(0,n.defineComponent)({name:"View"}),Ql={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ec=(0,n.createElementVNode)("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),tc=[ec];function nc(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",Ql,tc)}var rc=ta(Zl,[["render",nc]]);const oc=(0,n.defineComponent)({name:"Hide"}),sc={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ic=(0,n.createElementVNode)("path",{d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z",fill:"currentColor"},null,-1),ac=(0,n.createElementVNode)("path",{d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z",fill:"currentColor"},null,-1),lc=[ic,ac];function cc(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",sc,lc)}var uc=ta(oc,[["render",cc]]);let dc;const pc="\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n",hc=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function fc(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),o=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width")),s=hc.map((e=>`${e}:${t.getPropertyValue(e)}`)).join(";");return{contextStyle:s,paddingSize:r,borderSize:o,boxSizing:n}}function gc(e,t=1,n){var r;dc||(dc=document.createElement("textarea"),document.body.appendChild(dc));const{paddingSize:o,borderSize:s,boxSizing:i,contextStyle:a}=fc(e);dc.setAttribute("style",`${a};${pc}`),dc.value=e.value||e.placeholder||"";let l=dc.scrollHeight;const c={};"border-box"===i?l+=s:"content-box"===i&&(l-=o),dc.value="";const u=dc.scrollHeight-o;if(N(t)){let e=u*t;"border-box"===i&&(e=e+o+s),l=Math.max(e,l),c.minHeight=`${e}px`}if(N(n)){let e=u*n;"border-box"===i&&(e=e+o+s),l=Math.min(e,l)}return c.height=`${l}px`,null==(r=dc.parentNode)||r.removeChild(dc),dc=void 0,c}const mc=e=>{const t=(0,n.getCurrentInstance)();return(0,n.computed)((()=>{var n,r;return null!=(r=null==(n=t.proxy)?void 0:n.$props[e])?r:void 0}))},vc=["","default","small","large"],bc={large:40,default:32,small:24},yc=re({type:String,values:vc,required:!1}),wc=(e,t={})=>{const r=(0,n.ref)(void 0),o=t.prop?r:mc("size"),s=t.global?r:zs("size"),i=t.form?{size:void 0}:(0,n.inject)(Dn,void 0),a=t.formItem?{size:void 0}:(0,n.inject)(Pn,void 0);return(0,n.computed)((()=>o.value||(0,n.unref)(e)||(null==a?void 0:a.size)||(null==i?void 0:i.size)||s.value||""))},Sc=e=>{const t=mc("disabled"),r=(0,n.inject)(Dn,void 0);return(0,n.computed)((()=>t.value||(0,n.unref)(e)||(null==r?void 0:r.disabled)||!1))},Cc="update:modelValue",_c="change",Ec=oe({id:{type:String,default:void 0},size:yc,disabled:Boolean,modelValue:{type:se([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:se([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String,default:""},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Za,default:""},prefixIcon:{type:Za,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:se([Object,Array,String]),default:()=>Dl({})}}),kc={[Cc]:e=>f(e),input:e=>f(e),change:e=>f(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},Tc=["class","style"],xc=/^on[A-Z]/,Rc=(e={})=>{const{excludeListeners:t=!1,excludeKeys:r=[]}=e,o=r.concat(Tc),s=(0,n.getCurrentInstance)();return s?(0,n.computed)((()=>{var e;return ee(Object.entries(null==(e=s.proxy)?void 0:e.$attrs).filter((([e])=>!o.includes(e)&&!(t&&xc.test(e)))))})):(Bn("use-attrs","getCurrentInstance() returned null. useAttrs() must be called at the top of a setup function"),(0,n.computed)((()=>({}))))},Ac=()=>{const e=(0,n.inject)(Dn,void 0),t=(0,n.inject)(Pn,void 0);return{form:e,formItem:t}},jc=(e,{formItemContext:t,disableIdGeneration:r,disableIdManagement:o})=>{r||(r=(0,n.ref)(!1)),o||(o=(0,n.ref)(!1));const s=(0,n.ref)();let i;const a=(0,n.computed)((()=>{var n;return!!(!e.label&&t&&t.inputIds&&(null==(n=t.inputIds)?void 0:n.length)<=1)}));return(0,n.onMounted)((()=>{i=(0,n.watch)([(0,n.toRef)(e,"id"),r],(([e,n])=>{const r=null!=e?e:n?void 0:zi().value;r!==s.value&&((null==t?void 0:t.removeInputId)&&(s.value&&t.removeInputId(s.value),(null==o?void 0:o.value)||n||!r||t.addInputId(r)),s.value=r)}),{immediate:!0})})),(0,n.onUnmounted)((()=>{i&&i(),(null==t?void 0:t.removeInputId)&&s.value&&t.removeInputId(s.value)})),{isLabeledByFormItem:a,inputId:s}};function Ic(e){const t=(0,n.ref)();function r(){if(void 0==e.value)return;const{selectionStart:n,selectionEnd:r,value:o}=e.value;if(null==n||null==r)return;const s=o.slice(0,Math.max(0,n)),i=o.slice(Math.max(0,r));t.value={selectionStart:n,selectionEnd:r,value:o,beforeTxt:s,afterTxt:i}}function o(){if(void 0==e.value||void 0==t.value)return;const{value:n}=e.value,{beforeTxt:r,afterTxt:o,selectionStart:s}=t.value;if(void 0==r||void 0==o||void 0==s)return;let i=n.length;if(n.endsWith(o))i=n.length-o.length;else if(n.startsWith(r))i=r.length;else{const e=r[s-1],t=n.indexOf(e,s-1);-1!==t&&(i=t+1)}e.value.setSelectionRange(i,i)}return[r,o]}const Nc=e=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(e),Oc=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder"],Dc=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder"],Pc={name:"ElInput",inheritAttrs:!1},Mc=(0,n.defineComponent)({...Pc,props:Ec,emits:kc,setup(e,{expose:t,emit:r}){const o=e,s={suffix:"append",prefix:"prepend"},i=(0,n.getCurrentInstance)(),a=(0,n.useAttrs)(),l=(0,n.useSlots)(),c=Rc(),{form:u,formItem:d}=Ac(),{inputId:p}=jc(o,{formItemContext:d}),h=wc(),f=Sc(),m=Qs("input"),v=Qs("textarea"),b=(0,n.shallowRef)(),y=(0,n.shallowRef)(),w=(0,n.ref)(!1),S=(0,n.ref)(!1),C=(0,n.ref)(!1),_=(0,n.ref)(!1),E=(0,n.ref)(),k=(0,n.shallowRef)(o.inputStyle),T=(0,n.computed)((()=>b.value||y.value)),x=(0,n.computed)((()=>{var e;return null!=(e=null==u?void 0:u.statusIcon)&&e})),R=(0,n.computed)((()=>(null==d?void 0:d.validateState)||"")),A=(0,n.computed)((()=>nl[R.value])),I=(0,n.computed)((()=>_.value?rc:uc)),N=(0,n.computed)((()=>[a.style,o.inputStyle])),O=(0,n.computed)((()=>[o.inputStyle,k.value,{resize:o.resize}])),D=(0,n.computed)((()=>Bl(o.modelValue)?"":String(o.modelValue))),P=(0,n.computed)((()=>o.clearable&&!f.value&&!o.readonly&&!!D.value&&(w.value||S.value))),M=(0,n.computed)((()=>o.showPassword&&!f.value&&!o.readonly&&(!!D.value||w.value))),L=(0,n.computed)((()=>o.showWordLimit&&!!c.value.maxlength&&("text"===o.type||"textarea"===o.type)&&!f.value&&!o.readonly&&!o.showPassword)),$=(0,n.computed)((()=>Array.from(D.value).length)),B=(0,n.computed)((()=>!!L.value&&$.value>Number(c.value.maxlength))),H=(0,n.computed)((()=>!!l.suffix||!!o.suffixIcon||P.value||o.showPassword||L.value||!!R.value&&x.value)),[U,V]=Ic(b);J(y,(e=>{if(!L.value||"both"!==o.resize)return;const t=e[0],{width:n}=t.contentRect;E.value={right:`calc(100% - ${n+15+6}px)`}}));const F=()=>{const{type:e,autosize:t}=o;if(j&&"textarea"===e)if(t){const e=g(t)?t.minRows:void 0,n=g(t)?t.maxRows:void 0;k.value={...gc(y.value,e,n)}}else k.value={minHeight:gc(y.value).minHeight}},q=()=>{const e=T.value;e&&e.value!==D.value&&(e.value=D.value)},z=e=>{const{el:t}=i.vnode;if(!t)return;const n=Array.from(t.querySelectorAll(`.${m.e(e)}`)),r=n.find((e=>e.parentNode===t));if(!r)return;const o=s[e];l[o]?r.style.transform=`translateX(${"suffix"===e?"-":""}${t.querySelector(`.${m.be("group",o)}`).offsetWidth}px)`:r.removeAttribute("style")},W=()=>{z("prefix"),z("suffix")},Y=async e=>{U();let{value:t}=e.target;o.formatter&&(t=o.parser?o.parser(t):t,t=o.formatter(t)),C.value||t!==D.value&&(r(Cc,t),r("input",t),await(0,n.nextTick)(),q(),V())},G=e=>{r("change",e.target.value)},K=e=>{r("compositionstart",e),C.value=!0},X=e=>{var t;r("compositionupdate",e);const n=null==(t=e.target)?void 0:t.value,o=n[n.length-1]||"";C.value=!Nc(o)},Z=e=>{r("compositionend",e),C.value&&(C.value=!1,Y(e))},Q=()=>{_.value=!_.value,ee()},ee=async()=>{var e;await(0,n.nextTick)(),null==(e=T.value)||e.focus()},te=()=>{var e;return null==(e=T.value)?void 0:e.blur()},ne=e=>{w.value=!0,r("focus",e)},re=e=>{var t;w.value=!1,r("blur",e),o.validateEvent&&(null==(t=null==d?void 0:d.validate)||t.call(d,"blur").catch((e=>Bn(e))))},oe=e=>{S.value=!1,r("mouseleave",e)},se=e=>{S.value=!0,r("mouseenter",e)},ie=e=>{r("keydown",e)},ae=()=>{var e;null==(e=T.value)||e.select()},le=()=>{r(Cc,""),r("change",""),r("clear"),r("input","")};return(0,n.watch)((()=>o.modelValue),(()=>{var e;(0,n.nextTick)((()=>F())),o.validateEvent&&(null==(e=null==d?void 0:d.validate)||e.call(d,"change").catch((e=>Bn(e))))})),(0,n.watch)(D,(()=>q())),(0,n.watch)((()=>o.type),(async()=>{await(0,n.nextTick)(),q(),F(),W()})),(0,n.onMounted)((async()=>{!o.formatter&&o.parser&&Bn("ElInput","If you set the parser, you also need to set the formatter."),q(),W(),await(0,n.nextTick)(),F()})),(0,n.onUpdated)((async()=>{await(0,n.nextTick)(),W()})),t({input:b,textarea:y,ref:T,textareaStyle:O,autosize:(0,n.toRef)(o,"autosize"),focus:ee,blur:te,select:ae,clear:le,resizeTextarea:F}),(e,t)=>(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["textarea"===e.type?(0,n.unref)(v).b():(0,n.unref)(m).b(),(0,n.unref)(m).m((0,n.unref)(h)),(0,n.unref)(m).is("disabled",(0,n.unref)(f)),(0,n.unref)(m).is("exceed",(0,n.unref)(B)),{[(0,n.unref)(m).b("group")]:e.$slots.prepend||e.$slots.append,[(0,n.unref)(m).bm("group","append")]:e.$slots.append,[(0,n.unref)(m).bm("group","prepend")]:e.$slots.prepend,[(0,n.unref)(m).m("prefix")]:e.$slots.prefix||e.prefixIcon,[(0,n.unref)(m).m("suffix")]:e.$slots.suffix||e.suffixIcon||e.clearable||e.showPassword,[(0,n.unref)(m).bm("suffix","password-clear")]:(0,n.unref)(P)&&(0,n.unref)(M)},e.$attrs.class]),style:(0,n.normalizeStyle)((0,n.unref)(N)),onMouseenter:se,onMouseleave:oe},[(0,n.createCommentVNode)(" input "),"textarea"!==e.type?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.createCommentVNode)(" prepend slot "),e.$slots.prepend?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:(0,n.normalizeClass)((0,n.unref)(m).be("group","prepend"))},[(0,n.renderSlot)(e.$slots,"prepend")],2)):(0,n.createCommentVNode)("v-if",!0),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)([(0,n.unref)(m).e("wrapper"),(0,n.unref)(m).is("focus",w.value)])},[(0,n.createCommentVNode)(" prefix slot "),e.$slots.prefix||e.prefixIcon?((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:0,class:(0,n.normalizeClass)((0,n.unref)(m).e("prefix"))},[(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)((0,n.unref)(m).e("prefix-inner"))},[(0,n.renderSlot)(e.$slots,"prefix"),e.prefixIcon?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(Jl),{key:0,class:(0,n.normalizeClass)((0,n.unref)(m).e("icon"))},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(e.prefixIcon)))])),_:1},8,["class"])):(0,n.createCommentVNode)("v-if",!0)],2)],2)):(0,n.createCommentVNode)("v-if",!0),(0,n.createElementVNode)("input",(0,n.mergeProps)({id:(0,n.unref)(p),ref_key:"input",ref:b,class:(0,n.unref)(m).e("inner")},(0,n.unref)(c),{type:e.showPassword?_.value?"text":"password":e.type,disabled:(0,n.unref)(f),formatter:e.formatter,parser:e.parser,readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label,placeholder:e.placeholder,style:e.inputStyle,onCompositionstart:K,onCompositionupdate:X,onCompositionend:Z,onInput:Y,onFocus:ne,onBlur:re,onChange:G,onKeydown:ie}),null,16,Oc),(0,n.createCommentVNode)(" suffix slot "),(0,n.unref)(H)?((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:1,class:(0,n.normalizeClass)((0,n.unref)(m).e("suffix"))},[(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)((0,n.unref)(m).e("suffix-inner"))},[(0,n.unref)(P)&&(0,n.unref)(M)&&(0,n.unref)(L)?(0,n.createCommentVNode)("v-if",!0):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.renderSlot)(e.$slots,"suffix"),e.suffixIcon?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(Jl),{key:0,class:(0,n.normalizeClass)((0,n.unref)(m).e("icon"))},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(e.suffixIcon)))])),_:1},8,["class"])):(0,n.createCommentVNode)("v-if",!0)],64)),(0,n.unref)(P)?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(Jl),{key:1,class:(0,n.normalizeClass)([(0,n.unref)(m).e("icon"),(0,n.unref)(m).e("clear")]),onMousedown:t[0]||(t[0]=(0,n.withModifiers)((()=>{}),["prevent"])),onClick:le},{default:(0,n.withCtx)((()=>[(0,n.createVNode)((0,n.unref)(Ja))])),_:1},8,["class"])):(0,n.createCommentVNode)("v-if",!0),(0,n.unref)(M)?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(Jl),{key:2,class:(0,n.normalizeClass)([(0,n.unref)(m).e("icon"),(0,n.unref)(m).e("password")]),onClick:Q},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)((0,n.unref)(I))))])),_:1},8,["class"])):(0,n.createCommentVNode)("v-if",!0),(0,n.unref)(L)?((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:3,class:(0,n.normalizeClass)((0,n.unref)(m).e("count"))},[(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)((0,n.unref)(m).e("count-inner"))},(0,n.toDisplayString)((0,n.unref)($))+" / "+(0,n.toDisplayString)((0,n.unref)(c).maxlength),3)],2)):(0,n.createCommentVNode)("v-if",!0),(0,n.unref)(R)&&(0,n.unref)(A)&&(0,n.unref)(x)?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(Jl),{key:4,class:(0,n.normalizeClass)([(0,n.unref)(m).e("icon"),(0,n.unref)(m).e("validateIcon"),(0,n.unref)(m).is("loading","validating"===(0,n.unref)(R))])},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)((0,n.unref)(A))))])),_:1},8,["class"])):(0,n.createCommentVNode)("v-if",!0)],2)],2)):(0,n.createCommentVNode)("v-if",!0)],2),(0,n.createCommentVNode)(" append slot "),e.$slots.append?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,class:(0,n.normalizeClass)((0,n.unref)(m).be("group","append"))},[(0,n.renderSlot)(e.$slots,"append")],2)):(0,n.createCommentVNode)("v-if",!0)],64)):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createCommentVNode)(" textarea "),(0,n.createElementVNode)("textarea",(0,n.mergeProps)({id:(0,n.unref)(p),ref_key:"textarea",ref:y,class:(0,n.unref)(v).e("inner")},(0,n.unref)(c),{tabindex:e.tabindex,disabled:(0,n.unref)(f),readonly:e.readonly,autocomplete:e.autocomplete,style:(0,n.unref)(O),"aria-label":e.label,placeholder:e.placeholder,onCompositionstart:K,onCompositionupdate:X,onCompositionend:Z,onInput:Y,onFocus:ne,onBlur:re,onChange:G,onKeydown:ie}),null,16,Dc),(0,n.unref)(L)?((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:0,style:(0,n.normalizeStyle)(E.value),class:(0,n.normalizeClass)((0,n.unref)(m).e("count"))},(0,n.toDisplayString)((0,n.unref)($))+" / "+(0,n.toDisplayString)((0,n.unref)(c).maxlength),7)):(0,n.createCommentVNode)("v-if",!0)],64))],38)),[[n.vShow,"hidden"!==e.type]])}});var Lc=r(Mc,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const $c=k(Lc),Bc={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Hc=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),Uc=oe({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Vc=Symbol("scrollbarContextKey"),Fc="Thumb",qc=(0,n.defineComponent)({name:Fc,props:Uc,setup(e){const t=(0,n.inject)(Vc),r=Qs("scrollbar");t||$n(Fc,"can not inject scrollbar context");const o=(0,n.ref)(),s=(0,n.ref)(),i=(0,n.ref)({}),a=(0,n.ref)(!1);let l=!1,c=!1,u=j?document.onselectstart:null;const d=(0,n.computed)((()=>Bc[e.vertical?"vertical":"horizontal"])),p=(0,n.computed)((()=>Hc({size:e.size,move:e.move,bar:d.value}))),h=(0,n.computed)((()=>o.value[d.value.offset]**2/t.wrapElement[d.value.scrollSize]/e.ratio/s.value[d.value.offset])),f=e=>{var t;if(e.stopPropagation(),e.ctrlKey||[1,2].includes(e.button))return;null==(t=window.getSelection())||t.removeAllRanges(),m(e);const n=e.currentTarget;n&&(i.value[d.value.axis]=n[d.value.offset]-(e[d.value.client]-n.getBoundingClientRect()[d.value.direction]))},g=e=>{if(!s.value||!o.value||!t.wrapElement)return;const n=Math.abs(e.target.getBoundingClientRect()[d.value.direction]-e[d.value.client]),r=s.value[d.value.offset]/2,i=100*(n-r)*h.value/o.value[d.value.offset];t.wrapElement[d.value.scroll]=i*t.wrapElement[d.value.scrollSize]/100},m=e=>{e.stopImmediatePropagation(),l=!0,document.addEventListener("mousemove",v),document.addEventListener("mouseup",b),u=document.onselectstart,document.onselectstart=()=>!1},v=e=>{if(!o.value||!s.value)return;if(!1===l)return;const n=i.value[d.value.axis];if(!n)return;const r=-1*(o.value.getBoundingClientRect()[d.value.direction]-e[d.value.client]),a=s.value[d.value.offset]-n,c=100*(r-a)*h.value/o.value[d.value.offset];t.wrapElement[d.value.scroll]=c*t.wrapElement[d.value.scrollSize]/100},b=()=>{l=!1,i.value[d.value.axis]=0,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",b),S(),c&&(a.value=!1)},y=()=>{c=!1,a.value=!!e.size},w=()=>{c=!0,a.value=l};(0,n.onBeforeUnmount)((()=>{S(),document.removeEventListener("mouseup",b)}));const S=()=>{document.onselectstart!==u&&(document.onselectstart=u)};return F((0,n.toRef)(t,"scrollbarElement"),"mousemove",y),F((0,n.toRef)(t,"scrollbarElement"),"mouseleave",w),{ns:r,instance:o,thumb:s,bar:d,thumbStyle:p,visible:a,clickTrackHandler:g,clickThumbHandler:f}}});function zc(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createBlock)(n.Transition,{name:e.ns.b("fade")},{default:(0,n.withCtx)((()=>[(0,n.withDirectives)((0,n.createElementVNode)("div",{ref:"instance",class:(0,n.normalizeClass)([e.ns.e("bar"),e.ns.is(e.bar.key)]),onMousedown:t[1]||(t[1]=(...t)=>e.clickTrackHandler&&e.clickTrackHandler(...t))},[(0,n.createElementVNode)("div",{ref:"thumb",class:(0,n.normalizeClass)(e.ns.e("thumb")),style:(0,n.normalizeStyle)(e.thumbStyle),onMousedown:t[0]||(t[0]=(...t)=>e.clickThumbHandler&&e.clickThumbHandler(...t))},null,38)],34),[[n.vShow,e.always||e.visible]])])),_:1},8,["name"])}var Wc=r(qc,[["render",zc],["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const Yc=oe({always:{type:Boolean,default:!0},width:{type:String,default:""},height:{type:String,default:""},ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),Gc=(0,n.defineComponent)({components:{Thumb:Wc},props:Yc,setup(e){const t=(0,n.ref)(0),r=(0,n.ref)(0),o=4,s=n=>{if(n){const s=n.offsetHeight-o,i=n.offsetWidth-o;r.value=100*n.scrollTop/s*e.ratioY,t.value=100*n.scrollLeft/i*e.ratioX}};return{handleScroll:s,moveX:t,moveY:r}}});function Kc(e,t,r,o,s,i){const a=(0,n.resolveComponent)("thumb");return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createVNode)(a,{move:e.moveX,ratio:e.ratioX,size:e.width,always:e.always},null,8,["move","ratio","size","always"]),(0,n.createVNode)(a,{move:e.moveY,ratio:e.ratioY,size:e.height,vertical:"",always:e.always},null,8,["move","ratio","size","always"])],64)}var Xc=r(Gc,[["render",Kc],["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const Jc=oe({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:se([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:{type:Boolean,default:!1},minSize:{type:Number,default:20}}),Zc={scroll:({scrollTop:e,scrollLeft:t})=>N(e)&&N(t)},Qc=(0,n.defineComponent)({name:"ElScrollbar",components:{Bar:Xc},props:Jc,emits:Zc,setup(e,{emit:t}){const r=Qs("scrollbar");let o,s;const i=(0,n.ref)(),a=(0,n.ref)(),l=(0,n.ref)(),c=(0,n.ref)("0"),u=(0,n.ref)("0"),d=(0,n.ref)(),p=(0,n.ref)(0),h=(0,n.ref)(0),f=(0,n.ref)(1),m=(0,n.ref)(1),v="ElScrollbar",b=4,y=(0,n.computed)((()=>{const t={};return e.height&&(t.height=Yl(e.height)),e.maxHeight&&(t.maxHeight=Yl(e.maxHeight)),[e.wrapStyle,t]})),w=()=>{var e;a.value&&(null==(e=d.value)||e.handleScroll(a.value),t("scroll",{scrollTop:a.value.scrollTop,scrollLeft:a.value.scrollLeft}))};function S(e,t){g(e)?a.value.scrollTo(e):N(e)&&N(t)&&a.value.scrollTo(e,t)}const C=e=>{N(e)?a.value.scrollTop=e:Bn(v,"value must be a number")},_=e=>{N(e)?a.value.scrollLeft=e:Bn(v,"value must be a number")},E=()=>{if(!a.value)return;const t=a.value.offsetHeight-b,n=a.value.offsetWidth-b,r=t**2/a.value.scrollHeight,o=n**2/a.value.scrollWidth,s=Math.max(r,e.minSize),i=Math.max(o,e.minSize);f.value=r/(t-r)/(s/(t-s)),m.value=o/(n-o)/(i/(n-i)),u.value=s+b<t?`${s}px`:"",c.value=i+b<n?`${i}px`:""};return(0,n.watch)((()=>e.noresize),(e=>{e?(null==o||o(),null==s||s()):(({stop:o}=J(l,E)),s=F("resize",E))}),{immediate:!0}),(0,n.watch)((()=>[e.maxHeight,e.height]),(()=>{e.native||(0,n.nextTick)((()=>{var e;E(),a.value&&(null==(e=d.value)||e.handleScroll(a.value))}))})),(0,n.provide)(Vc,(0,n.reactive)({scrollbarElement:i,wrapElement:a})),(0,n.onMounted)((()=>{e.native||(0,n.nextTick)((()=>E()))})),(0,n.onUpdated)((()=>E())),{ns:r,scrollbar$:i,wrap$:a,resize$:l,barRef:d,moveX:p,moveY:h,ratioX:m,ratioY:f,sizeWidth:c,sizeHeight:u,style:y,update:E,handleScroll:w,scrollTo:S,setScrollTop:C,setScrollLeft:_}}});function eu(e,t,r,o,s,i){const a=(0,n.resolveComponent)("bar");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{ref:"scrollbar$",class:(0,n.normalizeClass)(e.ns.b())},[(0,n.createElementVNode)("div",{ref:"wrap$",class:(0,n.normalizeClass)([e.wrapClass,e.ns.e("wrap"),{[e.ns.em("wrap","hidden-default")]:!e.native}]),style:(0,n.normalizeStyle)(e.style),onScroll:t[0]||(t[0]=(...t)=>e.handleScroll&&e.handleScroll(...t))},[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(e.tag),{ref:"resize$",class:(0,n.normalizeClass)([e.ns.e("view"),e.viewClass]),style:(0,n.normalizeStyle)(e.viewStyle)},{default:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"default")])),_:3},8,["class","style"]))],38),e.native?(0,n.createCommentVNode)("v-if",!0):((0,n.openBlock)(),(0,n.createBlock)(a,{key:0,ref:"barRef",height:e.sizeHeight,width:e.sizeWidth,always:e.always,"ratio-x":e.ratioX,"ratio-y":e.ratioY},null,8,["height","width","always","ratio-x","ratio-y"]))],2)}var tu=r(Qc,[["render",eu],["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const nu=k(tu),ru=oe({closable:Boolean,type:{type:String,values:["success","info","warning","danger",""],default:""},hit:Boolean,disableTransitions:Boolean,color:{type:String,default:""},size:{type:String,values:vc,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),ou={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},su={name:"ElTag"},iu=(0,n.defineComponent)({...su,props:ru,emits:ou,setup(e,{emit:t}){const r=e,o=wc(),s=Qs("tag"),i=(0,n.computed)((()=>{const{type:e,hit:t,effect:n,closable:i,round:a}=r;return[s.b(),s.is("closable",i),s.m(e),s.m(o.value),s.m(n),s.is("hit",t),s.is("round",a)]})),a=e=>{e.stopPropagation(),t("close",e)},l=e=>{t("click",e)};return(e,t)=>e.disableTransitions?((0,n.openBlock)(),(0,n.createBlock)(n.Transition,{key:1,name:`${(0,n.unref)(s).namespace.value}-zoom-in-center`},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)((0,n.unref)(i)),style:(0,n.normalizeStyle)({backgroundColor:e.color}),onClick:l},[(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)((0,n.unref)(s).e("content"))},[(0,n.renderSlot)(e.$slots,"default")],2),e.closable?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(Jl),{key:0,class:(0,n.normalizeClass)((0,n.unref)(s).e("close")),onClick:a},{default:(0,n.withCtx)((()=>[(0,n.createVNode)((0,n.unref)(aa))])),_:1},8,["class"])):(0,n.createCommentVNode)("v-if",!0)],6)])),_:3},8,["name"])):((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:0,class:(0,n.normalizeClass)((0,n.unref)(i)),style:(0,n.normalizeStyle)({backgroundColor:e.color}),onClick:l},[(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)((0,n.unref)(s).e("content"))},[(0,n.renderSlot)(e.$slots,"default")],2),e.closable?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(Jl),{key:0,class:(0,n.normalizeClass)((0,n.unref)(s).e("close")),onClick:a},{default:(0,n.withCtx)((()=>[(0,n.createVNode)((0,n.unref)(aa))])),_:1},8,["class"])):(0,n.createCommentVNode)("v-if",!0)],6))}});var au=r(iu,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const lu=k(au),cu=(0,n.defineComponent)({name:"ArrowUp"}),uu={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},du=(0,n.createElementVNode)("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),pu=[du];function hu(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",uu,pu)}var fu=ta(cu,[["render",hu]]);const gu="ElSelectGroup",mu="ElSelect",vu=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d");function bu(e,t){const r=(0,n.inject)(mu),o=(0,n.inject)(gu,{disabled:!1}),s=(0,n.computed)((()=>"[object object]"===Object.prototype.toString.call(e.value).toLowerCase())),i=(0,n.computed)((()=>r.props.multiple?p(r.props.modelValue,e.value):h(e.value,r.props.modelValue))),a=(0,n.computed)((()=>{if(r.props.multiple){const e=r.props.modelValue||[];return!i.value&&e.length>=r.props.multipleLimit&&r.props.multipleLimit>0}return!1})),l=(0,n.computed)((()=>e.label||(s.value?"":e.value))),c=(0,n.computed)((()=>e.value||e.label||"")),u=(0,n.computed)((()=>e.disabled||t.groupDisabled||a.value)),d=(0,n.getCurrentInstance)(),p=(e=[],t)=>{if(s.value){const n=r.props.valueKey;return e&&e.some((e=>ks(e,n)===ks(t,n)))}return e&&e.includes(t)},h=(e,t)=>{if(s.value){const{valueKey:n}=r.props;return ks(e,n)===ks(t,n)}return e===t},f=()=>{e.disabled||o.disabled||(r.hoverIndex=r.optionsArray.indexOf(d.proxy))};(0,n.watch)((()=>l.value),(()=>{e.created||r.props.remote||r.setSelected()})),(0,n.watch)((()=>e.value),((t,n)=>{const{remote:o,valueKey:s}=r.props;if(!e.created&&!o){if(s&&"object"===typeof t&&"object"===typeof n&&t[s]===n[s])return;r.setSelected()}})),(0,n.watch)((()=>o.disabled),(()=>{t.groupDisabled=o.disabled}),{immediate:!0});const{queryChange:g}=(0,n.toRaw)(r);return(0,n.watch)(g,(o=>{const{query:s}=(0,n.unref)(o),i=new RegExp(vu(s),"i");t.visible=i.test(l.value)||e.created,t.visible||r.filteredOptionsCount--})),{select:r,currentLabel:l,currentValue:c,itemSelected:i,isDisabled:u,hoverItem:f}}const yu=(0,n.defineComponent)({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(e){const t=Qs("select"),r=(0,n.reactive)({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:o,itemSelected:s,isDisabled:i,select:a,hoverItem:l}=bu(e,r),{visible:c,hover:u}=(0,n.toRefs)(r),d=(0,n.getCurrentInstance)().proxy,p=d.value;function h(){!0!==e.disabled&&!0!==r.groupDisabled&&a.handleOptionSelect(d,!0)}return a.onOptionCreate(d),(0,n.onBeforeUnmount)((()=>{const{selected:e}=a,t=a.props.multiple?e:[e],r=t.some((e=>e.value===d.value));a.cachedOptions.get(p)!==d||r||(0,n.nextTick)((()=>{a.cachedOptions.delete(p)})),a.onOptionDestroy(p,d)})),{ns:t,currentLabel:o,itemSelected:s,isDisabled:i,select:a,hoverItem:l,visible:c,hover:u,selectOptionClick:h,states:r}}});function wu(e,t,r,o,s,i){return(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("li",{class:(0,n.normalizeClass)([e.ns.be("dropdown","item"),e.ns.is("disabled",e.isDisabled),{selected:e.itemSelected,hover:e.hover}]),onMouseenter:t[0]||(t[0]=(...t)=>e.hoverItem&&e.hoverItem(...t)),onClick:t[1]||(t[1]=(0,n.withModifiers)(((...t)=>e.selectOptionClick&&e.selectOptionClick(...t)),["stop"]))},[(0,n.renderSlot)(e.$slots,"default",{},(()=>[(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(e.currentLabel),1)]))],34)),[[n.vShow,e.visible]])}var Su=r(yu,[["render",wu],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const Cu=function(e){for(const t of e){const e=t.target.__resizeListeners__||[];e.length&&e.forEach((e=>{e()}))}},_u=function(e,t){j&&e&&(e.__resizeListeners__||(e.__resizeListeners__=[],e.__ro__=new ResizeObserver(Cu),e.__ro__.observe(e)),e.__resizeListeners__.push(t))},Eu=function(e,t){var n;e&&e.__resizeListeners__&&(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||null==(n=e.__ro__)||n.disconnect())},ku=(0,n.defineComponent)({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=(0,n.inject)(mu),t=Qs("select"),r=(0,n.computed)((()=>e.props.popperClass)),o=(0,n.computed)((()=>e.props.multiple)),s=(0,n.computed)((()=>e.props.fitInputWidth)),i=(0,n.ref)("");function a(){var t;i.value=`${null==(t=e.selectWrapper)?void 0:t.getBoundingClientRect().width}px`}return(0,n.onMounted)((()=>{a(),_u(e.selectWrapper,a)})),(0,n.onBeforeUnmount)((()=>{Eu(e.selectWrapper,a)})),{ns:t,minWidth:i,popperClass:r,isMultiple:o,isFitInputWidth:s}}});function Tu(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:(0,n.normalizeStyle)({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[(0,n.renderSlot)(e.$slots,"default")],6)}var xu=r(ku,[["render",Tu],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function Ru(){this.__data__=new Oo,this.size=0}var Au=Ru;function ju(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}var Iu=ju;function Nu(e){return this.__data__.get(e)}var Ou=Nu;function Du(e){return this.__data__.has(e)}var Pu=Du,Mu=200;function Lu(e,t){var n=this.__data__;if(n instanceof Oo){var r=n.__data__;if(!Po||r.length<Mu-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Jo(r)}return n.set(e,t),this.size=n.size,this}var $u=Lu;function Bu(e){var t=this.__data__=new Oo(e);this.size=t.size}Bu.prototype.clear=Au,Bu.prototype["delete"]=Iu,Bu.prototype.get=Ou,Bu.prototype.has=Pu,Bu.prototype.set=$u;var Hu=Bu,Uu="__lodash_hash_undefined__";function Vu(e){return this.__data__.set(e,Uu),this}var Fu=Vu;function qu(e){return this.__data__.has(e)}var zu=qu;function Wu(e){var t=-1,n=null==e?0:e.length;this.__data__=new Jo;while(++t<n)this.add(e[t])}Wu.prototype.add=Wu.prototype.push=Fu,Wu.prototype.has=zu;var Yu=Wu;function Gu(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(t(e[n],n,e))return!0;return!1}var Ku=Gu;function Xu(e,t){return e.has(t)}var Ju=Xu,Zu=1,Qu=2;function ed(e,t,n,r,o,s){var i=n&Zu,a=e.length,l=t.length;if(a!=l&&!(i&&l>a))return!1;var c=s.get(e),u=s.get(t);if(c&&u)return c==t&&u==e;var d=-1,p=!0,h=n&Qu?new Yu:void 0;s.set(e,t),s.set(t,e);while(++d<a){var f=e[d],g=t[d];if(r)var m=i?r(g,f,d,t,e,s):r(f,g,d,e,t,s);if(void 0!==m){if(m)continue;p=!1;break}if(h){if(!Ku(t,(function(e,t){if(!Ju(h,t)&&(f===e||o(f,e,n,r,s)))return h.push(t)}))){p=!1;break}}else if(f!==g&&!o(f,g,n,r,s)){p=!1;break}}return s["delete"](e),s["delete"](t),p}var td=ed,nd=Wn.Uint8Array,rd=nd;function od(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}var sd=od;function id(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var ad=id,ld=1,cd=2,ud="[object Boolean]",dd="[object Date]",pd="[object Error]",hd="[object Map]",fd="[object Number]",gd="[object RegExp]",md="[object Set]",vd="[object String]",bd="[object Symbol]",yd="[object ArrayBuffer]",wd="[object DataView]",Sd=Gn?Gn.prototype:void 0,Cd=Sd?Sd.valueOf:void 0;function _d(e,t,n,r,o,s,i){switch(n){case wd:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case yd:return!(e.byteLength!=t.byteLength||!s(new rd(e),new rd(t)));case ud:case dd:case fd:return yo(+e,+t);case pd:return e.name==t.name&&e.message==t.message;case gd:case vd:return e==t+"";case hd:var a=sd;case md:var l=r&ld;if(a||(a=ad),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;r|=cd,i.set(e,t);var u=td(a(e),a(t),r,o,s,i);return i["delete"](e),u;case bd:if(Cd)return Cd.call(e)==Cd.call(t)}return!1}var Ed=_d;function kd(e,t){var n=-1,r=t.length,o=e.length;while(++n<r)e[o+n]=t[n];return e}var Td=kd;function xd(e,t,n){var r=t(e);return Un(e)?r:Td(r,n(e))}var Rd=xd;function Ad(e,t){var n=-1,r=null==e?0:e.length,o=0,s=[];while(++n<r){var i=e[n];t(i,n,e)&&(s[o++]=i)}return s}var jd=Ad;function Id(){return[]}var Nd=Id,Od=Object.prototype,Dd=Od.propertyIsEnumerable,Pd=Object.getOwnPropertySymbols,Md=Pd?function(e){return null==e?[]:(e=Object(e),jd(Pd(e),(function(t){return Dd.call(e,t)})))}:Nd,Ld=Md;function $d(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}var Bd=$d,Hd="[object Arguments]";function Ud(e){return dr(e)&&cr(e)==Hd}var Vd=Ud,Fd=Object.prototype,qd=Fd.hasOwnProperty,zd=Fd.propertyIsEnumerable,Wd=Vd(function(){return arguments}())?Vd:function(e){return dr(e)&&qd.call(e,"callee")&&!zd.call(e,"callee")},Yd=Wd;function Gd(){return!1}var Kd=Gd,Xd="object"==typeof exports&&exports&&!exports.nodeType&&exports,Jd=Xd&&"object"==typeof module&&module&&!module.nodeType&&module,Zd=Jd&&Jd.exports===Xd,Qd=Zd?Wn.Buffer:void 0,ep=Qd?Qd.isBuffer:void 0,tp=ep||Kd,np=tp,rp=9007199254740991;function op(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=rp}var sp=op,ip="[object Arguments]",ap="[object Array]",lp="[object Boolean]",cp="[object Date]",up="[object Error]",dp="[object Function]",pp="[object Map]",hp="[object Number]",fp="[object Object]",gp="[object RegExp]",mp="[object Set]",vp="[object String]",bp="[object WeakMap]",yp="[object ArrayBuffer]",wp="[object DataView]",Sp="[object Float32Array]",Cp="[object Float64Array]",_p="[object Int8Array]",Ep="[object Int16Array]",kp="[object Int32Array]",Tp="[object Uint8Array]",xp="[object Uint8ClampedArray]",Rp="[object Uint16Array]",Ap="[object Uint32Array]",jp={};function Ip(e){return dr(e)&&sp(e.length)&&!!jp[cr(e)]}jp[Sp]=jp[Cp]=jp[_p]=jp[Ep]=jp[kp]=jp[Tp]=jp[xp]=jp[Rp]=jp[Ap]=!0,jp[ip]=jp[ap]=jp[yp]=jp[lp]=jp[wp]=jp[cp]=jp[up]=jp[dp]=jp[pp]=jp[hp]=jp[fp]=jp[gp]=jp[mp]=jp[vp]=jp[bp]=!1;var Np=Ip;function Op(e){return function(t){return e(t)}}var Dp=Op,Pp="object"==typeof exports&&exports&&!exports.nodeType&&exports,Mp=Pp&&"object"==typeof module&&module&&!module.nodeType&&module,Lp=Mp&&Mp.exports===Pp,$p=Lp&&Fn.process,Bp=function(){try{var e=Mp&&Mp.require&&Mp.require("util").types;return e||$p&&$p.binding&&$p.binding("util")}catch(t){}}(),Hp=Bp,Up=Hp&&Hp.isTypedArray,Vp=Up?Dp(Up):Np,Fp=Vp,qp=Object.prototype,zp=qp.hasOwnProperty;function Wp(e,t){var n=Un(e),r=!n&&Yd(e),o=!n&&!r&&np(e),s=!n&&!r&&!o&&Fp(e),i=n||r||o||s,a=i?Bd(e.length,String):[],l=a.length;for(var c in e)!t&&!zp.call(e,c)||i&&("length"==c||o&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ls(c,l))||a.push(c);return a}var Yp=Wp,Gp=Object.prototype;function Kp(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Gp;return e===n}var Xp=Kp;function Jp(e,t){return function(n){return e(t(n))}}var Zp=Jp,Qp=Zp(Object.keys,Object),eh=Qp,th=Object.prototype,nh=th.hasOwnProperty;function rh(e){if(!Xp(e))return eh(e);var t=[];for(var n in Object(e))nh.call(e,n)&&"constructor"!=n&&t.push(n);return t}var oh=rh;function sh(e){return null!=e&&sp(e.length)&&!Tr(e)}var ih=sh;function ah(e){return ih(e)?Yp(e):oh(e)}var lh=ah;function ch(e){return Rd(e,lh,Ld)}var uh=ch,dh=1,ph=Object.prototype,hh=ph.hasOwnProperty;function fh(e,t,n,r,o,s){var i=n&dh,a=uh(e),l=a.length,c=uh(t),u=c.length;if(l!=u&&!i)return!1;var d=l;while(d--){var p=a[d];if(!(i?p in t:hh.call(t,p)))return!1}var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var g=!0;s.set(e,t),s.set(t,e);var m=i;while(++d<l){p=a[d];var v=e[p],b=t[p];if(r)var y=i?r(b,v,p,t,e,s):r(v,b,p,e,t,s);if(!(void 0===y?v===b||o(v,b,n,r,s):y)){g=!1;break}m||(m="constructor"==p)}if(g&&!m){var w=e.constructor,S=t.constructor;w==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof S&&S instanceof S||(g=!1)}return s["delete"](e),s["delete"](t),g}var gh=fh,mh=Gr(Wn,"DataView"),vh=mh,bh=Gr(Wn,"Promise"),yh=bh,wh=Gr(Wn,"Set"),Sh=wh,Ch=Gr(Wn,"WeakMap"),_h=Ch,Eh="[object Map]",kh="[object Object]",Th="[object Promise]",xh="[object Set]",Rh="[object WeakMap]",Ah="[object DataView]",jh=Pr(vh),Ih=Pr(Po),Nh=Pr(yh),Oh=Pr(Sh),Dh=Pr(_h),Ph=cr;(vh&&Ph(new vh(new ArrayBuffer(1)))!=Ah||Po&&Ph(new Po)!=Eh||yh&&Ph(yh.resolve())!=Th||Sh&&Ph(new Sh)!=xh||_h&&Ph(new _h)!=Rh)&&(Ph=function(e){var t=cr(e),n=t==kh?e.constructor:void 0,r=n?Pr(n):"";if(r)switch(r){case jh:return Ah;case Ih:return Eh;case Nh:return Th;case Oh:return xh;case Dh:return Rh}return t});var Mh=Ph,Lh=1,$h="[object Arguments]",Bh="[object Array]",Hh="[object Object]",Uh=Object.prototype,Vh=Uh.hasOwnProperty;function Fh(e,t,n,r,o,s){var i=Un(e),a=Un(t),l=i?Bh:Mh(e),c=a?Bh:Mh(t);l=l==$h?Hh:l,c=c==$h?Hh:c;var u=l==Hh,d=c==Hh,p=l==c;if(p&&np(e)){if(!np(t))return!1;i=!0,u=!1}if(p&&!u)return s||(s=new Hu),i||Fp(e)?td(e,t,n,r,o,s):Ed(e,t,l,n,r,o,s);if(!(n&Lh)){var h=u&&Vh.call(e,"__wrapped__"),f=d&&Vh.call(t,"__wrapped__");if(h||f){var g=h?e.value():e,m=f?t.value():t;return s||(s=new Hu),o(g,m,n,r,s)}}return!!p&&(s||(s=new Hu),gh(e,t,n,r,o,s))}var qh=Fh;function zh(e,t,n,r,o){return e===t||(null==e||null==t||!dr(e)&&!dr(t)?e!==e&&t!==t:qh(e,t,n,r,zh,o))}var Wh=zh;function Yh(e,t){return Wh(e,t)}var Gh=Yh,Kh=function(){return Wn.Date.now()},Xh=Kh,Jh=/\s/;function Zh(e){var t=e.length;while(t--&&Jh.test(e.charAt(t)));return t}var Qh=Zh,ef=/^\s+/;function tf(e){return e?e.slice(0,Qh(e)+1).replace(ef,""):e}var nf=tf,rf=NaN,of=/^[-+]0x[0-9a-f]+$/i,sf=/^0b[01]+$/i,af=/^0o[0-7]+$/i,lf=parseInt;function cf(e){if("number"==typeof e)return e;if(fr(e))return rf;if(wr(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=wr(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=nf(e);var n=sf.test(e);return n||af.test(e)?lf(e.slice(2),n?2:8):of.test(e)?rf:+e}var uf=cf,df="Expected a function",pf=Math.max,hf=Math.min;function ff(e,t,n){var r,o,s,i,a,l,c=0,u=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError(df);function h(t){var n=r,s=o;return r=o=void 0,c=t,i=e.apply(s,n),i}function f(e){return c=e,a=setTimeout(v,t),u?h(e):i}function g(e){var n=e-l,r=e-c,o=t-n;return d?hf(o,s-r):o}function m(e){var n=e-l,r=e-c;return void 0===l||n>=t||n<0||d&&r>=s}function v(){var e=Xh();if(m(e))return b(e);a=setTimeout(v,g(e))}function b(e){return a=void 0,p&&r?h(e):(r=o=void 0,i)}function y(){void 0!==a&&clearTimeout(a),c=0,r=l=o=a=void 0}function w(){return void 0===a?i:b(Xh())}function S(){var e=Xh(),n=m(e);if(r=arguments,o=this,l=e,n){if(void 0===a)return f(l);if(d)return clearTimeout(a),a=setTimeout(v,t),h(l)}return void 0===a&&(a=setTimeout(v,t)),i}return t=uf(t)||0,wr(n)&&(u=!!n.leading,d="maxWait"in n,s=d?pf(uf(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),S.cancel=y,S.flush=w,S}var gf=ff,mf={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const vf=e=>(t,r)=>bf(t,r,(0,n.unref)(e)),bf=(e,t,n)=>ks(n,e,e).replace(/\{(\w+)\}/g,((e,n)=>{var r;return`${null!=(r=null==t?void 0:t[n])?r:`{${n}}`}`})),yf=e=>{const t=(0,n.computed)((()=>(0,n.unref)(e).name)),r=(0,n.isRef)(e)?e:(0,n.ref)(e);return{lang:t,locale:r,t:vf(e)}},wf=()=>{const e=zs("locale");return yf((0,n.computed)((()=>e.value||mf)))},Sf=e=>bc[e||"default"];let Cf;const _f=()=>{var e;if(!j)return 0;if(void 0!==Cf)return Cf;const t=document.createElement("div");t.className="el-scrollbar__wrap",t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);const n=t.offsetWidth;t.style.overflow="scroll";const r=document.createElement("div");r.style.width="100%",t.appendChild(r);const o=r.offsetWidth;return null==(e=t.parentNode)||e.removeChild(t),Cf=n-o,Cf};function Ef(e,t){if(!j)return;if(!t)return void(e.scrollTop=0);const n=[];let r=t.offsetParent;while(null!==r&&e!==r&&e.contains(r))n.push(r),r=r.offsetParent;const o=t.offsetTop+n.reduce(((e,t)=>e+t.offsetTop),0),s=o+t.offsetHeight,i=e.scrollTop,a=i+e.clientHeight;o<i?e.scrollTop=o:s>a&&(e.scrollTop=s-e.clientHeight)}function kf(e){const{t:t}=wf();return(0,n.reactive)({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,initialInputHeight:0,optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:t("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1,prefixWidth:11,tagInMultiLine:!1})}const Tf=(e,t,r)=>{const{t:o}=wf(),s=Qs("select"),i=(0,n.ref)(null),a=(0,n.ref)(null),l=(0,n.ref)(null),c=(0,n.ref)(null),u=(0,n.ref)(null),d=(0,n.ref)(null),p=(0,n.ref)(-1),h=(0,n.shallowRef)({query:""}),f=(0,n.shallowRef)(""),m=(0,n.inject)(Dn,{}),v=(0,n.inject)(Pn,{}),y=(0,n.computed)((()=>!e.filterable||e.multiple||!t.visible)),w=(0,n.computed)((()=>e.disabled||m.disabled)),S=(0,n.computed)((()=>{const n=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:void 0!==e.modelValue&&null!==e.modelValue&&""!==e.modelValue,r=e.clearable&&!w.value&&t.inputHovering&&n;return r})),C=(0,n.computed)((()=>e.remote&&e.filterable?"":e.suffixIcon)),_=(0,n.computed)((()=>s.is("reverse",C.value&&t.visible))),E=(0,n.computed)((()=>e.remote?300:0)),k=(0,n.computed)((()=>e.loading?e.loadingText||o("el.select.loading"):(!e.remote||""!==t.query||0!==t.options.size)&&(e.filterable&&t.query&&t.options.size>0&&0===t.filteredOptionsCount?e.noMatchText||o("el.select.noMatch"):0===t.options.size?e.noDataText||o("el.select.noData"):null))),T=(0,n.computed)((()=>Array.from(t.options.values()))),x=(0,n.computed)((()=>Array.from(t.cachedOptions.values()))),R=(0,n.computed)((()=>{const n=T.value.filter((e=>!e.created)).some((e=>e.currentLabel===t.query));return e.filterable&&e.allowCreate&&""!==t.query&&!n})),A=wc(),I=(0,n.computed)((()=>["small"].includes(A.value)?"small":"default")),N=(0,n.computed)({get(){return t.visible&&!1!==k.value},set(e){t.visible=e}});(0,n.watch)([()=>w.value,()=>A.value,()=>m.size],(()=>{(0,n.nextTick)((()=>{O()}))})),(0,n.watch)((()=>e.placeholder),(e=>{t.cachedPlaceHolder=t.currentPlaceholder=e})),(0,n.watch)((()=>e.modelValue),((n,r)=>{var o;e.multiple&&(O(),n&&n.length>0||a.value&&""!==t.query?t.currentPlaceholder="":t.currentPlaceholder=t.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(t.query="",D(t.query))),L(),e.filterable&&!e.multiple&&(t.inputLength=20),Gh(n,r)||null==(o=v.validate)||o.call(v,"change").catch((e=>Bn(e)))}),{flush:"post",deep:!0}),(0,n.watch)((()=>t.visible),(o=>{var s,i,c;o?(null==(i=null==(s=l.value)?void 0:s.updatePopper)||i.call(s),e.filterable&&(t.filteredOptionsCount=t.optionsCount,t.query=e.remote?"":t.selectedLabel,e.multiple?null==(c=a.value)||c.focus():t.selectedLabel&&(t.currentPlaceholder=`${t.selectedLabel}`,t.selectedLabel=""),D(t.query),e.multiple||e.remote||(h.value.query="",(0,n.triggerRef)(h),(0,n.triggerRef)(f)))):(a.value&&a.value.blur(),t.query="",t.previousQuery=null,t.selectedLabel="",t.inputLength=20,t.menuVisibleOnFocus=!1,B(),(0,n.nextTick)((()=>{a.value&&""===a.value.value&&0===t.selected.length&&(t.currentPlaceholder=t.cachedPlaceHolder)})),e.multiple||(t.selected&&(e.filterable&&e.allowCreate&&t.createdSelected&&t.createdLabel?t.selectedLabel=t.createdLabel:t.selectedLabel=t.selected.currentLabel,e.filterable&&(t.query=t.selectedLabel)),e.filterable&&(t.currentPlaceholder=t.cachedPlaceHolder))),r.emit("visible-change",o)})),(0,n.watch)((()=>t.options.entries()),(()=>{var n,r,o;if(!j)return;null==(r=null==(n=l.value)?void 0:n.updatePopper)||r.call(n),e.multiple&&O();const s=(null==(o=u.value)?void 0:o.querySelectorAll("input"))||[];Array.from(s).includes(document.activeElement)||L(),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&M()}),{flush:"post"}),(0,n.watch)((()=>t.hoverIndex),(e=>{"number"===typeof e&&e>-1&&(p.value=T.value[e]||{}),T.value.forEach((e=>{e.hover=p.value===e}))}));const O=()=>{e.collapseTags&&!e.filterable||(0,n.nextTick)((()=>{var e,n;if(!i.value)return;const r=i.value.$el.querySelector("input"),o=c.value,s=t.initialInputHeight||Sf(A.value||m.size);r.style.height=0===t.selected.length?`${s}px`:`${Math.max(o?o.clientHeight+(o.clientHeight>s?6:0):0,s)}px`,t.tagInMultiLine=Number.parseFloat(r.style.height)>=s,t.visible&&!1!==k.value&&(null==(n=null==(e=l.value)?void 0:e.updatePopper)||n.call(e))}))},D=r=>{t.previousQuery===r||t.isOnComposition||(null!==t.previousQuery||"function"!==typeof e.filterMethod&&"function"!==typeof e.remoteMethod?(t.previousQuery=r,(0,n.nextTick)((()=>{var e,n;t.visible&&(null==(n=null==(e=l.value)?void 0:e.updatePopper)||n.call(e))})),t.hoverIndex=-1,e.multiple&&e.filterable&&(0,n.nextTick)((()=>{const n=15*a.value.value.length+20;t.inputLength=e.collapseTags?Math.min(50,n):n,P(),O()})),e.remote&&"function"===typeof e.remoteMethod?(t.hoverIndex=-1,e.remoteMethod(r)):"function"===typeof e.filterMethod?(e.filterMethod(r),(0,n.triggerRef)(f)):(t.filteredOptionsCount=t.optionsCount,h.value.query=r,(0,n.triggerRef)(h),(0,n.triggerRef)(f)),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&M()):t.previousQuery=r)},P=()=>{""!==t.currentPlaceholder&&(t.currentPlaceholder=a.value.value?"":t.cachedPlaceHolder)},M=()=>{const e=T.value.filter((e=>e.visible&&!e.disabled&&!e.states.groupDisabled)),n=e.find((e=>e.created)),r=e[0];t.hoverIndex=X(T.value,n||r)},L=()=>{var r;if(!e.multiple){const n=$(e.modelValue);return(null==(r=n.props)?void 0:r.created)?(t.createdLabel=n.props.value,t.createdSelected=!0):t.createdSelected=!1,t.selectedLabel=n.currentLabel,t.selected=n,void(e.filterable&&(t.query=t.selectedLabel))}t.selectedLabel="";const o=[];Array.isArray(e.modelValue)&&e.modelValue.forEach((e=>{o.push($(e))})),t.selected=o,(0,n.nextTick)((()=>{O()}))},$=n=>{let r;const o="object"===b(n).toLowerCase(),s="null"===b(n).toLowerCase(),i="undefined"===b(n).toLowerCase();for(let c=t.cachedOptions.size-1;c>=0;c--){const t=x.value[c],s=o?ks(t.value,e.valueKey)===ks(n,e.valueKey):t.value===n;if(s){r={value:n,currentLabel:t.currentLabel,isDisabled:t.isDisabled};break}}if(r)return r;const a=o?n.label:s||i?"":n,l={value:n,currentLabel:a};return e.multiple&&(l.hitState=!1),l},B=()=>{setTimeout((()=>{const n=e.valueKey;e.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map((e=>T.value.findIndex((t=>ks(t,n)===ks(e,n)))))):t.hoverIndex=-1:t.hoverIndex=T.value.findIndex((e=>pe(e)===pe(t.selected)))}),300)},H=()=>{var t,n;U(),null==(n=null==(t=l.value)?void 0:t.updatePopper)||n.call(t),e.multiple&&!e.filterable&&O()},U=()=>{var e;t.inputWidth=null==(e=i.value)?void 0:e.$el.getBoundingClientRect().width},V=()=>{e.filterable&&t.query!==t.selectedLabel&&(t.query=t.selectedLabel,D(t.query))},F=gf((()=>{V()}),E.value),q=gf((e=>{D(e.target.value)}),E.value),z=t=>{Gh(e.modelValue,t)||r.emit(_c,t)},W=n=>{if(n.target.value.length<=0&&!ne()){const t=e.modelValue.slice();t.pop(),r.emit(Cc,t),z(t)}1===n.target.value.length&&0===e.modelValue.length&&(t.currentPlaceholder=t.cachedPlaceHolder)},Y=(n,o)=>{const s=t.selected.indexOf(o);if(s>-1&&!w.value){const t=e.modelValue.slice();t.splice(s,1),r.emit(Cc,t),z(t),r.emit("remove-tag",o.value)}n.stopPropagation()},G=n=>{n.stopPropagation();const o=e.multiple?[]:"";if("string"!==typeof o)for(const e of t.selected)e.isDisabled&&o.push(e.value);r.emit(Cc,o),z(o),t.visible=!1,r.emit("clear")},K=(o,s)=>{var i;if(e.multiple){const n=(e.modelValue||[]).slice(),s=X(n,o.value);s>-1?n.splice(s,1):(e.multipleLimit<=0||n.length<e.multipleLimit)&&n.push(o.value),r.emit(Cc,n),z(n),o.created&&(t.query="",D(""),t.inputLength=20),e.filterable&&(null==(i=a.value)||i.focus())}else r.emit(Cc,o.value),z(o.value),t.visible=!1;t.isSilentBlur=s,J(),t.visible||(0,n.nextTick)((()=>{Z(o)}))},X=(t=[],n)=>{if(!g(n))return t.indexOf(n);const r=e.valueKey;let o=-1;return t.some(((e,t)=>ks(e,r)===ks(n,r)&&(o=t,!0))),o},J=()=>{t.softFocus=!0;const e=a.value||i.value;e&&(null==e||e.focus())},Z=e=>{var t,n,r,o,i;const a=Array.isArray(e)?e[0]:e;let c=null;if(null==a?void 0:a.value){const e=T.value.filter((e=>e.value===a.value));e.length>0&&(c=e[0].$el)}if(l.value&&c){const e=null==(o=null==(r=null==(n=null==(t=l.value)?void 0:t.popperRef)?void 0:n.contentRef)?void 0:r.querySelector)?void 0:o.call(r,`.${s.be("dropdown","wrap")}`);e&&Ef(e,c)}null==(i=d.value)||i.handleScroll()},Q=e=>{t.optionsCount++,t.filteredOptionsCount++,t.options.set(e.value,e),t.cachedOptions.set(e.value,e)},ee=(e,n)=>{t.options.get(e)===n&&(t.optionsCount--,t.filteredOptionsCount--,t.options.delete(e))},te=e=>{e.code!==ii.backspace&&ne(!1),t.inputLength=15*a.value.value.length+20,O()},ne=e=>{if(!Array.isArray(t.selected))return;const n=t.selected[t.selected.length-1];return n?!0===e||!1===e?(n.hitState=e,e):(n.hitState=!n.hitState,n.hitState):void 0},re=e=>{const r=e.target.value;if("compositionend"===e.type)t.isOnComposition=!1,(0,n.nextTick)((()=>D(r)));else{const e=r[r.length-1]||"";t.isOnComposition=!Nc(e)}},oe=()=>{(0,n.nextTick)((()=>Z(t.selected)))},se=n=>{t.softFocus?t.softFocus=!1:((e.automaticDropdown||e.filterable)&&(e.filterable&&!t.visible&&(t.menuVisibleOnFocus=!0),t.visible=!0),r.emit("focus",n))},ie=()=>{var e;t.visible=!1,null==(e=i.value)||e.blur()},ae=e=>{(0,n.nextTick)((()=>{t.isSilentBlur?t.isSilentBlur=!1:r.emit("blur",e)})),t.softFocus=!1},le=e=>{G(e)},ce=()=>{t.visible=!1},ue=()=>{var n;e.automaticDropdown||w.value||(t.menuVisibleOnFocus?t.menuVisibleOnFocus=!1:t.visible=!t.visible,t.visible&&(null==(n=a.value||i.value)||n.focus()))},de=()=>{t.visible?T.value[t.hoverIndex]&&K(T.value[t.hoverIndex],void 0):ue()},pe=t=>g(t.value)?ks(t.value,e.valueKey):t.value,he=(0,n.computed)((()=>T.value.filter((e=>e.visible)).every((e=>e.disabled)))),fe=e=>{if(t.visible){if(0!==t.options.size&&0!==t.filteredOptionsCount&&!t.isOnComposition&&!he.value){"next"===e?(t.hoverIndex++,t.hoverIndex===t.options.size&&(t.hoverIndex=0)):"prev"===e&&(t.hoverIndex--,t.hoverIndex<0&&(t.hoverIndex=t.options.size-1));const r=T.value[t.hoverIndex];!0!==r.disabled&&!0!==r.states.groupDisabled&&r.visible||fe(e),(0,n.nextTick)((()=>Z(p.value)))}}else t.visible=!0};return{optionsArray:T,selectSize:A,handleResize:H,debouncedOnInputChange:F,debouncedQueryChange:q,deletePrevTag:W,deleteTag:Y,deleteSelected:G,handleOptionSelect:K,scrollToOption:Z,readonly:y,resetInputHeight:O,showClose:S,iconComponent:C,iconReverse:_,showNewOption:R,collapseTagSize:I,setSelected:L,managePlaceholder:P,selectDisabled:w,emptyText:k,toggleLastOptionHitState:ne,resetInputState:te,handleComposition:re,onOptionCreate:Q,onOptionDestroy:ee,handleMenuEnter:oe,handleFocus:se,blur:ie,handleBlur:ae,handleClearClick:le,handleClose:ce,toggleMenu:ue,selectOption:de,getValueKey:pe,navigateOptions:fe,dropMenuVisible:N,queryChange:h,groupQueryChange:f,reference:i,input:a,tooltipRef:l,tags:c,selectWrapper:u,scrollbar:d}},xf=new Map;let Rf;function Af(e,t){let n=[];return Array.isArray(t.arg)?n=t.arg:Ci(t.arg)&&n.push(t.arg),function(r,o){const s=t.instance.popperRef,i=r.target,a=null==o?void 0:o.target,l=!t||!t.instance,c=!i||!a,u=e.contains(i)||e.contains(a),d=e===i,p=n.length&&n.some((e=>null==e?void 0:e.contains(i)))||n.length&&n.includes(a),h=s&&(s.contains(i)||s.contains(a));l||c||u||d||p||h||t.value(r,o)}}j&&(document.addEventListener("mousedown",(e=>Rf=e)),document.addEventListener("mouseup",(e=>{for(const t of xf.values())for(const{documentHandler:n}of t)n(e,Rf)})));const jf={beforeMount(e,t){xf.has(e)||xf.set(e,[]),xf.get(e).push({documentHandler:Af(e,t),bindingFn:t.value})},updated(e,t){xf.has(e)||xf.set(e,[]);const n=xf.get(e),r=n.findIndex((e=>e.bindingFn===t.oldValue)),o={documentHandler:Af(e,t),bindingFn:t.value};r>=0?n.splice(r,1,o):n.push(o)},unmounted(e){xf.delete(e)}},If=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],Nf=e=>["",...vc].includes(e),Of=e=>[...If].includes(e),Df=e=>({focus:()=>{var t,n;null==(n=null==(t=e.value)?void 0:t.focus)||n.call(t)}}),Pf="ElSelect",Mf=(0,n.defineComponent)({name:Pf,componentName:Pf,components:{ElInput:$c,ElSelectMenu:xu,ElOption:Su,ElTag:lu,ElScrollbar:nu,ElTooltip:ea,ElIcon:Jl},directives:{ClickOutside:jf},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:Nf},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},teleported:kn.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:[String,Object],default:Ja},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:[String,Object],default:fu},tagType:{...ru.type,default:"info"}},emits:[Cc,_c,"remove-tag","clear","visible-change","focus","blur"],setup(e,t){const r=Qs("select"),o=Qs("input"),{t:s}=wf(),i=kf(e),{optionsArray:a,selectSize:l,readonly:c,handleResize:u,collapseTagSize:d,debouncedOnInputChange:p,debouncedQueryChange:h,deletePrevTag:f,deleteTag:g,deleteSelected:m,handleOptionSelect:v,scrollToOption:b,setSelected:y,resetInputHeight:w,managePlaceholder:S,showClose:C,selectDisabled:_,iconComponent:E,iconReverse:k,showNewOption:T,emptyText:x,toggleLastOptionHitState:R,resetInputState:A,handleComposition:j,onOptionCreate:I,onOptionDestroy:N,handleMenuEnter:O,handleFocus:D,blur:P,handleBlur:M,handleClearClick:L,handleClose:$,toggleMenu:B,selectOption:H,getValueKey:U,navigateOptions:V,dropMenuVisible:F,reference:q,input:z,tooltipRef:W,tags:Y,selectWrapper:G,scrollbar:K,queryChange:X,groupQueryChange:J}=Tf(e,i,t),{focus:Z}=Df(q),{inputWidth:Q,selected:ee,inputLength:te,filteredOptionsCount:ne,visible:re,softFocus:oe,selectedLabel:se,hoverIndex:ie,query:ae,inputHovering:le,currentPlaceholder:ce,menuVisibleOnFocus:ue,isOnComposition:de,isSilentBlur:pe,options:he,cachedOptions:fe,optionsCount:ge,prefixWidth:me,tagInMultiLine:ve}=(0,n.toRefs)(i),be=(0,n.computed)((()=>{const t=[r.b()],o=(0,n.unref)(l);return o&&t.push(r.m(o)),e.disabled&&t.push(r.m("disabled")),t})),ye=(0,n.computed)((()=>({maxWidth:(0,n.unref)(Q)-32+"px",width:"100%"})));(0,n.provide)(mu,(0,n.reactive)({props:e,options:he,optionsArray:a,cachedOptions:fe,optionsCount:ge,filteredOptionsCount:ne,hoverIndex:ie,handleOptionSelect:v,onOptionCreate:I,onOptionDestroy:N,selectWrapper:G,selected:ee,setSelected:y,queryChange:X,groupQueryChange:J})),(0,n.onMounted)((()=>{if(i.cachedPlaceHolder=ce.value=e.placeholder||s("el.select.placeholder"),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(ce.value=""),_u(G.value,u),q.value&&q.value.$el){const e=q.value.input;i.initialInputHeight=e.getBoundingClientRect().height}e.remote&&e.multiple&&w(),(0,n.nextTick)((()=>{const e=q.value&&q.value.$el;if(e&&(Q.value=e.getBoundingClientRect().width,t.slots.prefix)){const t=e.querySelector(`.${o.e("prefix")}`);me.value=Math.max(t.getBoundingClientRect().width+5,30)}})),y()})),(0,n.onBeforeUnmount)((()=>{Eu(G.value,u)})),e.multiple&&!Array.isArray(e.modelValue)&&t.emit(Cc,[]),!e.multiple&&Array.isArray(e.modelValue)&&t.emit(Cc,"");const we=(0,n.computed)((()=>{var e,t;return null==(t=null==(e=W.value)?void 0:e.popperRef)?void 0:t.contentRef}));return{tagInMultiLine:ve,prefixWidth:me,selectSize:l,readonly:c,handleResize:u,collapseTagSize:d,debouncedOnInputChange:p,debouncedQueryChange:h,deletePrevTag:f,deleteTag:g,deleteSelected:m,handleOptionSelect:v,scrollToOption:b,inputWidth:Q,selected:ee,inputLength:te,filteredOptionsCount:ne,visible:re,softFocus:oe,selectedLabel:se,hoverIndex:ie,query:ae,inputHovering:le,currentPlaceholder:ce,menuVisibleOnFocus:ue,isOnComposition:de,isSilentBlur:pe,options:he,resetInputHeight:w,managePlaceholder:S,showClose:C,selectDisabled:_,iconComponent:E,iconReverse:k,showNewOption:T,emptyText:x,toggleLastOptionHitState:R,resetInputState:A,handleComposition:j,handleMenuEnter:O,handleFocus:D,blur:P,handleBlur:M,handleClearClick:L,handleClose:$,toggleMenu:B,selectOption:H,getValueKey:U,navigateOptions:V,dropMenuVisible:F,focus:Z,reference:q,input:z,tooltipRef:W,popperPaneRef:we,tags:Y,selectWrapper:G,scrollbar:K,wrapperKls:be,selectTagsStyle:ye,nsSelect:r}}}),Lf={class:"select-trigger"},$f=["disabled","autocomplete"],Bf={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function Hf(e,t,r,o,s,i){const a=(0,n.resolveComponent)("el-tag"),l=(0,n.resolveComponent)("el-tooltip"),c=(0,n.resolveComponent)("el-icon"),u=(0,n.resolveComponent)("el-input"),d=(0,n.resolveComponent)("el-option"),p=(0,n.resolveComponent)("el-scrollbar"),h=(0,n.resolveComponent)("el-select-menu"),f=(0,n.resolveDirective)("click-outside");return(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("div",{ref:"selectWrapper",class:(0,n.normalizeClass)(e.wrapperKls),onClick:t[24]||(t[24]=(0,n.withModifiers)(((...t)=>e.toggleMenu&&e.toggleMenu(...t)),["stop"]))},[(0,n.createVNode)(l,{ref:"tooltipRef",visible:e.dropMenuVisible,"onUpdate:visible":t[23]||(t[23]=t=>e.dropMenuVisible=t),placement:"bottom-start",teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",Lf,[e.multiple?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,ref:"tags",class:(0,n.normalizeClass)(e.nsSelect.e("tags")),style:(0,n.normalizeStyle)(e.selectTagsStyle)},[e.collapseTags&&e.selected.length?((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:0,class:(0,n.normalizeClass)([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[(0,n.createVNode)(a,{closable:!e.selectDisabled&&!e.selected[0].isDisabled,size:e.collapseTagSize,hit:e.selected[0].hitState,type:e.tagType,"disable-transitions":"",onClose:t[0]||(t[0]=t=>e.deleteTag(t,e.selected[0]))},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)(e.nsSelect.e("tags-text")),style:(0,n.normalizeStyle)({maxWidth:e.inputWidth-123+"px"})},(0,n.toDisplayString)(e.selected[0].currentLabel),7)])),_:1},8,["closable","size","hit","type"]),e.selected.length>1?((0,n.openBlock)(),(0,n.createBlock)(a,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:(0,n.withCtx)((()=>[e.collapseTagsTooltip?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:!1},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)(e.nsSelect.e("tags-text"))},"+ "+(0,n.toDisplayString)(e.selected.length-1),3)])),content:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(e.nsSelect.e("collapse-tags"))},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.selected,((t,r)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:r,class:(0,n.normalizeClass)(e.nsSelect.e("collapse-tag"))},[((0,n.openBlock)(),(0,n.createBlock)(a,{key:e.getValueKey(t),class:"in-tooltip",closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,hit:t.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:n=>e.deleteTag(n,t)},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)(e.nsSelect.e("tags-text")),style:(0,n.normalizeStyle)({maxWidth:e.inputWidth-75+"px"})},(0,n.toDisplayString)(t.currentLabel),7)])),_:2},1032,["closable","size","hit","type","onClose"]))],2)))),128))],2)])),_:1},8,["disabled","effect"])):((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:1,class:(0,n.normalizeClass)(e.nsSelect.e("tags-text"))},"+ "+(0,n.toDisplayString)(e.selected.length-1),3))])),_:1},8,["size","type"])):(0,n.createCommentVNode)("v-if",!0)],2)):(0,n.createCommentVNode)("v-if",!0),(0,n.createCommentVNode)(" <div> "),e.collapseTags?(0,n.createCommentVNode)("v-if",!0):((0,n.openBlock)(),(0,n.createBlock)(n.Transition,{key:1,onAfterLeave:e.resetInputHeight},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.selected,(t=>((0,n.openBlock)(),(0,n.createBlock)(a,{key:e.getValueKey(t),closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,hit:t.hitState,type:e.tagType,"disable-transitions":"",onClose:n=>e.deleteTag(n,t)},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)(e.nsSelect.e("tags-text")),style:(0,n.normalizeStyle)({maxWidth:e.inputWidth-75+"px"})},(0,n.toDisplayString)(t.currentLabel),7)])),_:2},1032,["closable","size","hit","type","onClose"])))),128))],2)])),_:1},8,["onAfterLeave"])),(0,n.createCommentVNode)(" </div> "),e.filterable?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("input",{key:2,ref:"input","onUpdate:modelValue":t[1]||(t[1]=t=>e.query=t),type:"text",class:(0,n.normalizeClass)([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:(0,n.normalizeStyle)({marginLeft:e.prefixWidth&&!e.selected.length||e.tagInMultiLine?`${e.prefixWidth}px`:"",flexGrow:1,width:e.inputLength/(e.inputWidth-32)+"%",maxWidth:e.inputWidth-42+"px"}),onFocus:t[2]||(t[2]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[3]||(t[3]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onKeyup:t[4]||(t[4]=(...t)=>e.managePlaceholder&&e.managePlaceholder(...t)),onKeydown:[t[5]||(t[5]=(...t)=>e.resetInputState&&e.resetInputState(...t)),t[6]||(t[6]=(0,n.withKeys)((0,n.withModifiers)((t=>e.navigateOptions("next")),["prevent"]),["down"])),t[7]||(t[7]=(0,n.withKeys)((0,n.withModifiers)((t=>e.navigateOptions("prev")),["prevent"]),["up"])),t[8]||(t[8]=(0,n.withKeys)((0,n.withModifiers)((t=>e.visible=!1),["stop","prevent"]),["esc"])),t[9]||(t[9]=(0,n.withKeys)((0,n.withModifiers)(((...t)=>e.selectOption&&e.selectOption(...t)),["stop","prevent"]),["enter"])),t[10]||(t[10]=(0,n.withKeys)(((...t)=>e.deletePrevTag&&e.deletePrevTag(...t)),["delete"])),t[11]||(t[11]=(0,n.withKeys)((t=>e.visible=!1),["tab"]))],onCompositionstart:t[12]||(t[12]=(...t)=>e.handleComposition&&e.handleComposition(...t)),onCompositionupdate:t[13]||(t[13]=(...t)=>e.handleComposition&&e.handleComposition(...t)),onCompositionend:t[14]||(t[14]=(...t)=>e.handleComposition&&e.handleComposition(...t)),onInput:t[15]||(t[15]=(...t)=>e.debouncedQueryChange&&e.debouncedQueryChange(...t))},null,46,$f)),[[n.vModelText,e.query]]):(0,n.createCommentVNode)("v-if",!0)],6)):(0,n.createCommentVNode)("v-if",!0),(0,n.createVNode)(u,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":t[16]||(t[16]=t=>e.selectedLabel=t),type:"text",placeholder:e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:(0,n.normalizeClass)([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[t[17]||(t[17]=(0,n.withKeys)((0,n.withModifiers)((t=>e.navigateOptions("next")),["stop","prevent"]),["down"])),t[18]||(t[18]=(0,n.withKeys)((0,n.withModifiers)((t=>e.navigateOptions("prev")),["stop","prevent"]),["up"])),(0,n.withKeys)((0,n.withModifiers)(e.selectOption,["stop","prevent"]),["enter"]),t[19]||(t[19]=(0,n.withKeys)((0,n.withModifiers)((t=>e.visible=!1),["stop","prevent"]),["esc"])),t[20]||(t[20]=(0,n.withKeys)((t=>e.visible=!1),["tab"]))],onMouseenter:t[21]||(t[21]=t=>e.inputHovering=!0),onMouseleave:t[22]||(t[22]=t=>e.inputHovering=!1)},(0,n.createSlots)({suffix:(0,n.withCtx)((()=>[e.iconComponent&&!e.showClose?((0,n.openBlock)(),(0,n.createBlock)(c,{key:0,class:(0,n.normalizeClass)([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(e.iconComponent)))])),_:1},8,["class"])):(0,n.createCommentVNode)("v-if",!0),e.showClose&&e.clearIcon?((0,n.openBlock)(),(0,n.createBlock)(c,{key:1,class:(0,n.normalizeClass)([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(e.clearIcon)))])),_:1},8,["class","onClick"])):(0,n.createCommentVNode)("v-if",!0)])),_:2},[e.$slots.prefix?{name:"prefix",fn:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",Bf,[(0,n.renderSlot)(e.$slots,"prefix")])]))}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])])])),content:(0,n.withCtx)((()=>[(0,n.createVNode)(h,null,{default:(0,n.withCtx)((()=>[(0,n.withDirectives)((0,n.createVNode)(p,{ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:(0,n.normalizeClass)([e.nsSelect.is("empty",!e.allowCreate&&Boolean(e.query)&&0===e.filteredOptionsCount)])},{default:(0,n.withCtx)((()=>[e.showNewOption?((0,n.openBlock)(),(0,n.createBlock)(d,{key:0,value:e.query,created:!0},null,8,["value"])):(0,n.createCommentVNode)("v-if",!0),(0,n.renderSlot)(e.$slots,"default")])),_:3},8,["wrap-class","view-class","class"]),[[n.vShow,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&0===e.options.size)?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[e.$slots.empty?(0,n.renderSlot)(e.$slots,"empty",{key:0}):((0,n.openBlock)(),(0,n.createElementBlock)("p",{key:1,class:(0,n.normalizeClass)(e.nsSelect.be("dropdown","empty"))},(0,n.toDisplayString)(e.emptyText),3))],2112)):(0,n.createCommentVNode)("v-if",!0)])),_:3})])),_:3},8,["visible","teleported","popper-class","effect","transition","persistent","onShow"])],2)),[[f,e.handleClose,e.popperPaneRef]])}var Uf=r(Mf,[["render",Hf],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const Vf=(0,n.defineComponent)({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(e){const t=Qs("select"),r=(0,n.ref)(!0),o=(0,n.getCurrentInstance)(),s=(0,n.ref)([]);(0,n.provide)(gu,(0,n.reactive)({...(0,n.toRefs)(e)}));const i=(0,n.inject)(mu);(0,n.onMounted)((()=>{s.value=a(o.subTree)}));const a=e=>{const t=[];return Array.isArray(e.children)&&e.children.forEach((e=>{var n;e.type&&"ElOption"===e.type.name&&e.component&&e.component.proxy?t.push(e.component.proxy):(null==(n=e.children)?void 0:n.length)&&t.push(...a(e))})),t},{groupQueryChange:l}=(0,n.toRaw)(i);return(0,n.watch)(l,(()=>{r.value=s.value.some((e=>!0===e.visible))})),{visible:r,ns:t}}});function Ff(e,t,r,o,s,i){return(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("ul",{class:(0,n.normalizeClass)(e.ns.be("group","wrap"))},[(0,n.createElementVNode)("li",{class:(0,n.normalizeClass)(e.ns.be("group","title"))},(0,n.toDisplayString)(e.label),3),(0,n.createElementVNode)("li",null,[(0,n.createElementVNode)("ul",{class:(0,n.normalizeClass)(e.ns.b("group"))},[(0,n.renderSlot)(e.$slots,"default")],2)])],2)),[[n.vShow,e.visible]])}var qf=r(Vf,[["render",Ff],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const zf=k(Uf,{Option:Su,OptionGroup:qf}),Wf=x(Su),Yf=(x(qf),{key:0,class:"external-option"}),Gf={class:"external-option-title"},Kf=["onClick"],Xf={class:"number-content"},Jf=(0,n.createElementVNode)("img",{src:"https://nxcc-gz-1259196162.cos.ap-guangzhou.myqcloud.com/static/resource/img/call_out.svg",alt:""},null,-1),Zf=[Jf],Qf={class:"nx-delete-button"},eg=(0,n.createElementVNode)("img",{src:"https://nxcc-gz-1259196162.cos.ap-guangzhou.myqcloud.com/static/resource/img/dial.svg",alt:""},null,-1),tg={class:"span-white"},ng=(0,n.createElementVNode)("audio",{style:{display:"none"},id:"remoteAudio",controls:""},null,-1),rg=(0,n.createElementVNode)("audio",{style:{display:"none"},id:"playAudio",controls:""},null,-1);function og(e,t,r,o,s,i){const a=Wf,l=zf,c=$c,u=Ll,d=Ol,p=Al,h=(0,n.resolveComponent)("nx-status"),f=(0,n.resolveComponent)("nx-body");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createVNode)(p,{ref:"setRemovePop",placement:"bottom",width:304,onBeforeEnter:e.showElPopover,visible:e.popVisible,"popper-class":"dialStyle"},{reference:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",{class:"dial-link",onClick:t[4]||(t[4]=t=>e.popVisible=!e.popVisible)},[eg,(0,n.createElementVNode)("span",tg,(0,n.toDisplayString)(e.i18n.global.t("sip.dailPad")),1)])])),default:(0,n.withCtx)((()=>[2!=e.callStatus?((0,n.openBlock)(),(0,n.createElementBlock)("div",Yf,[(0,n.createElementVNode)("span",Gf,(0,n.toDisplayString)(e.i18n.global.t("sip.displayNumber"))+":",1),(0,n.createVNode)(l,{modelValue:e.external.number,"onUpdate:modelValue":t[0]||(t[0]=t=>e.external.number=t),filterable:"",placeholder:e.i18n.global.t("sip.selectDisplayNumber"),teleported:!1,onChange:e.changeExternal},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.externalList,(e=>((0,n.openBlock)(),(0,n.createBlock)(a,{key:e.id,label:`${e.number}${null!=e.remark&&""!=e.remark?"-"+e.remark:""}`,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder","onChange"])])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(c,{ref:"numberRef",modelValue:e.numberText,"onUpdate:modelValue":t[1]||(t[1]=t=>e.numberText=t),onInput:e.phoneInputChange,class:"number-input",disabled:2==e.callStatus},null,8,["modelValue","onInput","disabled"]),(0,n.createVNode)(d,{gutter:15},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.numberJson,((t,r)=>((0,n.openBlock)(),(0,n.createBlock)(u,{span:8,key:r},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",{class:"number-circle",onClick:n=>e.clickKeyBoardNumberKey(t.number)},[(0,n.createElementVNode)("div",Xf,[(0,n.createElementVNode)("h3",null,(0,n.toDisplayString)(t.number),1),(0,n.createElementVNode)("p",null,(0,n.toDisplayString)(t.label),1)])],8,Kf)])),_:2},1024)))),128)),(0,n.createVNode)(u,{span:8}),(0,n.createVNode)(u,{span:8},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",{class:"nx-call-button",onClick:t[2]||(t[2]=(...t)=>e.callPhone&&e.callPhone(...t))},Zf)])),_:1}),(0,n.createVNode)(u,{span:8},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",Qf,[(0,n.createElementVNode)("img",{src:"https://nxcc-gz-1259196162.cos.ap-guangzhou.myqcloud.com/static/resource/img/delete.svg",alt:"",class:"delete-number",onClick:t[3]||(t[3]=(...t)=>e.deleteNumber&&e.deleteNumber(...t))})])])),_:1})])),_:1})])),_:1},8,["onBeforeEnter","visible"]),ng,rg,(0,n.createVNode)(h),(0,n.createVNode)(f)])}const sg={},ig=oe({a11y:{type:Boolean,default:!0},locale:{type:se(Object)},size:{type:String,values:vc,default:""},button:{type:se(Object)},experimentalFeatures:{type:se(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:se(Object)},zIndex:{type:Number},namespace:{type:String,default:"el"}});var ag=(0,n.defineComponent)({name:"ElConfigProvider",props:ig,setup(e,{slots:t}){(0,n.watch)((()=>e.message),(e=>{Object.assign(sg,null!=e?e:{})}),{immediate:!0,deep:!0});const r=Ws(e);return()=>(0,n.renderSlot)(t,"default",{config:null==r?void 0:r.value})}});const lg=oe({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),cg=["textContent"],ug={name:"ElBadge"},dg=(0,n.defineComponent)({...ug,props:lg,setup(e,{expose:t}){const r=e,o=Qs("badge"),s=(0,n.computed)((()=>r.isDot?"":N(r.value)&&N(r.max)&&r.max<r.value?`${r.max}+`:`${r.value}`));return t({content:s}),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)((0,n.unref)(o).b())},[(0,n.renderSlot)(e.$slots,"default"),(0,n.createVNode)(n.Transition,{name:`${(0,n.unref)(o).namespace.value}-zoom-in-center`},{default:(0,n.withCtx)((()=>[(0,n.withDirectives)((0,n.createElementVNode)("sup",{class:(0,n.normalizeClass)([(0,n.unref)(o).e("content"),(0,n.unref)(o).em("content",e.type),(0,n.unref)(o).is("fixed",!!e.$slots.default),(0,n.unref)(o).is("dot",e.isDot)]),textContent:(0,n.toDisplayString)((0,n.unref)(s))},null,10,cg),[[n.vShow,!e.hidden&&((0,n.unref)(s)||"0"===(0,n.unref)(s)||e.isDot)]])])),_:1},8,["name"])],2))}});var pg=r(dg,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const hg=k(pg),fg=["success","info","warning","error"],gg=oe({customClass:{type:String,default:""},center:{type:Boolean,default:!1},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:3e3},icon:{type:Za,default:""},id:{type:String,default:""},message:{type:se([String,Object,Function]),default:""},onClose:{type:se(Function),required:!1},showClose:{type:Boolean,default:!1},type:{type:String,values:fg,default:"info"},offset:{type:Number,default:20},zIndex:{type:Number,default:0},grouping:{type:Boolean,default:!1},repeatNum:{type:Number,default:1}}),mg={destroy:()=>!0},vg=(0,n.defineComponent)({name:"ElMessage",components:{ElBadge:hg,ElIcon:Jl,...el},props:gg,emits:mg,setup(e){const t=Qs("message"),r=(0,n.ref)(!1),o=(0,n.ref)(e.type?"error"===e.type?"danger":e.type:"info");let s;const i=(0,n.computed)((()=>{const n=e.type;return{[t.bm("icon",n)]:n&&tl[n]}})),a=(0,n.computed)((()=>e.icon||tl[e.type]||"")),l=(0,n.computed)((()=>({top:`${e.offset}px`,zIndex:e.zIndex})));function c(){e.duration>0&&({stop:s}=H((()=>{r.value&&d()}),e.duration))}function u(){null==s||s()}function d(){r.value=!1}function p({code:e}){e===ii.esc?r.value&&d():c()}return(0,n.onMounted)((()=>{c(),r.value=!0})),(0,n.watch)((()=>e.repeatNum),(()=>{u(),c()})),F(document,"keydown",p),{ns:t,typeClass:i,iconComponent:a,customStyle:l,visible:r,badgeType:o,close:d,clearTimer:u,startTimer:c}}}),bg=["id"],yg=["innerHTML"];function wg(e,t,r,o,s,i){const a=(0,n.resolveComponent)("el-badge"),l=(0,n.resolveComponent)("el-icon"),c=(0,n.resolveComponent)("close");return(0,n.openBlock)(),(0,n.createBlock)(n.Transition,{name:e.ns.b("fade"),onBeforeLeave:e.onClose,onAfterLeave:t[2]||(t[2]=t=>e.$emit("destroy"))},{default:(0,n.withCtx)((()=>[(0,n.withDirectives)((0,n.createElementVNode)("div",{id:e.id,class:(0,n.normalizeClass)([e.ns.b(),{[e.ns.m(e.type)]:e.type&&!e.icon},e.ns.is("center",e.center),e.ns.is("closable",e.showClose),e.customClass]),style:(0,n.normalizeStyle)(e.customStyle),role:"alert",onMouseenter:t[0]||(t[0]=(...t)=>e.clearTimer&&e.clearTimer(...t)),onMouseleave:t[1]||(t[1]=(...t)=>e.startTimer&&e.startTimer(...t))},[e.repeatNum>1?((0,n.openBlock)(),(0,n.createBlock)(a,{key:0,value:e.repeatNum,type:e.badgeType,class:(0,n.normalizeClass)(e.ns.e("badge"))},null,8,["value","type","class"])):(0,n.createCommentVNode)("v-if",!0),e.iconComponent?((0,n.openBlock)(),(0,n.createBlock)(l,{key:1,class:(0,n.normalizeClass)([e.ns.e("icon"),e.typeClass])},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(e.iconComponent)))])),_:1},8,["class"])):(0,n.createCommentVNode)("v-if",!0),(0,n.renderSlot)(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createCommentVNode)(" Caution here, message could've been compromised, never use user's input as message "),(0,n.createElementVNode)("p",{class:(0,n.normalizeClass)(e.ns.e("content")),innerHTML:e.message},null,10,yg)],2112)):((0,n.openBlock)(),(0,n.createElementBlock)("p",{key:0,class:(0,n.normalizeClass)(e.ns.e("content"))},(0,n.toDisplayString)(e.message),3))])),e.showClose?((0,n.openBlock)(),(0,n.createBlock)(l,{key:2,class:(0,n.normalizeClass)(e.ns.e("closeBtn")),onClick:(0,n.withModifiers)(e.close,["stop"])},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(c)])),_:1},8,["class","onClick"])):(0,n.createCommentVNode)("v-if",!0)],46,bg),[[n.vShow,e.visible]])])),_:3},8,["name","onBeforeLeave"])}var Sg=r(vg,[["render",wg],["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);const Cg=[];let _g=1;const Eg=function(e={},t){if(!j)return{close:()=>{}};if(N(sg.max)&&Cg.length>=sg.max)return{close:()=>{}};if(!(0,n.isVNode)(e)&&g(e)&&e.grouping&&!(0,n.isVNode)(e.message)&&Cg.length){const t=Cg.find((t=>{var n,r,o;return`${null!=(r=null==(n=t.vm.props)?void 0:n.message)?r:""}`===`${null!=(o=e.message)?o:""}`}));if(t)return t.vm.component.props.repeatNum+=1,t.vm.component.props.type=(null==e?void 0:e.type)||"info",{close:()=>d.component.proxy.visible=!1}}(f(e)||(0,n.isVNode)(e))&&(e={message:e});let r=e.offset||20;Cg.forEach((({vm:e})=>{var t;r+=((null==(t=e.el)?void 0:t.offsetHeight)||0)+16})),r+=16;const{nextZIndex:o}=Ks(),s="message_"+_g++,i=e.onClose,a={zIndex:o(),...e,offset:r,id:s,onClose:()=>{kg(s,i)}};let l=document.body;Ci(e.appendTo)?l=e.appendTo:f(e.appendTo)&&(l=document.querySelector(e.appendTo)),Ci(l)||(Bn("ElMessage","the appendTo option is not an HTMLElement. Falling back to document.body."),l=document.body);const c=document.createElement("div");c.className=`container_${s}`;const u=a.message,d=(0,n.createVNode)(Sg,a,h(u)?{default:u}:(0,n.isVNode)(u)?{default:()=>u}:null);return d.appContext=t||Eg._context,d.props.onDestroy=()=>{(0,n.render)(null,c)},(0,n.render)(d,c),Cg.push({vm:d}),l.appendChild(c.firstElementChild),{close:()=>d.component.proxy.visible=!1}};function kg(e,t){const n=Cg.findIndex((({vm:t})=>e===t.component.props.id));if(-1===n)return;const{vm:r}=Cg[n];if(!r)return;null==t||t(r);const o=r.el.offsetHeight;Cg.splice(n,1);const s=Cg.length;if(!(s<1))for(let i=n;i<s;i++){const e=Number.parseInt(Cg[i].vm.el.style["top"],10)-o-16;Cg[i].vm.component.props.offset=e}}function Tg(){var e;for(let t=Cg.length-1;t>=0;t--){const n=Cg[t].vm.component;null==(e=null==n?void 0:n.proxy)||e.close()}}fg.forEach((e=>{Eg[e]=(t={},r)=>((f(t)||(0,n.isVNode)(t))&&(t={message:t}),Eg({...t,type:e},r))})),Eg.closeAll=Tg,Eg._context=null;const xg=T(Eg,"$message");var Rg=__webpack_require__(5254),Ag=__webpack_require__.n(Rg);
/*!
  * shared v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */
const jg="undefined"!==typeof window;const Ig="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,Ng=e=>Ig?Symbol(e):e,Og=(e,t,n)=>Dg({l:e,k:t,s:n}),Dg=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Pg=e=>"number"===typeof e&&isFinite(e),Mg=e=>"[object Date]"===Zg(e),Lg=e=>"[object RegExp]"===Zg(e),$g=e=>Qg(e)&&0===Object.keys(e).length;function Bg(e,t){"undefined"!==typeof console&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const Hg=Object.assign;let Ug;const Vg=()=>Ug||(Ug="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof __webpack_require__.g?__webpack_require__.g:{});function Fg(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const qg=Object.prototype.hasOwnProperty;function zg(e,t){return qg.call(e,t)}const Wg=Array.isArray,Yg=e=>"function"===typeof e,Gg=e=>"string"===typeof e,Kg=e=>"boolean"===typeof e,Xg=e=>null!==e&&"object"===typeof e,Jg=Object.prototype.toString,Zg=e=>Jg.call(e),Qg=e=>"[object Object]"===Zg(e),em=e=>null==e?"":Wg(e)||Qg(e)&&e.toString===Jg?JSON.stringify(e,null,2):String(e);
/*!
  * message-compiler v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */
const tm={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,__EXTEND_POINT__:15};tm.EXPECTED_TOKEN,tm.INVALID_TOKEN_IN_PLACEHOLDER,tm.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,tm.UNKNOWN_ESCAPE_SEQUENCE,tm.INVALID_UNICODE_ESCAPE_SEQUENCE,tm.UNBALANCED_CLOSING_BRACE,tm.UNTERMINATED_CLOSING_BRACE,tm.EMPTY_PLACEHOLDER,tm.NOT_ALLOW_NEST_PLACEHOLDER,tm.INVALID_LINKED_FORMAT,tm.MUST_HAVE_MESSAGES_IN_PLURAL,tm.UNEXPECTED_EMPTY_LINKED_MODIFIER,tm.UNEXPECTED_EMPTY_LINKED_KEY,tm.UNEXPECTED_LEXICAL_ANALYSIS;function nm(e,t,n={}){const{domain:r,messages:o,args:s}=n,i=e,a=new SyntaxError(String(i));return a.code=e,t&&(a.location=t),a.domain=r,a}function rm(e){throw e}function om(e,t,n){return{line:e,column:t,offset:n}}function sm(e,t,n){const r={start:e,end:t};return null!=n&&(r.source=n),r}const im=" ",am="\r",lm="\n",cm=String.fromCharCode(8232),um=String.fromCharCode(8233);function dm(e){const t=e;let n=0,r=1,o=1,s=0;const i=e=>t[e]===am&&t[e+1]===lm,a=e=>t[e]===lm,l=e=>t[e]===um,c=e=>t[e]===cm,u=e=>i(e)||a(e)||l(e)||c(e),d=()=>n,p=()=>r,h=()=>o,f=()=>s,g=e=>i(e)||l(e)||c(e)?lm:t[e],m=()=>g(n),v=()=>g(n+s);function b(){return s=0,u(n)&&(r++,o=0),i(n)&&n++,n++,o++,t[n]}function y(){return i(n+s)&&s++,s++,t[n+s]}function w(){n=0,r=1,o=1,s=0}function S(e=0){s=e}function C(){const e=n+s;while(e!==n)b();s=0}return{index:d,line:p,column:h,peekOffset:f,charAt:g,currentChar:m,currentPeek:v,next:b,peek:y,reset:w,resetPeek:S,skipToPeek:C}}const pm=void 0,hm="'",fm="tokenizer";function gm(e,t={}){const n=!1!==t.location,r=dm(e),o=()=>r.index(),s=()=>om(r.line(),r.column(),r.index()),i=s(),a=o(),l={currentType:14,offset:a,startLoc:i,endLoc:i,lastType:14,lastOffset:a,lastStartLoc:i,lastEndLoc:i,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:u}=t;function d(e,t,n,...r){const o=c();if(t.column+=n,t.offset+=n,u){const n=sm(o.startLoc,t),s=nm(e,n,{domain:fm,args:r});u(s)}}function p(e,t,r){e.endLoc=s(),e.currentType=t;const o={type:t};return n&&(o.loc=sm(e.startLoc,e.endLoc)),null!=r&&(o.value=r),o}const h=e=>p(e,14);function f(e,t){return e.currentChar()===t?(e.next(),t):(d(tm.EXPECTED_TOKEN,s(),0,t),"")}function g(e){let t="";while(e.currentPeek()===im||e.currentPeek()===lm)t+=e.currentPeek(),e.peek();return t}function m(e){const t=g(e);return e.skipToPeek(),t}function v(e){if(e===pm)return!1;const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||95===t}function b(e){if(e===pm)return!1;const t=e.charCodeAt(0);return t>=48&&t<=57}function y(e,t){const{currentType:n}=t;if(2!==n)return!1;g(e);const r=v(e.currentPeek());return e.resetPeek(),r}function w(e,t){const{currentType:n}=t;if(2!==n)return!1;g(e);const r="-"===e.currentPeek()?e.peek():e.currentPeek(),o=b(r);return e.resetPeek(),o}function S(e,t){const{currentType:n}=t;if(2!==n)return!1;g(e);const r=e.currentPeek()===hm;return e.resetPeek(),r}function C(e,t){const{currentType:n}=t;if(8!==n)return!1;g(e);const r="."===e.currentPeek();return e.resetPeek(),r}function _(e,t){const{currentType:n}=t;if(9!==n)return!1;g(e);const r=v(e.currentPeek());return e.resetPeek(),r}function E(e,t){const{currentType:n}=t;if(8!==n&&12!==n)return!1;g(e);const r=":"===e.currentPeek();return e.resetPeek(),r}function k(e,t){const{currentType:n}=t;if(10!==n)return!1;const r=()=>{const t=e.currentPeek();return"{"===t?v(e.peek()):!("@"===t||"%"===t||"|"===t||":"===t||"."===t||t===im||!t)&&(t===lm?(e.peek(),r()):v(t))},o=r();return e.resetPeek(),o}function T(e){g(e);const t="|"===e.currentPeek();return e.resetPeek(),t}function x(e){const t=g(e),n="%"===e.currentPeek()&&"{"===e.peek();return e.resetPeek(),{isModulo:n,hasSpace:t.length>0}}function R(e,t=!0){const n=(t=!1,r="",o=!1)=>{const s=e.currentPeek();return"{"===s?"%"!==r&&t:"@"!==s&&s?"%"===s?(e.peek(),n(t,"%",!0)):"|"===s?!("%"!==r&&!o)||!(r===im||r===lm):s===im?(e.peek(),n(!0,im,o)):s!==lm||(e.peek(),n(!0,lm,o)):"%"===r||t},r=n();return t&&e.resetPeek(),r}function A(e,t){const n=e.currentChar();return n===pm?pm:t(n)?(e.next(),n):null}function j(e){const t=e=>{const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t};return A(e,t)}function I(e){const t=e=>{const t=e.charCodeAt(0);return t>=48&&t<=57};return A(e,t)}function N(e){const t=e=>{const t=e.charCodeAt(0);return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102};return A(e,t)}function O(e){let t="",n="";while(t=I(e))n+=t;return n}function D(e){m(e);const t=e.currentChar();return"%"!==t&&d(tm.EXPECTED_TOKEN,s(),0,t),e.next(),"%"}function P(e){let t="";while(1){const n=e.currentChar();if("{"===n||"}"===n||"@"===n||"|"===n||!n)break;if("%"===n){if(!R(e))break;t+=n,e.next()}else if(n===im||n===lm)if(R(e))t+=n,e.next();else{if(T(e))break;t+=n,e.next()}else t+=n,e.next()}return t}function M(e){m(e);let t="",n="";while(t=j(e))n+=t;return e.currentChar()===pm&&d(tm.UNTERMINATED_CLOSING_BRACE,s(),0),n}function L(e){m(e);let t="";return"-"===e.currentChar()?(e.next(),t+=`-${O(e)}`):t+=O(e),e.currentChar()===pm&&d(tm.UNTERMINATED_CLOSING_BRACE,s(),0),t}function $(e){m(e),f(e,"'");let t="",n="";const r=e=>e!==hm&&e!==lm;while(t=A(e,r))n+="\\"===t?B(e):t;const o=e.currentChar();return o===lm||o===pm?(d(tm.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),o===lm&&(e.next(),f(e,"'")),n):(f(e,"'"),n)}function B(e){const t=e.currentChar();switch(t){case"\\":case"'":return e.next(),`\\${t}`;case"u":return H(e,t,4);case"U":return H(e,t,6);default:return d(tm.UNKNOWN_ESCAPE_SEQUENCE,s(),0,t),""}}function H(e,t,n){f(e,t);let r="";for(let o=0;o<n;o++){const n=N(e);if(!n){d(tm.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${t}${r}${e.currentChar()}`);break}r+=n}return`\\${t}${r}`}function U(e){m(e);let t="",n="";const r=e=>"{"!==e&&"}"!==e&&e!==im&&e!==lm;while(t=A(e,r))n+=t;return n}function V(e){let t="",n="";while(t=j(e))n+=t;return n}function F(e){const t=(n=!1,r)=>{const o=e.currentChar();return"{"!==o&&"%"!==o&&"@"!==o&&"|"!==o&&o?o===im?r:o===lm?(r+=o,e.next(),t(n,r)):(r+=o,e.next(),t(!0,r)):r};return t(!1,"")}function q(e){m(e);const t=f(e,"|");return m(e),t}function z(e,t){let n=null;const r=e.currentChar();switch(r){case"{":return t.braceNest>=1&&d(tm.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),e.next(),n=p(t,2,"{"),m(e),t.braceNest++,n;case"}":return t.braceNest>0&&2===t.currentType&&d(tm.EMPTY_PLACEHOLDER,s(),0),e.next(),n=p(t,3,"}"),t.braceNest--,t.braceNest>0&&m(e),t.inLinked&&0===t.braceNest&&(t.inLinked=!1),n;case"@":return t.braceNest>0&&d(tm.UNTERMINATED_CLOSING_BRACE,s(),0),n=W(e,t)||h(t),t.braceNest=0,n;default:let r=!0,o=!0,i=!0;if(T(e))return t.braceNest>0&&d(tm.UNTERMINATED_CLOSING_BRACE,s(),0),n=p(t,1,q(e)),t.braceNest=0,t.inLinked=!1,n;if(t.braceNest>0&&(5===t.currentType||6===t.currentType||7===t.currentType))return d(tm.UNTERMINATED_CLOSING_BRACE,s(),0),t.braceNest=0,Y(e,t);if(r=y(e,t))return n=p(t,5,M(e)),m(e),n;if(o=w(e,t))return n=p(t,6,L(e)),m(e),n;if(i=S(e,t))return n=p(t,7,$(e)),m(e),n;if(!r&&!o&&!i)return n=p(t,13,U(e)),d(tm.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,n.value),m(e),n;break}return n}function W(e,t){const{currentType:n}=t;let r=null;const o=e.currentChar();switch(8!==n&&9!==n&&12!==n&&10!==n||o!==lm&&o!==im||d(tm.INVALID_LINKED_FORMAT,s(),0),o){case"@":return e.next(),r=p(t,8,"@"),t.inLinked=!0,r;case".":return m(e),e.next(),p(t,9,".");case":":return m(e),e.next(),p(t,10,":");default:return T(e)?(r=p(t,1,q(e)),t.braceNest=0,t.inLinked=!1,r):C(e,t)||E(e,t)?(m(e),W(e,t)):_(e,t)?(m(e),p(t,12,V(e))):k(e,t)?(m(e),"{"===o?z(e,t)||r:p(t,11,F(e))):(8===n&&d(tm.INVALID_LINKED_FORMAT,s(),0),t.braceNest=0,t.inLinked=!1,Y(e,t))}}function Y(e,t){let n={type:14};if(t.braceNest>0)return z(e,t)||h(t);if(t.inLinked)return W(e,t)||h(t);const r=e.currentChar();switch(r){case"{":return z(e,t)||h(t);case"}":return d(tm.UNBALANCED_CLOSING_BRACE,s(),0),e.next(),p(t,3,"}");case"@":return W(e,t)||h(t);default:if(T(e))return n=p(t,1,q(e)),t.braceNest=0,t.inLinked=!1,n;const{isModulo:r,hasSpace:o}=x(e);if(r)return o?p(t,0,P(e)):p(t,4,D(e));if(R(e))return p(t,0,P(e));break}return n}function G(){const{currentType:e,offset:t,startLoc:n,endLoc:i}=l;return l.lastType=e,l.lastOffset=t,l.lastStartLoc=n,l.lastEndLoc=i,l.offset=o(),l.startLoc=s(),r.currentChar()===pm?p(l,14):Y(r,l)}return{nextToken:G,currentOffset:o,currentPosition:s,context:c}}const mm="parser",vm=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function bm(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const e=parseInt(t||n,16);return e<=55295||e>=57344?String.fromCodePoint(e):"�"}}}function ym(e={}){const t=!1!==e.location,{onError:n}=e;function r(e,t,r,o,...s){const i=e.currentPosition();if(i.offset+=o,i.column+=o,n){const e=sm(r,i),o=nm(t,e,{domain:mm,args:s});n(o)}}function o(e,n,r){const o={type:e,start:n,end:n};return t&&(o.loc={start:r,end:r}),o}function s(e,n,r,o){e.end=n,o&&(e.type=o),t&&e.loc&&(e.loc.end=r)}function i(e,t){const n=e.context(),r=o(3,n.offset,n.startLoc);return r.value=t,s(r,e.currentOffset(),e.currentPosition()),r}function a(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:i}=n,a=o(5,r,i);return a.index=parseInt(t,10),e.nextToken(),s(a,e.currentOffset(),e.currentPosition()),a}function l(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:i}=n,a=o(4,r,i);return a.key=t,e.nextToken(),s(a,e.currentOffset(),e.currentPosition()),a}function c(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:i}=n,a=o(9,r,i);return a.value=t.replace(vm,bm),e.nextToken(),s(a,e.currentOffset(),e.currentPosition()),a}function u(e){const t=e.nextToken(),n=e.context(),{lastOffset:i,lastStartLoc:a}=n,l=o(8,i,a);return 12!==t.type?(r(e,tm.UNEXPECTED_EMPTY_LINKED_MODIFIER,n.lastStartLoc,0),l.value="",s(l,i,a),{nextConsumeToken:t,node:l}):(null==t.value&&r(e,tm.UNEXPECTED_LEXICAL_ANALYSIS,n.lastStartLoc,0,wm(t)),l.value=t.value||"",s(l,e.currentOffset(),e.currentPosition()),{node:l})}function d(e,t){const n=e.context(),r=o(7,n.offset,n.startLoc);return r.value=t,s(r,e.currentOffset(),e.currentPosition()),r}function p(e){const t=e.context(),n=o(6,t.offset,t.startLoc);let i=e.nextToken();if(9===i.type){const t=u(e);n.modifier=t.node,i=t.nextConsumeToken||e.nextToken()}switch(10!==i.type&&r(e,tm.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,wm(i)),i=e.nextToken(),2===i.type&&(i=e.nextToken()),i.type){case 11:null==i.value&&r(e,tm.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,wm(i)),n.key=d(e,i.value||"");break;case 5:null==i.value&&r(e,tm.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,wm(i)),n.key=l(e,i.value||"");break;case 6:null==i.value&&r(e,tm.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,wm(i)),n.key=a(e,i.value||"");break;case 7:null==i.value&&r(e,tm.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,wm(i)),n.key=c(e,i.value||"");break;default:r(e,tm.UNEXPECTED_EMPTY_LINKED_KEY,t.lastStartLoc,0);const u=e.context(),p=o(7,u.offset,u.startLoc);return p.value="",s(p,u.offset,u.startLoc),n.key=p,s(n,u.offset,u.startLoc),{nextConsumeToken:i,node:n}}return s(n,e.currentOffset(),e.currentPosition()),{node:n}}function h(e){const t=e.context(),n=1===t.currentType?e.currentOffset():t.offset,u=1===t.currentType?t.endLoc:t.startLoc,d=o(2,n,u);d.items=[];let h=null;do{const n=h||e.nextToken();switch(h=null,n.type){case 0:null==n.value&&r(e,tm.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,wm(n)),d.items.push(i(e,n.value||""));break;case 6:null==n.value&&r(e,tm.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,wm(n)),d.items.push(a(e,n.value||""));break;case 5:null==n.value&&r(e,tm.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,wm(n)),d.items.push(l(e,n.value||""));break;case 7:null==n.value&&r(e,tm.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,wm(n)),d.items.push(c(e,n.value||""));break;case 8:const o=p(e);d.items.push(o.node),h=o.nextConsumeToken||null;break}}while(14!==t.currentType&&1!==t.currentType);const f=1===t.currentType?t.lastOffset:e.currentOffset(),g=1===t.currentType?t.lastEndLoc:e.currentPosition();return s(d,f,g),d}function f(e,t,n,i){const a=e.context();let l=0===i.items.length;const c=o(1,t,n);c.cases=[],c.cases.push(i);do{const t=h(e);l||(l=0===t.items.length),c.cases.push(t)}while(14!==a.currentType);return l&&r(e,tm.MUST_HAVE_MESSAGES_IN_PLURAL,n,0),s(c,e.currentOffset(),e.currentPosition()),c}function g(e){const t=e.context(),{offset:n,startLoc:r}=t,o=h(e);return 14===t.currentType?o:f(e,n,r,o)}function m(n){const i=gm(n,Hg({},e)),a=i.context(),l=o(0,a.offset,a.startLoc);return t&&l.loc&&(l.loc.source=n),l.body=g(i),14!==a.currentType&&r(i,tm.UNEXPECTED_LEXICAL_ANALYSIS,a.lastStartLoc,0,n[a.offset]||""),s(l,i.currentOffset(),i.currentPosition()),l}return{parse:m}}function wm(e){if(14===e.type)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function Sm(e,t={}){const n={ast:e,helpers:new Set},r=()=>n,o=e=>(n.helpers.add(e),e);return{context:r,helper:o}}function Cm(e,t){for(let n=0;n<e.length;n++)_m(e[n],t)}function _m(e,t){switch(e.type){case 1:Cm(e.cases,t),t.helper("plural");break;case 2:Cm(e.items,t);break;case 6:const n=e;_m(n.key,t),t.helper("linked"),t.helper("type");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function Em(e,t={}){const n=Sm(e);n.helper("normalize"),e.body&&_m(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function km(e,t){const{sourceMap:n,filename:r,breakLineCode:o,needIndent:s}=t,i={source:e.loc.source,filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:o,needIndent:s,indentLevel:0},a=()=>i;function l(e,t){i.code+=e}function c(e,t=!0){const n=t?o:"";l(s?n+"  ".repeat(e):n)}function u(e=!0){const t=++i.indentLevel;e&&c(t)}function d(e=!0){const t=--i.indentLevel;e&&c(t)}function p(){c(i.indentLevel)}const h=e=>`_${e}`,f=()=>i.needIndent;return{context:a,push:l,indent:u,deindent:d,newline:p,helper:h,needIndent:f}}function Tm(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),jm(e,t.key),t.modifier?(e.push(", "),jm(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function xm(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const o=t.items.length;for(let s=0;s<o;s++){if(jm(e,t.items[s]),s===o-1)break;e.push(", ")}e.deindent(r()),e.push("])")}function Rm(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const o=t.cases.length;for(let n=0;n<o;n++){if(jm(e,t.cases[n]),n===o-1)break;e.push(", ")}e.deindent(r()),e.push("])")}}function Am(e,t){t.body?jm(e,t.body):e.push("null")}function jm(e,t){const{helper:n}=e;switch(t.type){case 0:Am(e,t);break;case 1:Rm(e,t);break;case 2:xm(e,t);break;case 6:Tm(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:0}}const Im=(e,t={})=>{const n=Gg(t.mode)?t.mode:"normal",r=Gg(t.filename)?t.filename:"message.intl",o=!!t.sourceMap,s=null!=t.breakLineCode?t.breakLineCode:"arrow"===n?";":"\n",i=t.needIndent?t.needIndent:"arrow"!==n,a=e.helpers||[],l=km(e,{mode:n,filename:r,sourceMap:o,breakLineCode:s,needIndent:i});l.push("normal"===n?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(i),a.length>0&&(l.push(`const { ${a.map((e=>`${e}: _${e}`)).join(", ")} } = ctx`),l.newline()),l.push("return "),jm(l,e),l.deindent(i),l.push("}");const{code:c,map:u}=l.context();return{ast:e,code:c,map:u?u.toJSON():void 0}};function Nm(e,t={}){const n=Hg({},t),r=ym(n),o=r.parse(e);return Em(o,n),Im(o,n)}
/*!
  * devtools-if v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */
const Om={I18nInit:"i18n:init",FunctionTranslate:"function:translate"},Dm=[];Dm[0]={["w"]:[0],["i"]:[3,0],["["]:[4],["o"]:[7]},Dm[1]={["w"]:[1],["."]:[2],["["]:[4],["o"]:[7]},Dm[2]={["w"]:[2],["i"]:[3,0],["0"]:[3,0]},Dm[3]={["i"]:[3,0],["0"]:[3,0],["w"]:[1,1],["."]:[2,1],["["]:[4,1],["o"]:[7,1]},Dm[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],["o"]:8,["l"]:[4,0]},Dm[5]={["'"]:[4,0],["o"]:8,["l"]:[5,0]},Dm[6]={['"']:[4,0],["o"]:8,["l"]:[6,0]};const Pm=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Mm(e){return Pm.test(e)}function Lm(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t!==n||34!==t&&39!==t?e:e.slice(1,-1)}function $m(e){if(void 0===e||null===e)return"o";const t=e.charCodeAt(0);switch(t){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Bm(e){const t=e.trim();return("0"!==e.charAt(0)||!isNaN(parseInt(e)))&&(Mm(t)?Lm(t):"*"+t)}function Hm(e){const t=[];let n,r,o,s,i,a,l,c=-1,u=0,d=0;const p=[];function h(){const t=e[c+1];if(5===u&&"'"===t||6===u&&'"'===t)return c++,o="\\"+t,p[0](),!0}p[0]=()=>{void 0===r?r=o:r+=o},p[1]=()=>{void 0!==r&&(t.push(r),r=void 0)},p[2]=()=>{p[0](),d++},p[3]=()=>{if(d>0)d--,u=4,p[0]();else{if(d=0,void 0===r)return!1;if(r=Bm(r),!1===r)return!1;p[1]()}};while(null!==u)if(c++,n=e[c],"\\"!==n||!h()){if(s=$m(n),l=Dm[u],i=l[s]||l["l"]||8,8===i)return;if(u=i[0],void 0!==i[1]&&(a=p[i[1]],a&&(o=n,!1===a())))return;if(7===u)return t}}const Um=new Map;function Vm(e,t){return Xg(e)?e[t]:null}function Fm(e,t){if(!Xg(e))return null;let n=Um.get(t);if(n||(n=Hm(t),n&&Um.set(t,n)),!n)return null;const r=n.length;let o=e,s=0;while(s<r){const e=o[n[s]];if(void 0===e)return null;o=e,s++}return o}const qm=e=>e,zm=e=>"",Wm="text",Ym=e=>0===e.length?"":e.join(""),Gm=em;function Km(e,t){return e=Math.abs(e),2===t?e?e>1?1:0:1:e?Math.min(e,2):0}function Xm(e){const t=Pg(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(Pg(e.named.count)||Pg(e.named.n))?Pg(e.named.count)?e.named.count:Pg(e.named.n)?e.named.n:t:t}function Jm(e,t){t.count||(t.count=e),t.n||(t.n=e)}function Zm(e={}){const t=e.locale,n=Xm(e),r=Xg(e.pluralRules)&&Gg(t)&&Yg(e.pluralRules[t])?e.pluralRules[t]:Km,o=Xg(e.pluralRules)&&Gg(t)&&Yg(e.pluralRules[t])?Km:void 0,s=e=>e[r(n,e.length,o)],i=e.list||[],a=e=>i[e],l=e.named||{};Pg(e.pluralIndex)&&Jm(n,l);const c=e=>l[e];function u(t){const n=Yg(e.messages)?e.messages(t):!!Xg(e.messages)&&e.messages[t];return n||(e.parent?e.parent.message(t):zm)}const d=t=>e.modifiers?e.modifiers[t]:qm,p=Qg(e.processor)&&Yg(e.processor.normalize)?e.processor.normalize:Ym,h=Qg(e.processor)&&Yg(e.processor.interpolate)?e.processor.interpolate:Gm,f=Qg(e.processor)&&Gg(e.processor.type)?e.processor.type:Wm,g=(e,...t)=>{const[n,r]=t;let o="text",s="";1===t.length?Xg(n)?(s=n.modifier||s,o=n.type||o):Gg(n)&&(s=n||s):2===t.length&&(Gg(n)&&(s=n||s),Gg(r)&&(o=r||o));let i=u(e)(m);return"vnode"===o&&Wg(i)&&s&&(i=i[0]),s?d(s)(i,o):i},m={["list"]:a,["named"]:c,["plural"]:s,["linked"]:g,["message"]:u,["type"]:f,["interpolate"]:h,["normalize"]:p};return m}let Qm=null;function ev(e){Qm=e}function tv(e,t,n){Qm&&Qm.emit(Om.I18nInit,{timestamp:Date.now(),i18n:e,version:t,meta:n})}const nv=rv(Om.FunctionTranslate);function rv(e){return t=>Qm&&Qm.emit(e,t)}const ov={NOT_FOUND_KEY:1,FALLBACK_TO_TRANSLATE:2,CANNOT_FORMAT_NUMBER:3,FALLBACK_TO_NUMBER_FORMAT:4,CANNOT_FORMAT_DATE:5,FALLBACK_TO_DATE_FORMAT:6,__EXTEND_POINT__:7};ov.NOT_FOUND_KEY,ov.FALLBACK_TO_TRANSLATE,ov.CANNOT_FORMAT_NUMBER,ov.FALLBACK_TO_NUMBER_FORMAT,ov.CANNOT_FORMAT_DATE,ov.FALLBACK_TO_DATE_FORMAT;function sv(e,t,n){return[...new Set([n,...Wg(t)?t:Xg(t)?Object.keys(t):Gg(t)?[t]:[n]])]}function iv(e,t,n){const r=Gg(n)?n:pv,o=e;o.__localeChainCache||(o.__localeChainCache=new Map);let s=o.__localeChainCache.get(r);if(!s){s=[];let e=[n];while(Wg(e))e=av(s,e,t);const i=Wg(t)||!Qg(t)?t:t["default"]?t["default"]:null;e=Gg(i)?[i]:i,Wg(e)&&av(s,e,!1),o.__localeChainCache.set(r,s)}return s}function av(e,t,n){let r=!0;for(let o=0;o<t.length&&Kg(r);o++){const s=t[o];Gg(s)&&(r=lv(e,t[o],n))}return r}function lv(e,t,n){let r;const o=t.split("-");do{const t=o.join("-");r=cv(e,t,n),o.splice(-1,1)}while(o.length&&!0===r);return r}function cv(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r="!"!==t[t.length-1];const o=t.replace(/!/g,"");e.push(o),(Wg(n)||Qg(n))&&n[o]&&(r=n[o])}return r}const uv="9.2.2",dv=-1,pv="en-US",hv="",fv=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function gv(){return{upper:(e,t)=>"text"===t&&Gg(e)?e.toUpperCase():"vnode"===t&&Xg(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>"text"===t&&Gg(e)?e.toLowerCase():"vnode"===t&&Xg(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>"text"===t&&Gg(e)?fv(e):"vnode"===t&&Xg(e)&&"__v_isVNode"in e?fv(e.children):e}}let mv,vv,bv;function yv(e){mv=e}function wv(e){vv=e}function Sv(e){bv=e}let Cv=null;const _v=e=>{Cv=e},Ev=()=>Cv;let kv=null;const Tv=e=>{kv=e},xv=()=>kv;let Rv=0;function Av(e={}){const t=Gg(e.version)?e.version:uv,n=Gg(e.locale)?e.locale:pv,r=Wg(e.fallbackLocale)||Qg(e.fallbackLocale)||Gg(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:n,o=Qg(e.messages)?e.messages:{[n]:{}},s=Qg(e.datetimeFormats)?e.datetimeFormats:{[n]:{}},i=Qg(e.numberFormats)?e.numberFormats:{[n]:{}},a=Hg({},e.modifiers||{},gv()),l=e.pluralRules||{},c=Yg(e.missing)?e.missing:null,u=!Kg(e.missingWarn)&&!Lg(e.missingWarn)||e.missingWarn,d=!Kg(e.fallbackWarn)&&!Lg(e.fallbackWarn)||e.fallbackWarn,p=!!e.fallbackFormat,h=!!e.unresolving,f=Yg(e.postTranslation)?e.postTranslation:null,g=Qg(e.processor)?e.processor:null,m=!Kg(e.warnHtmlMessage)||e.warnHtmlMessage,v=!!e.escapeParameter,b=Yg(e.messageCompiler)?e.messageCompiler:mv,y=Yg(e.messageResolver)?e.messageResolver:vv||Vm,w=Yg(e.localeFallbacker)?e.localeFallbacker:bv||sv,S=Xg(e.fallbackContext)?e.fallbackContext:void 0,C=Yg(e.onWarn)?e.onWarn:Bg,_=e,E=Xg(_.__datetimeFormatters)?_.__datetimeFormatters:new Map,k=Xg(_.__numberFormatters)?_.__numberFormatters:new Map,T=Xg(_.__meta)?_.__meta:{};Rv++;const x={version:t,cid:Rv,locale:n,fallbackLocale:r,messages:o,modifiers:a,pluralRules:l,missing:c,missingWarn:u,fallbackWarn:d,fallbackFormat:p,unresolving:h,postTranslation:f,processor:g,warnHtmlMessage:m,escapeParameter:v,messageCompiler:b,messageResolver:y,localeFallbacker:w,fallbackContext:S,onWarn:C,__meta:T};return x.datetimeFormats=s,x.numberFormats=i,x.__datetimeFormatters=E,x.__numberFormatters=k,__INTLIFY_PROD_DEVTOOLS__&&tv(x,t,T),x}function jv(e,t,n,r,o){const{missing:s,onWarn:i}=e;if(null!==s){const r=s(e,n,t,o);return Gg(r)?r:t}return t}function Iv(e,t,n){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}const Nv=e=>e;let Ov=Object.create(null);function Dv(e,t={}){{const n=t.onCacheKey||Nv,r=n(e),o=Ov[r];if(o)return o;let s=!1;const i=t.onError||rm;t.onError=e=>{s=!0,i(e)};const{code:a}=Nm(e,t),l=new Function(`return ${a}`)();return s?l:Ov[r]=l}}let Pv=tm.__EXTEND_POINT__;const Mv=()=>++Pv,Lv={INVALID_ARGUMENT:Pv,INVALID_DATE_ARGUMENT:Mv(),INVALID_ISO_DATE_ARGUMENT:Mv(),__EXTEND_POINT__:Mv()};function $v(e){return nm(e,null,void 0)}Lv.INVALID_ARGUMENT,Lv.INVALID_DATE_ARGUMENT,Lv.INVALID_ISO_DATE_ARGUMENT;const Bv=()=>"",Hv=e=>Yg(e);function Uv(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:o,messageCompiler:s,fallbackLocale:i,messages:a}=e,[l,c]=Wv(...t),u=Kg(c.missingWarn)?c.missingWarn:e.missingWarn,d=Kg(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,p=Kg(c.escapeParameter)?c.escapeParameter:e.escapeParameter,h=!!c.resolvedMessage,f=Gg(c.default)||Kg(c.default)?Kg(c.default)?s?l:()=>l:c.default:n?s?l:()=>l:"",g=n||""!==f,m=Gg(c.locale)?c.locale:e.locale;p&&Vv(c);let[v,b,y]=h?[l,m,a[m]||{}]:Fv(e,l,m,i,d,u),w=v,S=l;if(h||Gg(w)||Hv(w)||g&&(w=f,S=w),!h&&(!Gg(w)&&!Hv(w)||!Gg(b)))return o?dv:l;let C=!1;const _=()=>{C=!0},E=Hv(w)?w:qv(e,l,b,w,S,_);if(C)return w;const k=Gv(e,b,y,c),T=Zm(k),x=zv(e,E,T),R=r?r(x,l):x;if(__INTLIFY_PROD_DEVTOOLS__){const t={timestamp:Date.now(),key:Gg(l)?l:Hv(w)?w.key:"",locale:b||(Hv(w)?w.locale:""),format:Gg(w)?w:Hv(w)?w.source:"",message:R};t.meta=Hg({},e.__meta,Ev()||{}),nv(t)}return R}function Vv(e){Wg(e.list)?e.list=e.list.map((e=>Gg(e)?Fg(e):e)):Xg(e.named)&&Object.keys(e.named).forEach((t=>{Gg(e.named[t])&&(e.named[t]=Fg(e.named[t]))}))}function Fv(e,t,n,r,o,s){const{messages:i,onWarn:a,messageResolver:l,localeFallbacker:c}=e,u=c(e,r,n);let d,p={},h=null,f=n,g=null;const m="translate";for(let v=0;v<u.length;v++){d=g=u[v],p=i[d]||{};if(null===(h=l(p,t))&&(h=p[t]),Gg(h)||Yg(h))break;const n=jv(e,t,d,s,m);n!==t&&(h=n),f=g}return[h,d,p]}function qv(e,t,n,r,o,s){const{messageCompiler:i,warnHtmlMessage:a}=e;if(Hv(r)){const e=r;return e.locale=e.locale||n,e.key=e.key||t,e}if(null==i){const e=()=>r;return e.locale=n,e.key=t,e}const l=i(r,Yv(e,n,o,r,a,s));return l.locale=n,l.key=t,l.source=r,l}function zv(e,t,n){const r=t(n);return r}function Wv(...e){const[t,n,r]=e,o={};if(!Gg(t)&&!Pg(t)&&!Hv(t))throw $v(Lv.INVALID_ARGUMENT);const s=Pg(t)?String(t):(Hv(t),t);return Pg(n)?o.plural=n:Gg(n)?o.default=n:Qg(n)&&!$g(n)?o.named=n:Wg(n)&&(o.list=n),Pg(r)?o.plural=r:Gg(r)?o.default=r:Qg(r)&&Hg(o,r),[s,o]}function Yv(e,t,n,r,o,s){return{warnHtmlMessage:o,onError:e=>{throw s&&s(e),e},onCacheKey:e=>Og(t,n,e)}}function Gv(e,t,n,r){const{modifiers:o,pluralRules:s,messageResolver:i,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:u}=e,d=r=>{let o=i(n,r);if(null==o&&u){const[,,e]=Fv(u,r,t,a,l,c);o=i(e,r)}if(Gg(o)){let n=!1;const s=()=>{n=!0},i=qv(e,r,t,o,r,s);return n?Bv:i}return Hv(o)?o:Bv},p={locale:t,modifiers:o,pluralRules:s,messages:d};return e.processor&&(p.processor=e.processor),r.list&&(p.list=r.list),r.named&&(p.named=r.named),Pg(r.plural)&&(p.pluralIndex=r.plural),p}const Kv="undefined"!==typeof Intl;Kv&&Intl.DateTimeFormat,Kv&&Intl.NumberFormat;function Xv(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:o,onWarn:s,localeFallbacker:i}=e,{__datetimeFormatters:a}=e;const[l,c,u,d]=Zv(...t),p=Kg(u.missingWarn)?u.missingWarn:e.missingWarn,h=(Kg(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn,!!u.part),f=Gg(u.locale)?u.locale:e.locale,g=i(e,o,f);if(!Gg(l)||""===l)return new Intl.DateTimeFormat(f,d).format(c);let m,v={},b=null,y=f,w=null;const S="datetime format";for(let E=0;E<g.length;E++){if(m=w=g[E],v=n[m]||{},b=v[l],Qg(b))break;jv(e,l,m,p,S),y=w}if(!Qg(b)||!Gg(m))return r?dv:l;let C=`${m}__${l}`;$g(d)||(C=`${C}__${JSON.stringify(d)}`);let _=a.get(C);return _||(_=new Intl.DateTimeFormat(m,Hg({},b,d)),a.set(C,_)),h?_.formatToParts(c):_.format(c)}const Jv=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Zv(...e){const[t,n,r,o]=e,s={};let i,a={};if(Gg(t)){const e=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!e)throw $v(Lv.INVALID_ISO_DATE_ARGUMENT);const n=e[3]?e[3].trim().startsWith("T")?`${e[1].trim()}${e[3].trim()}`:`${e[1].trim()}T${e[3].trim()}`:e[1].trim();i=new Date(n);try{i.toISOString()}catch(l){throw $v(Lv.INVALID_ISO_DATE_ARGUMENT)}}else if(Mg(t)){if(isNaN(t.getTime()))throw $v(Lv.INVALID_DATE_ARGUMENT);i=t}else{if(!Pg(t))throw $v(Lv.INVALID_ARGUMENT);i=t}return Gg(n)?s.key=n:Qg(n)&&Object.keys(n).forEach((e=>{Jv.includes(e)?a[e]=n[e]:s[e]=n[e]})),Gg(r)?s.locale=r:Qg(r)&&(a=r),Qg(o)&&(a=o),[s.key||"",i,s,a]}function Qv(e,t,n){const r=e;for(const o in n){const e=`${t}__${o}`;r.__datetimeFormatters.has(e)&&r.__datetimeFormatters.delete(e)}}function eb(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:o,onWarn:s,localeFallbacker:i}=e,{__numberFormatters:a}=e;const[l,c,u,d]=nb(...t),p=Kg(u.missingWarn)?u.missingWarn:e.missingWarn,h=(Kg(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn,!!u.part),f=Gg(u.locale)?u.locale:e.locale,g=i(e,o,f);if(!Gg(l)||""===l)return new Intl.NumberFormat(f,d).format(c);let m,v={},b=null,y=f,w=null;const S="number format";for(let E=0;E<g.length;E++){if(m=w=g[E],v=n[m]||{},b=v[l],Qg(b))break;jv(e,l,m,p,S),y=w}if(!Qg(b)||!Gg(m))return r?dv:l;let C=`${m}__${l}`;$g(d)||(C=`${C}__${JSON.stringify(d)}`);let _=a.get(C);return _||(_=new Intl.NumberFormat(m,Hg({},b,d)),a.set(C,_)),h?_.formatToParts(c):_.format(c)}const tb=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function nb(...e){const[t,n,r,o]=e,s={};let i={};if(!Pg(t))throw $v(Lv.INVALID_ARGUMENT);const a=t;return Gg(n)?s.key=n:Qg(n)&&Object.keys(n).forEach((e=>{tb.includes(e)?i[e]=n[e]:s[e]=n[e]})),Gg(r)?s.locale=r:Qg(r)&&(i=r),Qg(o)&&(i=o),[s.key||"",a,s,i]}function rb(e,t,n){const r=e;for(const o in n){const e=`${t}__${o}`;r.__numberFormatters.has(e)&&r.__numberFormatters.delete(e)}}"boolean"!==typeof __INTLIFY_PROD_DEVTOOLS__&&(Vg().__INTLIFY_PROD_DEVTOOLS__=!1);
/*!
  * vue-i18n v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */
const ob="9.2.2";function sb(){let e=!1;"boolean"!==typeof __VUE_I18N_FULL_INSTALL__&&(e=!0,Vg().__VUE_I18N_FULL_INSTALL__=!0),"boolean"!==typeof __VUE_I18N_LEGACY_API__&&(e=!0,Vg().__VUE_I18N_LEGACY_API__=!0),"boolean"!==typeof __INTLIFY_PROD_DEVTOOLS__&&(Vg().__INTLIFY_PROD_DEVTOOLS__=!1)}let ib=ov.__EXTEND_POINT__;const ab=()=>++ib,lb={FALLBACK_TO_ROOT:ib,NOT_SUPPORTED_PRESERVE:ab(),NOT_SUPPORTED_FORMATTER:ab(),NOT_SUPPORTED_PRESERVE_DIRECTIVE:ab(),NOT_SUPPORTED_GET_CHOICE_INDEX:ab(),COMPONENT_NAME_LEGACY_COMPATIBLE:ab(),NOT_FOUND_PARENT_SCOPE:ab()};lb.FALLBACK_TO_ROOT,lb.NOT_SUPPORTED_PRESERVE,lb.NOT_SUPPORTED_FORMATTER,lb.NOT_SUPPORTED_PRESERVE_DIRECTIVE,lb.NOT_SUPPORTED_GET_CHOICE_INDEX,lb.COMPONENT_NAME_LEGACY_COMPATIBLE,lb.NOT_FOUND_PARENT_SCOPE;let cb=tm.__EXTEND_POINT__;const ub=()=>++cb,db={UNEXPECTED_RETURN_TYPE:cb,INVALID_ARGUMENT:ub(),MUST_BE_CALL_SETUP_TOP:ub(),NOT_INSLALLED:ub(),NOT_AVAILABLE_IN_LEGACY_MODE:ub(),REQUIRED_VALUE:ub(),INVALID_VALUE:ub(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:ub(),NOT_INSLALLED_WITH_PROVIDE:ub(),UNEXPECTED_ERROR:ub(),NOT_COMPATIBLE_LEGACY_VUE_I18N:ub(),BRIDGE_SUPPORT_VUE_2_ONLY:ub(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:ub(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:ub(),__EXTEND_POINT__:ub()};function pb(e,...t){return nm(e,null,void 0)}db.UNEXPECTED_RETURN_TYPE,db.INVALID_ARGUMENT,db.MUST_BE_CALL_SETUP_TOP,db.NOT_INSLALLED,db.UNEXPECTED_ERROR,db.NOT_AVAILABLE_IN_LEGACY_MODE,db.REQUIRED_VALUE,db.INVALID_VALUE,db.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN,db.NOT_INSLALLED_WITH_PROVIDE,db.NOT_COMPATIBLE_LEGACY_VUE_I18N,db.BRIDGE_SUPPORT_VUE_2_ONLY,db.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION,db.NOT_AVAILABLE_COMPOSITION_IN_LEGACY;const hb=Ng("__transrateVNode"),fb=Ng("__datetimeParts"),gb=Ng("__numberParts"),mb=Ng("__setPluralRules");Ng("__intlifyMeta");const vb=Ng("__injectWithOption");function bb(e){if(!Xg(e))return e;for(const t in e)if(zg(e,t))if(t.includes(".")){const n=t.split("."),r=n.length-1;let o=e;for(let e=0;e<r;e++)n[e]in o||(o[n[e]]={}),o=o[n[e]];o[n[r]]=e[t],delete e[t],Xg(o[n[r]])&&bb(o[n[r]])}else Xg(e[t])&&bb(e[t]);return e}function yb(e,t){const{messages:n,__i18n:r,messageResolver:o,flatJson:s}=t,i=Qg(n)?n:Wg(r)?{}:{[e]:{}};if(Wg(r)&&r.forEach((e=>{if("locale"in e&&"resource"in e){const{locale:t,resource:n}=e;t?(i[t]=i[t]||{},Sb(n,i[t])):Sb(n,i)}else Gg(e)&&Sb(JSON.parse(e),i)})),null==o&&s)for(const a in i)zg(i,a)&&bb(i[a]);return i}const wb=e=>!Xg(e)||Wg(e);function Sb(e,t){if(wb(e)||wb(t))throw pb(db.INVALID_VALUE);for(const n in e)zg(e,n)&&(wb(e[n])||wb(t[n])?t[n]=e[n]:Sb(e[n],t[n]))}function Cb(e){return e.type}function _b(e,t,n){let r=Xg(t.messages)?t.messages:{};"__i18nGlobal"in n&&(r=yb(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const o=Object.keys(r);if(o.length&&o.forEach((t=>{e.mergeLocaleMessage(t,r[t])})),Xg(t.datetimeFormats)){const n=Object.keys(t.datetimeFormats);n.length&&n.forEach((n=>{e.mergeDateTimeFormat(n,t.datetimeFormats[n])}))}if(Xg(t.numberFormats)){const n=Object.keys(t.numberFormats);n.length&&n.forEach((n=>{e.mergeNumberFormat(n,t.numberFormats[n])}))}}function Eb(e){return(0,n.createVNode)(n.Text,null,e,0)}const kb="__INTLIFY_META__";let Tb=0;function xb(e){return(t,r,o,s)=>e(r,o,(0,n.getCurrentInstance)()||void 0,s)}const Rb=()=>{const e=(0,n.getCurrentInstance)();let t=null;return e&&(t=Cb(e)[kb])?{[kb]:t}:null};function Ab(e={},t){const{__root:r}=e,o=void 0===r;let s=!Kg(e.inheritLocale)||e.inheritLocale;const i=(0,n.ref)(r&&s?r.locale.value:Gg(e.locale)?e.locale:pv),a=(0,n.ref)(r&&s?r.fallbackLocale.value:Gg(e.fallbackLocale)||Wg(e.fallbackLocale)||Qg(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:i.value),l=(0,n.ref)(yb(i.value,e)),c=(0,n.ref)(Qg(e.datetimeFormats)?e.datetimeFormats:{[i.value]:{}}),u=(0,n.ref)(Qg(e.numberFormats)?e.numberFormats:{[i.value]:{}});let d=r?r.missingWarn:!Kg(e.missingWarn)&&!Lg(e.missingWarn)||e.missingWarn,p=r?r.fallbackWarn:!Kg(e.fallbackWarn)&&!Lg(e.fallbackWarn)||e.fallbackWarn,h=r?r.fallbackRoot:!Kg(e.fallbackRoot)||e.fallbackRoot,f=!!e.fallbackFormat,g=Yg(e.missing)?e.missing:null,m=Yg(e.missing)?xb(e.missing):null,v=Yg(e.postTranslation)?e.postTranslation:null,b=r?r.warnHtmlMessage:!Kg(e.warnHtmlMessage)||e.warnHtmlMessage,y=!!e.escapeParameter;const w=r?r.modifiers:Qg(e.modifiers)?e.modifiers:{};let S,C=e.pluralRules||r&&r.pluralRules;const _=()=>{o&&Tv(null);const t={version:ob,locale:i.value,fallbackLocale:a.value,messages:l.value,modifiers:w,pluralRules:C,missing:null===m?void 0:m,missingWarn:d,fallbackWarn:p,fallbackFormat:f,unresolving:!0,postTranslation:null===v?void 0:v,warnHtmlMessage:b,escapeParameter:y,messageResolver:e.messageResolver,__meta:{framework:"vue"}};t.datetimeFormats=c.value,t.numberFormats=u.value,t.__datetimeFormatters=Qg(S)?S.__datetimeFormatters:void 0,t.__numberFormatters=Qg(S)?S.__numberFormatters:void 0;const n=Av(t);return o&&Tv(n),n};function E(){return[i.value,a.value,l.value,c.value,u.value]}S=_(),Iv(S,i.value,a.value);const k=(0,n.computed)({get:()=>i.value,set:e=>{i.value=e,S.locale=i.value}}),T=(0,n.computed)({get:()=>a.value,set:e=>{a.value=e,S.fallbackLocale=a.value,Iv(S,i.value,e)}}),x=(0,n.computed)((()=>l.value)),R=(0,n.computed)((()=>c.value)),A=(0,n.computed)((()=>u.value));function j(){return Yg(v)?v:null}function I(e){v=e,S.postTranslation=e}function N(){return g}function O(e){null!==e&&(m=xb(e)),g=e,S.missing=m}const D=(e,t,n,s,i,a)=>{let l;if(E(),__INTLIFY_PROD_DEVTOOLS__)try{_v(Rb()),o||(S.fallbackContext=r?xv():void 0),l=e(S)}finally{_v(null),o||(S.fallbackContext=void 0)}else l=e(S);if(Pg(l)&&l===dv){const[e,n]=t();return r&&h?s(r):i(e)}if(a(l))return l;throw pb(db.UNEXPECTED_RETURN_TYPE)};function P(...e){return D((t=>Reflect.apply(Uv,null,[t,...e])),(()=>Wv(...e)),"translate",(t=>Reflect.apply(t.t,t,[...e])),(e=>e),(e=>Gg(e)))}function M(...e){const[t,n,r]=e;if(r&&!Xg(r))throw pb(db.INVALID_ARGUMENT);return P(t,n,Hg({resolvedMessage:!0},r||{}))}function L(...e){return D((t=>Reflect.apply(Xv,null,[t,...e])),(()=>Zv(...e)),"datetime format",(t=>Reflect.apply(t.d,t,[...e])),(()=>hv),(e=>Gg(e)))}function $(...e){return D((t=>Reflect.apply(eb,null,[t,...e])),(()=>nb(...e)),"number format",(t=>Reflect.apply(t.n,t,[...e])),(()=>hv),(e=>Gg(e)))}function B(e){return e.map((e=>Gg(e)||Pg(e)||Kg(e)?Eb(String(e)):e))}const H=e=>e,U={normalize:B,interpolate:H,type:"vnode"};function V(...e){return D((t=>{let n;const r=t;try{r.processor=U,n=Reflect.apply(Uv,null,[r,...e])}finally{r.processor=null}return n}),(()=>Wv(...e)),"translate",(t=>t[hb](...e)),(e=>[Eb(e)]),(e=>Wg(e)))}function F(...e){return D((t=>Reflect.apply(eb,null,[t,...e])),(()=>nb(...e)),"number format",(t=>t[gb](...e)),(()=>[]),(e=>Gg(e)||Wg(e)))}function q(...e){return D((t=>Reflect.apply(Xv,null,[t,...e])),(()=>Zv(...e)),"datetime format",(t=>t[fb](...e)),(()=>[]),(e=>Gg(e)||Wg(e)))}function z(e){C=e,S.pluralRules=C}function W(e,t){const n=Gg(t)?t:i.value,r=K(n);return null!==S.messageResolver(r,e)}function Y(e){let t=null;const n=iv(S,a.value,i.value);for(let r=0;r<n.length;r++){const o=l.value[n[r]]||{},s=S.messageResolver(o,e);if(null!=s){t=s;break}}return t}function G(e){const t=Y(e);return null!=t?t:r&&r.tm(e)||{}}function K(e){return l.value[e]||{}}function X(e,t){l.value[e]=t,S.messages=l.value}function J(e,t){l.value[e]=l.value[e]||{},Sb(t,l.value[e]),S.messages=l.value}function Z(e){return c.value[e]||{}}function Q(e,t){c.value[e]=t,S.datetimeFormats=c.value,Qv(S,e,t)}function ee(e,t){c.value[e]=Hg(c.value[e]||{},t),S.datetimeFormats=c.value,Qv(S,e,t)}function te(e){return u.value[e]||{}}function ne(e,t){u.value[e]=t,S.numberFormats=u.value,rb(S,e,t)}function re(e,t){u.value[e]=Hg(u.value[e]||{},t),S.numberFormats=u.value,rb(S,e,t)}Tb++,r&&jg&&((0,n.watch)(r.locale,(e=>{s&&(i.value=e,S.locale=e,Iv(S,i.value,a.value))})),(0,n.watch)(r.fallbackLocale,(e=>{s&&(a.value=e,S.fallbackLocale=e,Iv(S,i.value,a.value))})));const oe={id:Tb,locale:k,fallbackLocale:T,get inheritLocale(){return s},set inheritLocale(e){s=e,e&&r&&(i.value=r.locale.value,a.value=r.fallbackLocale.value,Iv(S,i.value,a.value))},get availableLocales(){return Object.keys(l.value).sort()},messages:x,get modifiers(){return w},get pluralRules(){return C||{}},get isGlobal(){return o},get missingWarn(){return d},set missingWarn(e){d=e,S.missingWarn=d},get fallbackWarn(){return p},set fallbackWarn(e){p=e,S.fallbackWarn=p},get fallbackRoot(){return h},set fallbackRoot(e){h=e},get fallbackFormat(){return f},set fallbackFormat(e){f=e,S.fallbackFormat=f},get warnHtmlMessage(){return b},set warnHtmlMessage(e){b=e,S.warnHtmlMessage=e},get escapeParameter(){return y},set escapeParameter(e){y=e,S.escapeParameter=e},t:P,getLocaleMessage:K,setLocaleMessage:X,mergeLocaleMessage:J,getPostTranslationHandler:j,setPostTranslationHandler:I,getMissingHandler:N,setMissingHandler:O,[mb]:z};return oe.datetimeFormats=R,oe.numberFormats=A,oe.rt=M,oe.te=W,oe.tm=G,oe.d=L,oe.n=$,oe.getDateTimeFormat=Z,oe.setDateTimeFormat=Q,oe.mergeDateTimeFormat=ee,oe.getNumberFormat=te,oe.setNumberFormat=ne,oe.mergeNumberFormat=re,oe[vb]=e.__injectWithOption,oe[hb]=V,oe[fb]=q,oe[gb]=F,oe}function jb(e){const t=Gg(e.locale)?e.locale:pv,n=Gg(e.fallbackLocale)||Wg(e.fallbackLocale)||Qg(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:t,r=Yg(e.missing)?e.missing:void 0,o=!Kg(e.silentTranslationWarn)&&!Lg(e.silentTranslationWarn)||!e.silentTranslationWarn,s=!Kg(e.silentFallbackWarn)&&!Lg(e.silentFallbackWarn)||!e.silentFallbackWarn,i=!Kg(e.fallbackRoot)||e.fallbackRoot,a=!!e.formatFallbackMessages,l=Qg(e.modifiers)?e.modifiers:{},c=e.pluralizationRules,u=Yg(e.postTranslation)?e.postTranslation:void 0,d=!Gg(e.warnHtmlInMessage)||"off"!==e.warnHtmlInMessage,p=!!e.escapeParameterHtml,h=!Kg(e.sync)||e.sync;let f=e.messages;if(Qg(e.sharedMessages)){const t=e.sharedMessages,n=Object.keys(t);f=n.reduce(((e,n)=>{const r=e[n]||(e[n]={});return Hg(r,t[n]),e}),f||{})}const{__i18n:g,__root:m,__injectWithOption:v}=e,b=e.datetimeFormats,y=e.numberFormats,w=e.flatJson;return{locale:t,fallbackLocale:n,messages:f,flatJson:w,datetimeFormats:b,numberFormats:y,missing:r,missingWarn:o,fallbackWarn:s,fallbackRoot:i,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:u,warnHtmlMessage:d,escapeParameter:p,messageResolver:e.messageResolver,inheritLocale:h,__i18n:g,__root:m,__injectWithOption:v}}function Ib(e={},t){{const t=Ab(jb(e)),n={id:t.id,get locale(){return t.locale.value},set locale(e){t.locale.value=e},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(e){t.fallbackLocale.value=e},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(e){},get missing(){return t.getMissingHandler()},set missing(e){t.setMissingHandler(e)},get silentTranslationWarn(){return Kg(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(e){t.missingWarn=Kg(e)?!e:e},get silentFallbackWarn(){return Kg(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(e){t.fallbackWarn=Kg(e)?!e:e},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(e){t.fallbackFormat=e},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(e){t.setPostTranslationHandler(e)},get sync(){return t.inheritLocale},set sync(e){t.inheritLocale=e},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(e){t.warnHtmlMessage="off"!==e},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(e){t.escapeParameter=e},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(e){},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...e){const[n,r,o]=e,s={};let i=null,a=null;if(!Gg(n))throw pb(db.INVALID_ARGUMENT);const l=n;return Gg(r)?s.locale=r:Wg(r)?i=r:Qg(r)&&(a=r),Wg(o)?i=o:Qg(o)&&(a=o),Reflect.apply(t.t,t,[l,i||a||{},s])},rt(...e){return Reflect.apply(t.rt,t,[...e])},tc(...e){const[n,r,o]=e,s={plural:1};let i=null,a=null;if(!Gg(n))throw pb(db.INVALID_ARGUMENT);const l=n;return Gg(r)?s.locale=r:Pg(r)?s.plural=r:Wg(r)?i=r:Qg(r)&&(a=r),Gg(o)?s.locale=o:Wg(o)?i=o:Qg(o)&&(a=o),Reflect.apply(t.t,t,[l,i||a||{},s])},te(e,n){return t.te(e,n)},tm(e){return t.tm(e)},getLocaleMessage(e){return t.getLocaleMessage(e)},setLocaleMessage(e,n){t.setLocaleMessage(e,n)},mergeLocaleMessage(e,n){t.mergeLocaleMessage(e,n)},d(...e){return Reflect.apply(t.d,t,[...e])},getDateTimeFormat(e){return t.getDateTimeFormat(e)},setDateTimeFormat(e,n){t.setDateTimeFormat(e,n)},mergeDateTimeFormat(e,n){t.mergeDateTimeFormat(e,n)},n(...e){return Reflect.apply(t.n,t,[...e])},getNumberFormat(e){return t.getNumberFormat(e)},setNumberFormat(e,n){t.setNumberFormat(e,n)},mergeNumberFormat(e,n){t.mergeNumberFormat(e,n)},getChoiceIndex(e,t){return-1},__onComponentInstanceCreated(t){const{componentInstanceCreatedListener:r}=e;r&&r(t,n)}};return n}}const Nb={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>"parent"===e||"global"===e,default:"parent"},i18n:{type:Object}};function Ob({slots:e},t){if(1===t.length&&"default"===t[0]){const t=e.default?e.default():[];return t.reduce(((e,t)=>[...e,...Wg(t.children)?t.children:[t]]),[])}return t.reduce(((t,n)=>{const r=e[n];return r&&(t[n]=r()),t}),{})}function Db(e){return n.Fragment}const Pb={name:"i18n-t",props:Hg({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>Pg(e)||!isNaN(e)}},Nb),setup(e,t){const{slots:r,attrs:o}=t,s=e.i18n||Kb({useScope:e.scope,__useComponent:!0});return()=>{const i=Object.keys(r).filter((e=>"_"!==e)),a={};e.locale&&(a.locale=e.locale),void 0!==e.plural&&(a.plural=Gg(e.plural)?+e.plural:e.plural);const l=Ob(t,i),c=s[hb](e.keypath,l,a),u=Hg({},o),d=Gg(e.tag)||Xg(e.tag)?e.tag:Db();return(0,n.h)(d,u,c)}}};function Mb(e){return Wg(e)&&!Gg(e[0])}function Lb(e,t,r,o){const{slots:s,attrs:i}=t;return()=>{const t={part:!0};let a={};e.locale&&(t.locale=e.locale),Gg(e.format)?t.key=e.format:Xg(e.format)&&(Gg(e.format.key)&&(t.key=e.format.key),a=Object.keys(e.format).reduce(((t,n)=>r.includes(n)?Hg({},t,{[n]:e.format[n]}):t),{}));const l=o(e.value,t,a);let c=[t.key];Wg(l)?c=l.map(((e,t)=>{const n=s[e.type],r=n?n({[e.type]:e.value,index:t,parts:l}):[e.value];return Mb(r)&&(r[0].key=`${e.type}-${t}`),r})):Gg(l)&&(c=[l]);const u=Hg({},i),d=Gg(e.tag)||Xg(e.tag)?e.tag:Db();return(0,n.h)(d,u,c)}}const $b={name:"i18n-n",props:Hg({value:{type:Number,required:!0},format:{type:[String,Object]}},Nb),setup(e,t){const n=e.i18n||Kb({useScope:"parent",__useComponent:!0});return Lb(e,t,tb,((...e)=>n[gb](...e)))}},Bb={name:"i18n-d",props:Hg({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Nb),setup(e,t){const n=e.i18n||Kb({useScope:"parent",__useComponent:!0});return Lb(e,t,Jv,((...e)=>n[fb](...e)))}};function Hb(e,t){const n=e;if("composition"===e.mode)return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return null!=r?r.__composer:e.global.__composer}}function Ub(e){const t=t=>{const{instance:n,modifiers:r,value:o}=t;if(!n||!n.$)throw pb(db.UNEXPECTED_ERROR);const s=Hb(e,n.$);const i=Vb(o);return[Reflect.apply(s.t,s,[...Fb(i)]),s]},r=(r,o)=>{const[s,i]=t(o);jg&&e.global===i&&(r.__i18nWatcher=(0,n.watch)(i.locale,(()=>{o.instance&&o.instance.$forceUpdate()}))),r.__composer=i,r.textContent=s},o=e=>{jg&&e.__i18nWatcher&&(e.__i18nWatcher(),e.__i18nWatcher=void 0,delete e.__i18nWatcher),e.__composer&&(e.__composer=void 0,delete e.__composer)},s=(e,{value:t})=>{if(e.__composer){const n=e.__composer,r=Vb(t);e.textContent=Reflect.apply(n.t,n,[...Fb(r)])}},i=e=>{const[n]=t(e);return{textContent:n}};return{created:r,unmounted:o,beforeUpdate:s,getSSRProps:i}}function Vb(e){if(Gg(e))return{path:e};if(Qg(e)){if(!("path"in e))throw pb(db.REQUIRED_VALUE,"path");return e}throw pb(db.INVALID_VALUE)}function Fb(e){const{path:t,locale:n,args:r,choice:o,plural:s}=e,i={},a=r||{};return Gg(n)&&(i.locale=n),Pg(o)&&(i.plural=o),Pg(s)&&(i.plural=s),[t,a,i]}function qb(e,t,...n){const r=Qg(n[0])?n[0]:{},o=!!r.useI18nComponentName,s=!Kg(r.globalInstall)||r.globalInstall;s&&(e.component(o?"i18n":Pb.name,Pb),e.component($b.name,$b),e.component(Bb.name,Bb)),e.directive("t",Ub(t))}function zb(e,t,r){return{beforeCreate(){const o=(0,n.getCurrentInstance)();if(!o)throw pb(db.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const n=s.i18n;s.__i18n&&(n.__i18n=s.__i18n),n.__root=t,this===this.$root?this.$i18n=Wb(e,n):(n.__injectWithOption=!0,this.$i18n=Ib(n))}else s.__i18n?this===this.$root?this.$i18n=Wb(e,s):this.$i18n=Ib({__i18n:s.__i18n,__injectWithOption:!0,__root:t}):this.$i18n=e;s.__i18nGlobal&&_b(t,s,s),e.__onComponentInstanceCreated(this.$i18n),r.__setInstance(o,this.$i18n),this.$t=(...e)=>this.$i18n.t(...e),this.$rt=(...e)=>this.$i18n.rt(...e),this.$tc=(...e)=>this.$i18n.tc(...e),this.$te=(e,t)=>this.$i18n.te(e,t),this.$d=(...e)=>this.$i18n.d(...e),this.$n=(...e)=>this.$i18n.n(...e),this.$tm=e=>this.$i18n.tm(e)},mounted(){0},unmounted(){const e=(0,n.getCurrentInstance)();if(!e)throw pb(db.UNEXPECTED_ERROR);delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,r.__deleteInstance(e),delete this.$i18n}}}function Wb(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[mb](t.pluralizationRules||e.pluralizationRules);const n=yb(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach((t=>e.mergeLocaleMessage(t,n[t]))),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach((n=>e.mergeDateTimeFormat(n,t.datetimeFormats[n]))),t.numberFormats&&Object.keys(t.numberFormats).forEach((n=>e.mergeNumberFormat(n,t.numberFormats[n]))),e}const Yb=Ng("global-vue-i18n");function Gb(e={},t){const n=__VUE_I18N_LEGACY_API__&&Kg(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,r=!Kg(e.globalInjection)||e.globalInjection,o=!__VUE_I18N_LEGACY_API__||!n||!!e.allowComposition,s=new Map,[i,a]=Xb(e,n),l=Ng("");function c(e){return s.get(e)||null}function u(e,t){s.set(e,t)}function d(e){s.delete(e)}{const e={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return o},async install(t,...o){t.__VUE_I18N_SYMBOL__=l,t.provide(t.__VUE_I18N_SYMBOL__,e),!n&&r&&sy(t,e.global),__VUE_I18N_FULL_INSTALL__&&qb(t,e,...o),__VUE_I18N_LEGACY_API__&&n&&t.mixin(zb(a,a.__composer,e));const s=t.unmount;t.unmount=()=>{e.dispose(),s()}},get global(){return a},dispose(){i.stop()},__instances:s,__getInstance:c,__setInstance:u,__deleteInstance:d};return e}}function Kb(e={}){const t=(0,n.getCurrentInstance)();if(null==t)throw pb(db.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&null!=t.appContext.app&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw pb(db.NOT_INSLALLED);const r=Jb(t),o=Qb(r),s=Cb(t),i=Zb(e,s);if(__VUE_I18N_LEGACY_API__&&"legacy"===r.mode&&!e.__useComponent){if(!r.allowComposition)throw pb(db.NOT_AVAILABLE_IN_LEGACY_MODE);return ny(t,i,o,e)}if("global"===i)return _b(o,e,s),o;if("parent"===i){let n=ey(r,t,e.__useComponent);return null==n&&(n=o),n}const a=r;let l=a.__getInstance(t);if(null==l){const n=Hg({},e);"__i18n"in s&&(n.__i18n=s.__i18n),o&&(n.__root=o),l=Ab(n),ty(a,t,l),a.__setInstance(t,l)}return l}function Xb(e,t,r){const o=(0,n.effectScope)();{const n=__VUE_I18N_LEGACY_API__&&t?o.run((()=>Ib(e))):o.run((()=>Ab(e)));if(null==n)throw pb(db.UNEXPECTED_ERROR);return[o,n]}}function Jb(e){{const t=(0,n.inject)(e.isCE?Yb:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw pb(e.isCE?db.NOT_INSLALLED_WITH_PROVIDE:db.UNEXPECTED_ERROR);return t}}function Zb(e,t){return $g(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function Qb(e){return"composition"===e.mode?e.global:e.global.__composer}function ey(e,t,n=!1){let r=null;const o=t.root;let s=t.parent;while(null!=s){const t=e;if("composition"===e.mode)r=t.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const e=t.__getInstance(s);null!=e&&(r=e.__composer,n&&r&&!r[vb]&&(r=null))}if(null!=r)break;if(o===s)break;s=s.parent}return r}function ty(e,t,r){(0,n.onMounted)((()=>{0}),t),(0,n.onUnmounted)((()=>{e.__deleteInstance(t)}),t)}function ny(e,t,r,o={}){const s="local"===t,i=(0,n.shallowRef)(null);if(s&&e.proxy&&!e.proxy.$options.i18n&&!e.proxy.$options.__i18n)throw pb(db.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const a=!Kg(o.inheritLocale)||o.inheritLocale,l=(0,n.ref)(s&&a?r.locale.value:Gg(o.locale)?o.locale:pv),c=(0,n.ref)(s&&a?r.fallbackLocale.value:Gg(o.fallbackLocale)||Wg(o.fallbackLocale)||Qg(o.fallbackLocale)||!1===o.fallbackLocale?o.fallbackLocale:l.value),u=(0,n.ref)(yb(l.value,o)),d=(0,n.ref)(Qg(o.datetimeFormats)?o.datetimeFormats:{[l.value]:{}}),p=(0,n.ref)(Qg(o.numberFormats)?o.numberFormats:{[l.value]:{}}),h=s?r.missingWarn:!Kg(o.missingWarn)&&!Lg(o.missingWarn)||o.missingWarn,f=s?r.fallbackWarn:!Kg(o.fallbackWarn)&&!Lg(o.fallbackWarn)||o.fallbackWarn,g=s?r.fallbackRoot:!Kg(o.fallbackRoot)||o.fallbackRoot,m=!!o.fallbackFormat,v=Yg(o.missing)?o.missing:null,b=Yg(o.postTranslation)?o.postTranslation:null,y=s?r.warnHtmlMessage:!Kg(o.warnHtmlMessage)||o.warnHtmlMessage,w=!!o.escapeParameter,S=s?r.modifiers:Qg(o.modifiers)?o.modifiers:{},C=o.pluralRules||s&&r.pluralRules;function _(){return[l.value,c.value,u.value,d.value,p.value]}const E=(0,n.computed)({get:()=>i.value?i.value.locale.value:l.value,set:e=>{i.value&&(i.value.locale.value=e),l.value=e}}),k=(0,n.computed)({get:()=>i.value?i.value.fallbackLocale.value:c.value,set:e=>{i.value&&(i.value.fallbackLocale.value=e),c.value=e}}),T=(0,n.computed)((()=>i.value?i.value.messages.value:u.value)),x=(0,n.computed)((()=>d.value)),R=(0,n.computed)((()=>p.value));function A(){return i.value?i.value.getPostTranslationHandler():b}function j(e){i.value&&i.value.setPostTranslationHandler(e)}function I(){return i.value?i.value.getMissingHandler():v}function N(e){i.value&&i.value.setMissingHandler(e)}function O(e){return _(),e()}function D(...e){return i.value?O((()=>Reflect.apply(i.value.t,null,[...e]))):O((()=>""))}function P(...e){return i.value?Reflect.apply(i.value.rt,null,[...e]):""}function M(...e){return i.value?O((()=>Reflect.apply(i.value.d,null,[...e]))):O((()=>""))}function L(...e){return i.value?O((()=>Reflect.apply(i.value.n,null,[...e]))):O((()=>""))}function $(e){return i.value?i.value.tm(e):{}}function B(e,t){return!!i.value&&i.value.te(e,t)}function H(e){return i.value?i.value.getLocaleMessage(e):{}}function U(e,t){i.value&&(i.value.setLocaleMessage(e,t),u.value[e]=t)}function V(e,t){i.value&&i.value.mergeLocaleMessage(e,t)}function F(e){return i.value?i.value.getDateTimeFormat(e):{}}function q(e,t){i.value&&(i.value.setDateTimeFormat(e,t),d.value[e]=t)}function z(e,t){i.value&&i.value.mergeDateTimeFormat(e,t)}function W(e){return i.value?i.value.getNumberFormat(e):{}}function Y(e,t){i.value&&(i.value.setNumberFormat(e,t),p.value[e]=t)}function G(e,t){i.value&&i.value.mergeNumberFormat(e,t)}const K={get id(){return i.value?i.value.id:-1},locale:E,fallbackLocale:k,messages:T,datetimeFormats:x,numberFormats:R,get inheritLocale(){return i.value?i.value.inheritLocale:a},set inheritLocale(e){i.value&&(i.value.inheritLocale=e)},get availableLocales(){return i.value?i.value.availableLocales:Object.keys(u.value)},get modifiers(){return i.value?i.value.modifiers:S},get pluralRules(){return i.value?i.value.pluralRules:C},get isGlobal(){return!!i.value&&i.value.isGlobal},get missingWarn(){return i.value?i.value.missingWarn:h},set missingWarn(e){i.value&&(i.value.missingWarn=e)},get fallbackWarn(){return i.value?i.value.fallbackWarn:f},set fallbackWarn(e){i.value&&(i.value.missingWarn=e)},get fallbackRoot(){return i.value?i.value.fallbackRoot:g},set fallbackRoot(e){i.value&&(i.value.fallbackRoot=e)},get fallbackFormat(){return i.value?i.value.fallbackFormat:m},set fallbackFormat(e){i.value&&(i.value.fallbackFormat=e)},get warnHtmlMessage(){return i.value?i.value.warnHtmlMessage:y},set warnHtmlMessage(e){i.value&&(i.value.warnHtmlMessage=e)},get escapeParameter(){return i.value?i.value.escapeParameter:w},set escapeParameter(e){i.value&&(i.value.escapeParameter=e)},t:D,getPostTranslationHandler:A,setPostTranslationHandler:j,getMissingHandler:I,setMissingHandler:N,rt:P,d:M,n:L,tm:$,te:B,getLocaleMessage:H,setLocaleMessage:U,mergeLocaleMessage:V,getDateTimeFormat:F,setDateTimeFormat:q,mergeDateTimeFormat:z,getNumberFormat:W,setNumberFormat:Y,mergeNumberFormat:G};function X(e){e.locale.value=l.value,e.fallbackLocale.value=c.value,Object.keys(u.value).forEach((t=>{e.mergeLocaleMessage(t,u.value[t])})),Object.keys(d.value).forEach((t=>{e.mergeDateTimeFormat(t,d.value[t])})),Object.keys(p.value).forEach((t=>{e.mergeNumberFormat(t,p.value[t])})),e.escapeParameter=w,e.fallbackFormat=m,e.fallbackRoot=g,e.fallbackWarn=f,e.missingWarn=h,e.warnHtmlMessage=y}return(0,n.onBeforeMount)((()=>{if(null==e.proxy||null==e.proxy.$i18n)throw pb(db.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const n=i.value=e.proxy.$i18n.__composer;"global"===t?(l.value=n.locale.value,c.value=n.fallbackLocale.value,u.value=n.messages.value,d.value=n.datetimeFormats.value,p.value=n.numberFormats.value):s&&X(n)})),K}const ry=["locale","fallbackLocale","availableLocales"],oy=["t","rt","d","n","tm"];function sy(e,t){const r=Object.create(null);ry.forEach((e=>{const o=Object.getOwnPropertyDescriptor(t,e);if(!o)throw pb(db.UNEXPECTED_ERROR);const s=(0,n.isRef)(o.value)?{get(){return o.value.value},set(e){o.value.value=e}}:{get(){return o.get&&o.get()}};Object.defineProperty(r,e,s)})),e.config.globalProperties.$i18n=r,oy.forEach((n=>{const r=Object.getOwnPropertyDescriptor(t,n);if(!r||!r.value)throw pb(db.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${n}`,r)}))}if(yv(Dv),wv(Fm),Sv(iv),sb(),__INTLIFY_PROD_DEVTOOLS__){const e=Vg();e.__INTLIFY__=!0,ev(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}var iy={head:{nxcc:"云呼叫中心",beginnersGuide:"新手指引",management:"管理端",confirm:"确定",cancel:"取消",exitSuccessfully:"退出成功",successfullyModified:"修改成功",openAfterCall:"已开启话后整理，每次结束通话后默认会把话机状态更改为示忙，整理时间结束后会自动切换状态至示闲。",closeAfterCall:"已关闭话后整理",openGuide:"点击这里可以打开新手指引",tokenExpired:"登录信息已过期，请重新登录"},dashboard:{recentCalls:"最近通话",sInService:"服务中",ended:"已结束",hangUp:"挂断",comment:"业务记录",save:"保存",edit:"编辑",revisionHistory:"修改记录",viewCallLogs:"查看历史",nocalllogs:"暂无通话记录",callLogs:"通话记录",noCrm:"暂未接入CRM",noNumber:"该记录无号码",enter:"请输入",noBusiness:"暂无业务记录",enterBusiness:"请输入业务记录",notHavePermissionNumber:"您未分配此回拨的外显号码"},sip:{noAgentInformation:"无坐席信息",noDialerInformation:"无话机信息",noAgentAvailable:"无可用坐席",dialerInitialization:"话机初始化中",dialerFailedRegister:"话机注册失败",inCall:"正在通话中",savedSuccessfully:"保存成功",free:"示闲",busy:"示忙",afterCall:"话后整理",equipmentDetection:"设备检测",logout:"退出登录",dailPad:"拨号盘",dialing:"呼叫中",dialerOverdue:"话机已欠费",notCountry:"不允许呼叫的国家",errNumber:"号码不正确",networkError:"网络异常",registerSuccessfully:"注册成功",registrationFailed:"注册失败",errSymCode:'号码中包含不合法的符号（"#"）',enterNumber:"请输入号码",rejected:"已拒接",newCall:"新来电",dialer:"话机",minuteAgo:"分钟前",hourAgo:"小时前",justNow:"刚刚",displayNumber:"外呼显号",selectDisplayNumber:"请选择外呼显号",notSupportMic:"浏览器不支持麦克风，请更换浏览器",isHaveMic:"请检查是否存在麦克风,并前往浏览器设置检查是否开启或者咨询技术人员",newCalleeIn:"您有新来电-牛信云呼叫中心",unknown:"未知"},record:{selectType:"请选择呼叫类型",inboundCall:"呼入",outboundCall:"呼出",enterAgentGroupName:"请输入坐席组名称",enteAgentAccount:"请输入坐席邮箱/坐席账号",enterCalledId:"请输入被叫号码",enterCallerId:"请输入主叫号码",startingTime:"开始时间",endTime:"结束时间",selectCallTime:"请选择呼叫时间",search:"搜索",reset:"重置",download:"下载",time:"时间",callType:"呼叫类型",callerId:"主叫号码",calledId:"被叫号码",connectionStatus:"接入状态",queueStartTime:"排队开始时间",callStartTime:"通话开始时间",callEndTime:"通话结束时间",queueDuration:"排队时长(s)",callDuration:"通话时长(s)",audioFiles:"录音文件",audioGenerating:"录音文件生成中",notSupportAudio:"您的浏览器不支持 audio 元素。",agentUsername:"坐席昵称",enterAgentNickname:"请输入坐席昵称",agentAccount:"坐席账号",agentGroup:"坐席组",selectAgentGroup:"请选择坐席组",actions:"操作",callBack:"回拨",redialBack:"重拨",agentAccountEmial:"坐席邮箱/坐席账号",hangupReason:"挂断原因",callStatus:"通话状态"},expenses:{agent:"坐席",totalAmount:"总费用(呼入+呼出)",totalDuration:"接通总时长(s)",totalBillableDuration:"计费总时长(s)",totalAmount:"总金额",inboundCallAmount:"呼入费用",inboundCallAnswering:"呼入接通时长(秒)",billableDuration:"计费时长(s)",amount:"金额",outboundCallAmount:"呼出费用",OutboundCallAnswering:"呼出接通时长(秒)",transactionDetails:"明细",expenseDetails:"费用明细"},group:{add:"新增",agentGroupId:"坐席组编号",enterAgentGroupId:"请输入坐席组编号",agentQuantity:"坐席数量",description:"备注",enterDescription:"请输入备注",created:"创建日期",edittingMembers:"编辑成员",modify:"修改",delete:"删除",noAgentMembers:"该坐席组无坐席成员",createdSuccessfully:"创建成功",updateSuccessfully:"更新成功",agentGroupMembers:"坐席组成员",deleteAgentGroup:"请确认是否删除该坐席组?",priorityAgentGroup:"熟客优先",ringingStrategy:"振铃策略",order:"顺振",atTheSameTime:"同振",selectStrategy:"请选择振铃策略"},agent:{maximumAgents:"坐席上限：限时免费100位。",agentEmail:"坐席邮箱",bulkCreation:"批量创建",enterAgentEmail:"请输入坐席邮箱/坐席账号",defaultCountry:"默认国家",availableCountries:"允许国家",agentAccessPoint:"坐席接入点",record:"是否录音",agentStatus:"坐席状态",open:"开启",close:"关闭",accountRole:"账号角色",password:"密码",resetPassword:"重置密码",customerServiceSpecialist:"客服专员",supervisor:"主管",administrator:"管理员",selectDefaultCountry:"请选择默认国家",afterSelectingTip:"选中了默认国家后，拨打该国家的号码时无需增加国码。",selectAvailableCountries:"请选择允许国家",availableRangeAgent:"坐席允许发起呼叫的国家范围。",selectAgentAccessPoint:"请选择坐席接入点",makingCallAreaLine:"根据使用网络所在地选择接入节点。",recording:"录音",retentionPeriod:"保存时效",sevenDays:"7天(免费)",bulkImport:"批量导入",click:"点击",downlodTemplate:"下载导入模板",fillInFormat:"根据模板格式填写模板内容",uploadFiles:"上传文件",followFormatImport:"请按照模板格式导入；",onlyAvailable:"只能导入xlxs文件格式；",onlySingle:"每次只能导入一个文件；",importUpTime:"单次最多导入100条坐席信息；",upperBoundAgent:"若导入数量超出坐席上限，则超出部分坐席默认关闭。",preview:"预览",confirmRecording:"请确认是否",confirmOffRecording:"录音",hint:"提示",confirmAgentStatus:"请确认是否",confirmEnableAgentStatus:"坐席状态",randomPasswordOne:"系统将向坐席邮箱（",randomPasswordTwo:"）发送一封含有随机密码的邮件，该客服原密码将失效，请确认是否需要重置密码。",confirmDeleteAgent:"请确认是否删除该坐席",uploadFileation:"请上传文件",establish:"创建",sendingSucceeded:"发送成功",batchOperation:"批量操作",resetPassword:"重置密码",openAgent:"开启坐席",closureAgent:"关闭坐席",addBatches:"批量新增",bulkInvitation:"批量邀请",invite:"邀请",theAgentFreeAgent:"坐席限时6个月免费中，已为您节省每个坐席60元",agentQuantity:"坐席数量",enterAgentQuantity:"请输入坐席数量",operationResult:"操作结果",bulkCreation:"批量创建",checkAccountPassword1:"批量创建成功，请在（",checkAccountPassword2:"）的邮箱查收账号密码",batchOpenedSuccessfully:"批量开启成功",batchClosedSuccessfully:"批量关闭成功",resetResultMailbox1:"重置成功，请在（",resetResultMailbox2:"）的邮箱查收结果",selectAgentFirst:"请先选择坐席"},quote:{callPricing:"呼叫费率",callPricingTip:"呼叫费率为系统实时费率，随实际情况调整。",country:"国家",selectCountry:"请选择国家",countryCode:"国码",price:"价格(CNY)",billingCycle:"计费周期"},seeting:{sortingAfterAitting:"坐席话后整理",customizeProcessing:"自定义话后整理时长",second:"秒",blacklistedNumberTip:"呼叫失败（黑名单号码）",callFailureLimit:"呼叫失败（呼叫次数限制）",cannotNumber:"当前号码无法使用"},guide:{helpGuidance:"帮助与指引",guide1:"一、开通呼叫中心",guide1_1:"1. 登录平台后，选择菜单：成员。",guide1_2:"2. 选择需要编辑权限的成员，点击右侧编辑按钮。",guide1_3:"3. 勾选呼叫中心功能，即可帮该成员开通呼叫中心权限。",guide1_4:"4. 选择该成员在呼叫中心的使用角色后，点击确定按钮完成操作。",guide2:"二、创建坐席",guide2_1:"1. 点击右侧系统切换按钮，从中台切换至呼叫中心系统。",guide2_2:"1. 选择管理端菜单",guide2_3:"1. 选择坐席管理菜单。",guide2_4:"2. 点击页面右侧的新增按钮。",guide2_5:"1. 输入需要邀请的坐席邮箱。",guide2_6:"2. 可以选择坐席所属的坐席组（此步骤可以提前设置好坐席组，创建坐席组后再添加成员）若未选择坐席组，则该坐席呼入时将不会被分配。",guide2_7:"3. 选择该坐席的默认国家，默认国家是指该坐席拨打该国家的号码时无需拨打国码。",guide2_8:"4. 选择该坐席的允许国家，允许国家是指该坐席允许拨打的国家范围。",guide2_9:"5. 选择该坐席的接入点，系统会默认选中默认接入点，支持手动修改。",guide2_10:"6. 可选是否开启录音，若开启录音功能，则该坐席的通话均会生成录音文件，可以在通话记录处进行查看。",guide2_11:"7. 若邀请的邮箱已在团队内则会直接生成坐席，若邀请的邮箱不在团队内，则需要通过邮件邀请链接先加入团队成功后再生成坐席。",guide3:"三、创建坐席组",guide3_1:"1. 选择菜单：坐席组管理。",guide3_2:"2. 点击右侧新增按钮，打开新增弹窗。",guide3_3:"3. 输入坐席组名称，和备注后点击确定按钮完成创建。",guide3_4:"1. 点击坐席组右侧的编辑成员按钮。",guide3_5:"2. 打开编辑成员弹窗，选择坐席组成员后完成成员添加。",guide4:"四、状态切换",guide4_1:"1. 点击右上角状态切换按钮，打开状态切换弹窗。",guide4_2:"2. 选择示闲状态。",guide4_3:"*状态处于示闲时才能轮询来电。",guide4_4:"状态处于示忙时则不会接受到来电。",guide4_5:"呼出不受状态影响。",guide5:"五、通话测试",guide5_1:"1. 点击右上角设置按钮，打开设置列表。",guide5_2:"2. 选择设备检测，系统将会自动呼出检测号码。",guide5_3:"3. 检测号码接通后，播放完录音，再听到滴声后可以开始说话测试，能在系统中听到自己的声音，则说明话机线路能够正常使用。",guide6:"六、发起外呼",guide6_1:"1. 点击拨号盘菜单，打开拨号盘。",guide6_2:"2. 点击数字或者数字键盘输入号码。",guide6_3:"3. 点击拨打按钮，进行外呼。",guide7:"七、接听来电",guide7_1:"1. 当有新来电时，系统右侧将会弹出来电弹屏。",guide7_2:"2. 点击绿色电话icon即可接听该来电。",guide7_3:"3. 点击红色电话icon即可拒接该来电。"},equipment:{ccMicTestingTitle:"云呼叫中心设备检测",startTest:"开始检测",lineTest:"线路检测",deviceTest:"设备检测",browserTest:"浏览器检测",networkMonitoring:"网络监测",microphoneOption:"麦克风选择:",trySaying:'对着麦克风说"哈喽"试试～',ableToSeeLine:"是否可以看到音量图标跳动？",speakerOption:"扬声器选择:",turnUpVolume:"请调高设备音量，点击播放下面的音频试试～",hearSound:"是否可以听到声音？",microphone:"麦克风状态：",normal:"正常",abnormal:"异常",yes:"是",no:"否",seeYesMicLine:"看的到",seeNoMicLine:"看不到",listenYesMicLine:"听的到",listenNoMicLine:"听不到",speaker:"扬声器状态：",browsers:"浏览器支持度：",networkStatus:"网络状态：",reCheck:"重新检测",copy:"复制信息",lineTest:"线路检测",deviceStatus:"设备状态",testTypes:"用户选择：",localMicrophone:"本地麦克风获取：",theAudioSound:"音频是否播放：",browserSupport:"浏览器支持度",basicInformation:"基础环境",operatingSystem:"操作系统：",browser:"浏览器：",screenResolution:"屏幕分辨率：",numberProcessors:"逻辑处理器数量：",apiSupport:"API 支持",webrtcSupport:"是否支持 WebRTC：",webAudioSupport:"是否支持 WebAudio：",webSocketSupport:"是否支持 WebSocket：",availableDevices:"可用设备",whetherAuthorizeMicrophone:"是否授权使用麦克风：",microphoneDevice:"麦克风设备：",speakerDevice:"扬声器设备：",networkstatus:"网络状态",apiTesting:"API 测试",networkNormal:"网络正常，延时",networkError:"网络异常",webSocketConnectionTest:"WebSocket 连接测试",connectionNormal:"连接正常",connectionError:"连接异常",currentMicrophoneDevice:"当前麦克风设备：",notSupportMicrophone:"浏览器不支持麦克风，请更换浏览器",checkWhetherMicrophone:"请检查是否存在麦克风,并前往浏览器设置检查是否开启或者咨询技术人员",copiedSuccessfully:"复制成功",ccMicTesting:"复制失败"},statis:{productivityStatistics:"工作效率统计",statusStatistics:"工作状态统计",inboundCall:"呼入总数",inboundCallMissed:"呼入未接数",inboundCallAnswered:"呼入接听数",inboundCallAnsweredRate:"呼入接听率",outboundCall:"呼出总数",outboundCallMissed:"呼出未接数",outboundCallAnswered:"呼出接听数",outboundCallAnsweredRate:"呼出接听率",statusDuration:"状态时长",onlineDuration:"在线时长",idleDuration:"空闲时长",busyDuration:"示忙时长",dialedDuration:"通话时长",queueDuration:"排队等待时长:",callStrategy:"呼入策略",inboundMissedCallsList:"呼入未接列表",outboundCallAnsweredRateCallsList:"呼出未接列表",ringstarttime:"振铃开始时间",ringendtime:"振铃结束时间",ringingduration:"振铃时长(s)"}},ay={head:{nxcc:"NXCC",beginnersGuide:"Beginners Guide",management:"Management",confirm:"Confirm",cancel:"cancel",exitSuccessfully:"exit successfully",successfullyModified:"Successfully modified",openAfterCall:"Enabling the After-call Work refers to the busy status will be opened by default when a dialer ends a calling and switch to the free status after the after-call work is finished.",closeAfterCall:"Disable the After-call Work",openGuide:"Click here to open the Beginners Guide",tokenExpired:"Login has expired, please login again!"},dashboard:{recentCalls:"Recent Calls",sInService:"SIn Service",ended:"Ended",hangUp:"Hang up",comment:"Comment",save:"Save",edit:"Edit",revisionHistory:"Revision history",viewCallLogs:"View Call Logs",nocalllogs:"No call logs",callLogs:"Call Logs",noCrm:"Not connection with CRM",noNumber:"The record has no number",enter:"Enter",noBusiness:"No business record",enterBusiness:"Please enter comment",notHavePermissionNumber:"You do not have permission to dial this number"},sip:{noAgentInformation:"No agent information",noDialerInformation:"No dialer information",noAgentAvailable:"No agent available",dialerInitialization:"The dialer is in the initialization.",dialerFailedRegister:"The dialer failed to register.",inCall:"In a call",savedSuccessfully:"Saved successfully",free:"Free",busy:"Busy",afterCall:"After-call",equipmentDetection:"Equipment detection",logout:"Log out",dailPad:"Dail Pad",dialing:"Dialing",dialerOverdue:"The dialer is overdue",notCountry:"The calling country is not available.",errNumber:"Incorrect number",networkError:"Network Error",registerSuccessfully:"Register Successfully",registrationFailed:"registration failed",errSymCode:'The number contains an illegal symbol ("#")',enterNumber:"please enter the number",rejected:"Rejected",newCall:"New call",dialer:"Dialer",minuteAgo:" minute ago",hourAgo:" hour ago",justNow:" just now",displayNumber:"call display number",selectDisplayNumber:"Select call display number",notSupportMic:"The browser does not support microphones, please change the browser",isHaveMic:"Check for the presence of a microphone and go to your browser settings to check if it is turned on or consult a technician",newCalleeIn:"You have a new call - NXCLOUD Call Center",unknown:"unknown"},record:{selectType:"Please select a call type",inboundCall:"Inbound Call",outboundCall:"Outbound Call",enterAgentGroupName:"Enter an agent group name",enteAgentAccount:"Enter Agent Email / Agent Account",enterCalledId:"Enter an called ID",enterCallerId:"Enter an caller ID",startingTime:"Starting Time",endTime:"End Time",selectCallTime:"Please select a call time",search:"Search",reset:"Reset",download:"Download",time:"Time",callType:"Call Type",callerId:"Caller ID",calledId:"Called ID",connectionStatus:"Connection Status",queueStartTime:"Queue start time",callStartTime:"Call start time",callEndTime:"Call end time",queueDuration:"Queue Duration (Sec.)",callDuration:"Call Duration (Sec.)",audioFiles:"Audio files",audioGenerating:"The audio file is in generating.",notSupportAudio:"Your browser does not support the audio file.",agentUsername:"Agent Username",enterAgentNickname:"Enter an Agent name",agentAccount:"Agent account",agentGroup:"Agent group",selectAgentGroup:"Please select an agent group",actions:"Actions",callBack:"Call Back",redialBack:"Redial",agentAccountEmial:"Agent Email / Agent Account",hangupReason:"Hang up reason",callStatus:"Call Status"},expenses:{agent:"Agent",totalAmount:"Total Amount (both inbound and outbound calls)",totalDuration:"Total Duration (Sec.)",totalBillableDuration:"Total Billable Duration (Sec.)",totalAmount:"Total Amount (CNY)",inboundCallAmount:"Inbound Call amount",inboundCallAnswering:"Inbound Call Answering Duration (Sec.)",billableDuration:"Billable Duration (Sec.)",amount:"Amount (CNY)",outboundCallAmount:"Outbound Call amount",OutboundCallAnswering:"Outbound Call answering time（Sec.)",billableDuration:"Billable Duration (Sec.)",transactionDetails:"Transaction Details",expenseDetails:"Expense Details"},group:{add:"Add",agentGroupId:"Agent Group ID",enterAgentGroupId:"Enter an Agent Group ID",agentQuantity:"Agent Quantity",description:"Description",enterDescription:"Enter comments",created:"Created",edittingMembers:"Editting Members",modify:"Modify",delete:"Delete",noAgentMembers:"No agent members in this group",createdSuccessfully:"Created successfully",updateSuccessfully:"Updated Successfully",agentGroupMembers:"Agent group members",deleteAgentGroup:"Please confirm whether to delete the agent group?",deletedSuccessfully:"Deleted Successfully",priorityAgentGroup:"A served customer takes priority to the member of the Agent Group",ringingStrategy:"Ringing strategy",order:"order",atTheSameTime:"at the same time",selectStrategy:"Please select a ringing strategy"},agent:{maximumAgents:"Agent limit: 100 seats are free for a limited time.",agentEmail:"Agent Email",bulkCreation:"Bulk Creation",enterAgentEmail:"Please enter the Agent Email / Agent Account",defaultCountry:"Default country",availableCountries:"Available Countries",agentAccessPoint:"Agent Access Point",record:"Record",agentStatus:"Agent status",open:"open",close:"close",accountRole:"Account role",password:"Password",resetPassword:"Reset Password",customerServiceSpecialist:"Customer Service Specialist",supervisor:"Supervisor",administrator:"Administrator",selectDefaultCountry:"Please select a default country",afterSelectingTip:"After selecting the default country, dialing this country number can be done without the country code",selectAvailableCountries:"Please select available countries",availableRangeAgent:"The available range of making calls countries for the Agent.",selectAgentAccessPoint:"Please select an agent access point",makingCallAreaLine:"Making a call by a designated area line",recording:"recording",retentionPeriod:"Retention Period",sevenDays:"7 days (free)",bulkImport:"Bulk Import",click:"Click",downlodTemplate:"Downlod/Import Template",fillInFormat:"Fill in the content by the template format",uploadFiles:"upload files",followFormatImport:"Please follow the template format to import",onlyAvailable:"Only available for xlsx. file format",onlySingle:"Only a single file at a time to import",importUpTime:"The import of agent information is up to 100 at a time.",upperBoundAgent:"The excess agents will be off by default when the imported quantity is out of the upper bound of the agent. ",preview:"Preview",confirmRecording:"Please confirm whether to ",confirmOffRecording:" recording",hint:"hint",confirmAgentStatus:"Please confirm whether to ",confirmEnableAgentStatus:" the agent status",randomPasswordOne:"The system will send an email with a random password to the Agent's email(",randomPasswordTwo:"), while the old password will be invalid. Please confirm whether to reset the password.",confirmDeleteAgent:"Please confirm whether to delete the agent",uploadFileation:"Please upload the file",establish:"Establish",sendingSucceeded:"Sending succeeded",batchOperation:"Batch operation",resetPassword:"Reset Password",openAgent:"Open Agent",closureAgent:"Closure Agent",addBatches:"Add in batches",bulkInvitation:"Bulk invitation",invite:"Invite",theAgentFreeAgent:"The Agent is free for 6 months within a limited time, which has saved you 60 CNY per Agent",agentQuantity:"Agent Quantity",enterAgentQuantity:"Enter an agent Quantity",operationResult:"Operation result",bulkCreation:"Bulk Creation",checkAccountPassword1:"The batch creation is successful, please check the account password in the mailbox of (",checkAccountPassword2:")",batchOpenedSuccessfully:"Batch opened successfully",batchClosedSuccessfully:"Batch closed successfully",resetResultMailbox1:"The reset is successful, please check the result in the mailbox of (",resetResultMailbox2:")",selectAgentFirst:"Please select a  agent first",agentLimitTime:"Agent limit: 100 seats are free for a limited time."},quote:{callPricing:"Call Pricing",callPricingTip:"The call pricing is real-time updating and adjusting in the actual situation.",country:"Country",selectCountry:"Please select a country",countryCode:"Country code",price:"Price(CNY)",billingCycle:"Bill Type"},seeting:{sortingAfterAitting:"After-call ",customizeProcessing:"Time-gap Setting",second:"Second"},guide:{helpGuidance:"Help and guidance",guide1:"Open the call-center service",guide1_1:"1. After login the Middle-Office, please select the User from the left hand side menu.",guide1_2:"2. Click the edit button on the right side and select the user you need to edit permission.",guide1_3:"3. Check the box, then help the user to open the call-center permission.",guide1_4:"4. Select a role for the user in the call-center, then click the confirm button to complete the operation",guide2:"Creating Agents",guide2_1:"1. Click the top right button and then select NXCC.",guide2_2:"1. Select the Management-Side on the top bar menu.",guide2_3:"1. Select the Agents Management section.",guide2_4:'2. Then click the top right button, "Add"',guide2_5:"1. Enter an agent email you need to invite",guide2_6:"2. You can assign it to the Agent Group, which has already been created previously. If you don't select an Agent Group, the Agent won't be assigned when calling.",guide2_7:"3. Select the default country for this Agent, which refers to dialing this country number, can be done without the country code.",guide2_8:"4. Select the available countries for the Agent, which refers to the range of countries for available dialing.",guide2_9:"5. Select the agent access point, which refers to the system access point by default but supports modifying manually.",guide2_10:"6. You can enable the Recording, which refers to all calls generated the audio files and can view the Call Logs.",guide2_11:"7. If the invite email exists as in the Team, it will generate an Agent. Otherwise, it needs to join the invite link first.",guide3:"Creating Agent Groups",guide3_1:"1. Select the Agent Group Management section.",guide3_2:'2. Then click the top right button, "Add" pop up.',guide3_3:"3. Enter an agent group name, type in the description then click the Create button to finish the creation.",guide3_4:"1. Click the button Edit Members from the right side.",guide3_5:"2. Add a member to this Agent Group and complete to add.",guide4:"Switch the Status",guide4_1:"1. Click the top right button to switch the status.",guide4_2:"2. Select the Free status",guide4_3:"*Only in the Free status can be in a polling call.",guide4_4:"It won't receive the call in the Busy status.",guide4_5:"But outbound calls won't be impacted by the status.",guide5:"Call testing",guide5_1:"1. Click the top right button to open the Setting List.",guide5_2:"2. Select a device to test, which means the system will automatically call the test phone number.",guide5_3:"3. The audio will play when the call is picked up, and you can speak on the phone after listening to the beep, and if you can hear your voice, which refers to the dialer line is normal.",guide6:"Making the outbound call",guide6_1:"1. Click the dial pad section on the top bar menu.",guide6_2:"2. Enter the phone number on the dial pad.",guide6_3:"3. Click the Dial icon to an outbound call.",guide7:"Receive incoming calls",guide7_1:"1. A call hint will pop up on the right side if a new incoming call comes out.",guide7_2:"2. Click the green phone icon to pick up the call.",guide7_3:"3. Click the red phone icon to reject the call."},equipment:{ccMicTestingTitle:"NXCC Mic Testing",startTest:"Start Test",lineTest:"Line Test",deviceTest:"Device Test",browserTest:"Browser Test",networkMonitoring:"Network monitoring",microphoneOption:"Microphone Option：",trySaying:'Try saying "hello" into the microphone~',ableToSeeLine:"Would be able to see a line moving up & down in the test box area?",speakerOption:"Speaker Option：",turnUpVolume:"Please click to play the audio to turn up the volume",hearSound:"Can you hear the sound？",microphone:"Microphone：",normal:"Normal",abnormal:"Abnormal",yes:"yes",no:"no",seeYesMicLine:"yes",seeNoMicLine:"no",listenYesMicLine:"yes",listenNoMicLine:"no",speaker:"Speaker：",browsers:"Browsers：",networkStatus:"Network status：",reCheck:"Re-check",copy:"Copy",lineTest:"Line Test",deviceStatus:"Device status",testTypes:"Test types：",localMicrophone:"Local microphone：",theAudioSound:"The audio sound：",browserSupport:"Browser support",basicInformation:"Basic Information",operatingSystem:"Operating system：",browser:"Browser：",screenResolution:"Screen Resolution：",numberProcessors:"Number of logical processors：",apiSupport:"API support",webrtcSupport:"WebRTC Support：",webAudioSupport:"WebAudio Support：",webSocketSupport:"WebSocket Support：",availableDevices:"Available devices：",whetherAuthorizeMicrophone:"Whether to authorize the use of the microphone：",microphoneDevice:"Microphone Device：",speakerDevice:"Speaker Device：",networkstatus:"Network status",apiTesting:"API testing",networkNormal:"The network is normal, the delay is ",networkError:"Network Error",webSocketConnectionTest:"WebSocket connection test",connectionNormal:"Normal",connectionError:"Connection Error",currentMicrophoneDevice:"Current Microphone Device：",notSupportMicrophone:"The browser does not support the microphone, please change the browser",checkWhetherMicrophone:"Please check whether there is a microphone, and go to the browser settings to check whether it is turned on or consult a technical staff",copiedSuccessfully:"Copied successfully",ccMicTesting:"ccMicTesting"},statis:{productivityStatistics:"Productivity Statistics",statusStatistics:"Status Statistics",inboundCall:"Inbound Call",inboundCallMissed:"Inbound Call Missed",inboundCallAnswered:"Inbound Call Answered",inboundCallAnsweredRate:"Inbound Call Answered Rate",outboundCall:"Outbound Call",outboundCallMissed:"Outbound Call Missed",outboundCallAnswered:"Outbound Call Answered",outboundCallAnsweredRate:"Outbound Call Answered Rate",statusDuration:"Status Duration ",onlineDuration:"Online Duration",idleDuration:"Idle Duration",busyDuration:"Busy Duration",dialedDuration:"Dialed Duration",queueDuration:"queue Duration:",callStrategy:"Call Strategy",inboundMissedCallsList:"Inbound Missed Calls List",outboundCallAnsweredRateCallsList:"Outbound Missed Calls List",ringstarttime:"Ring start time",ringendtime:"Ring end time",ringingduration:"Ringing duration（Sec.)"}};
/*! js-cookie v3.0.1 | MIT */
function ly(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var cy={read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function uy(e,t){function n(n,r,o){if("undefined"!==typeof document){o=ly({},t,o),"number"===typeof o.expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var i in o)o[i]&&(s+="; "+i,!0!==o[i]&&(s+="="+o[i].split(";")[0]));return document.cookie=n+"="+e.write(r,n)+s}}function r(t){if("undefined"!==typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var s=n[o].split("="),i=s.slice(1).join("=");try{var a=decodeURIComponent(s[0]);if(r[a]=e.read(i,a),t===a)break}catch(l){}}return t?r[t]:r}}return Object.create({set:n,get:r,remove:function(e,t){n(e,"",ly({},t,{expires:-1}))},withAttributes:function(e){return uy(this.converter,ly({},this.attributes,e))},withConverter:function(e){return uy(ly({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var dy=uy(cy,{path:"/"}),py=dy;const hy={zh:iy,en:ay},fy=((navigator.language||"zh").toLocaleLowerCase(),Gb({locale:"en-US"==py.get("locale")?"en":"zh",fallbackLocale:"en",globalInjection:!0,legacy:!1,messages:hy}));var gy=fy;const my=(0,n.reactive)({numberText:"",numberJson:[{number:1,label:""},{number:2,label:"ABC"},{number:3,label:"DEF"},{number:4,label:"GHI"},{number:5,label:"JKL"},{number:6,label:"MNO"},{number:7,label:"PQRS"},{number:8,label:"TUV"},{number:9,label:"WXYZ"},{number:"*",label:""},{number:0,label:"+"},{number:"#",label:""}],isMenuAct:1,callNumber:"",callStatus:null,numberVisible:!1,statusTxt:["呼叫中","新来电","通话中","已拒接","已挂断"],statusTxtEn:["Dialing","New call","In a call","Rejected","Hang up"],activeNames:["1","2"],dialogTableVisible:!1,talkCallTime:"00:00:00",nxwcall:null,currentUser:null,narrowVisible:!1,bodyVisible:!1,statusOptions:[{value:"Available",label:gy.global.t("sip.free")},{value:"On break",label:gy.global.t("sip.busy")}],statusValue:"Available",isMenu:1,overList:[],isActiveOver:0,isCallingList:{number:"",status:"",time:""},recetCallDetail:{number:"",status:"",time:""},isMainCode:null,isMainShow:null,recordSearch:{direction:null,group:null,name:"",number:null,startDate:Ag()().startOf("day").format("YYYY-MM-DD HH:mm:ss"),endDate:Ag()().endOf("day").format("YYYY-MM-DD HH:mm:ss"),current:1,size:10},recordCallTime:[Ag()().startOf("day"),Ag()().endOf("day")],recordList:[],recordTotal:0,tableLoading:!1,dialogWidth:914,userEmail:"",setToken:"",isSuccess:!1,isReject:null,isCalling:1,isTimer:null,isLoginSuccess:null,isOpenSpeech:null,external:{number:null},externalList:[],externalInfo:{},recordCallId:null,sipNumber:null,timers:null,stopTimeval:null,callDidNumber:null,popVisible:!1,busRecord:{businessRecord:""},modeifyRecordVisible:!1,modeifyhistoryVisible:!1,businessRecordHistory:"",allRecordList:[]}),vy=e=>{let t=e.data,n=new FileReader;n.onload=function(){try{let e=JSON.parse(t);e.code&&xg.error(e.msg)}catch(n){let t=window.URL.createObjectURL(new Blob([e.data],{type:e.headers["content-type"]})),r=document.createElement("a"),o=e.headers["content-disposition"].split("filename="),s="";[...o].pop()&&(s=[...o].pop().split(";").shift()),r.download=decodeURI(s),r.style.display="none",r.href=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)}},n.readAsText(t)};var by=__webpack_require__(7672),yy=__webpack_require__.n(by),wy=__webpack_require__(3693),Sy=__webpack_require__.n(wy);const Cy=function(e){const t=Math.floor(e/3600)>=10?Math.floor(e/3600):"0"+Math.floor(e/3600);e-=3600*t;const n=Math.floor(e/60)>=10?Math.floor(e/60):"0"+Math.floor(e/60);e-=60*n;const r=e>=10?e:"0"+e;return t+":"+n+":"+r},_y=new(Sy())({id:"aZbwJFDQ7X4yxdr6Xr",uin:"xxx",reportApiSpeed:!0,reportAssetSpeed:!0,spa:!0}),Ey=e=>{if(!e)return{onClick:c,onMousedown:c,onMouseup:c};let t=!1,n=!1;const r=r=>{t&&n&&e(r),t=n=!1},o=e=>{t=e.target===e.currentTarget},s=e=>{n=e.target===e.currentTarget};return{onClick:r,onMousedown:o,onMouseup:s}};var ky=(e=>(e[e["TEXT"]=1]="TEXT",e[e["CLASS"]=2]="CLASS",e[e["STYLE"]=4]="STYLE",e[e["PROPS"]=8]="PROPS",e[e["FULL_PROPS"]=16]="FULL_PROPS",e[e["HYDRATE_EVENTS"]=32]="HYDRATE_EVENTS",e[e["STABLE_FRAGMENT"]=64]="STABLE_FRAGMENT",e[e["KEYED_FRAGMENT"]=128]="KEYED_FRAGMENT",e[e["UNKEYED_FRAGMENT"]=256]="UNKEYED_FRAGMENT",e[e["NEED_PATCH"]=512]="NEED_PATCH",e[e["DYNAMIC_SLOTS"]=1024]="DYNAMIC_SLOTS",e[e["HOISTED"]=-1]="HOISTED",e[e["BAIL"]=-2]="BAIL",e))(ky||{});function Ty(e){return(0,n.isVNode)(e)&&e.type===n.Fragment}function xy(e){return(0,n.isVNode)(e)&&e.type===n.Comment}function Ry(e){return(0,n.isVNode)(e)&&!Ty(e)&&!xy(e)}const Ay=oe({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:se([String,Array,Object])},zIndex:{type:se([String,Number])}}),jy={click:e=>e instanceof MouseEvent};var Iy=(0,n.defineComponent)({name:"ElOverlay",props:Ay,emits:jy,setup(e,{slots:t,emit:r}){const o=Qs("overlay"),s=e=>{r("click",e)},{onClick:i,onMousedown:a,onMouseup:l}=Ey(e.customMaskEvent?void 0:s);return()=>e.mask?(0,n.createVNode)("div",{class:[o.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:i,onMousedown:a,onMouseup:l},[(0,n.renderSlot)(t,"default")],ky.STYLE|ky.CLASS|ky.PROPS,["onClick","onMouseup","onMousedown"]):(0,n.h)("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[(0,n.renderSlot)(t,"default")])}});const Ny=Iy,Oy=oe({center:{type:Boolean,default:!1},closeIcon:{type:Za,default:""},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),Dy={close:()=>!0},Py=Symbol("dialogInjectionKey"),My=["aria-label"],Ly={name:"ElDialogContent"},$y=(0,n.defineComponent)({...Ly,props:Oy,emits:Dy,setup(e){const{Close:t}=Qa,{dialogRef:r,headerRef:o,ns:s,style:i}=(0,n.inject)(Py);return(e,a)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{ref_key:"dialogRef",ref:r,class:(0,n.normalizeClass)([(0,n.unref)(s).b(),(0,n.unref)(s).is("fullscreen",e.fullscreen),(0,n.unref)(s).is("draggable",e.draggable),{[(0,n.unref)(s).m("center")]:e.center},e.customClass]),"aria-modal":"true",role:"dialog","aria-label":e.title||"dialog",style:(0,n.normalizeStyle)((0,n.unref)(i)),onClick:a[1]||(a[1]=(0,n.withModifiers)((()=>{}),["stop"]))},[(0,n.createElementVNode)("div",{ref_key:"headerRef",ref:o,class:(0,n.normalizeClass)((0,n.unref)(s).e("header"))},[(0,n.renderSlot)(e.$slots,"title",{},(()=>[(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)((0,n.unref)(s).e("title"))},(0,n.toDisplayString)(e.title),3)]))],2),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)((0,n.unref)(s).e("body"))},[(0,n.renderSlot)(e.$slots,"default")],2),e.$slots.footer?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:(0,n.normalizeClass)((0,n.unref)(s).e("footer"))},[(0,n.renderSlot)(e.$slots,"footer")],2)):(0,n.createCommentVNode)("v-if",!0),e.showClose?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,"aria-label":"close",class:(0,n.normalizeClass)((0,n.unref)(s).e("headerbtn")),type:"button",onClick:a[0]||(a[0]=t=>e.$emit("close"))},[(0,n.createVNode)((0,n.unref)(Jl),{class:(0,n.normalizeClass)((0,n.unref)(s).e("close"))},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(e.closeIcon||(0,n.unref)(t))))])),_:1},8,["class"])],2)):(0,n.createCommentVNode)("v-if",!0)],14,My))}});var By=r($y,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Hy=oe({...Oy,appendToBody:{type:Boolean,default:!1},beforeClose:{type:se(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,required:!0},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),Uy={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Cc]:e=>I(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Vy=e=>{if((0,n.isRef)(e)||$n("[useLockscreen]","You need to pass a ref param to this function"),!j||Fl(document.body,"el-popup-parent--hidden"))return;let t=0,r=!1,o="0",s=0;const i=()=>{zl(document.body,"el-popup-parent--hidden"),r&&(document.body.style.paddingRight=o)};(0,n.watch)(e,(e=>{if(!e)return void i();r=!Fl(document.body,"el-popup-parent--hidden"),r&&(o=document.body.style.paddingRight,s=Number.parseInt(Wl(document.body,"paddingRight"),10)),t=_f();const n=document.documentElement.clientHeight<document.body.scrollHeight,a=Wl(document.body,"overflowY");t>0&&(n||"scroll"===a)&&r&&(document.body.style.paddingRight=`${s+t}px`),ql(document.body,"el-popup-parent--hidden")})),(0,n.onScopeDispose)((()=>i()))},Fy=[],qy=e=>{if(0!==Fy.length&&e.code===ii.esc){e.stopPropagation();const t=Fy[Fy.length-1];t.handleClose()}},zy=(e,t)=>{(0,n.watch)(t,(t=>{t?Fy.push(e):Fy.splice(Fy.indexOf(e),1)}))};j&&F(document,"keydown",qy);const Wy=(e,t)=>{let r;(0,n.watch)((()=>e.value),(e=>{var o,s;e?(r=document.activeElement,(0,n.isRef)(t)&&(null==(s=(o=t.value).focus)||s.call(o))):r.focus()}))},Yy=(e,t)=>{const r=(0,n.getCurrentInstance)(),o=r.emit,{nextZIndex:s}=Ks();let i="";const a=(0,n.ref)(!1),l=(0,n.ref)(!1),c=(0,n.ref)(!1),u=(0,n.ref)(e.zIndex||s());let d,p;const h=(0,n.computed)((()=>N(e.width)?`${e.width}px`:e.width)),f=zs("namespace",Xs),g=(0,n.computed)((()=>{const t={},n=`--${f.value}-dialog`;return e.fullscreen||(e.top&&(t[`${n}-margin-top`]=e.top),e.width&&(t[`${n}-width`]=h.value)),t}));function m(){o("opened")}function v(){o("closed"),o(Cc,!1),e.destroyOnClose&&(c.value=!1)}function b(){o("close")}function y(){null==p||p(),null==d||d(),e.openDelay&&e.openDelay>0?({stop:d}=H((()=>_()),e.openDelay)):_()}function w(){null==d||d(),null==p||p(),e.closeDelay&&e.closeDelay>0?({stop:p}=H((()=>E()),e.closeDelay)):E()}function S(){function t(e){e||(l.value=!0,a.value=!1)}e.beforeClose?e.beforeClose(t):w()}function C(){e.closeOnClickModal&&S()}function _(){j&&(a.value=!0)}function E(){a.value=!1}return e.lockScroll&&Vy(a),e.closeOnPressEscape&&zy({handleClose:S},a),Wy(a),(0,n.watch)((()=>e.modelValue),(r=>{r?(l.value=!1,y(),c.value=!0,o("open"),u.value=e.zIndex?u.value++:s(),(0,n.nextTick)((()=>{t.value&&(t.value.scrollTop=0)}))):a.value&&w()})),(0,n.watch)((()=>e.fullscreen),(e=>{t.value&&(e?(i=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=i)})),(0,n.onMounted)((()=>{e.modelValue&&(a.value=!0,c.value=!0,y())})),{afterEnter:m,afterLeave:v,beforeLeave:b,handleClose:S,onModalClick:C,close:w,doClose:E,closed:l,style:g,rendered:c,visible:a,zIndex:u}},Gy=(e,t,r)=>{let o={offsetX:0,offsetY:0};const s=t=>{const n=t.clientX,r=t.clientY,{offsetX:s,offsetY:i}=o,a=e.value.getBoundingClientRect(),l=a.left,c=a.top,u=a.width,d=a.height,p=document.documentElement.clientWidth,h=document.documentElement.clientHeight,f=-l+s,g=-c+i,m=p-l-u+s,v=h-c-d+i,b=t=>{const a=Math.min(Math.max(s+t.clientX-n,f),m),l=Math.min(Math.max(i+t.clientY-r,g),v);o={offsetX:a,offsetY:l},e.value.style.transform=`translate(${Yl(a)}, ${Yl(l)})`},y=()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",y)};document.addEventListener("mousemove",b),document.addEventListener("mouseup",y)},i=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",s)},a=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",s)};(0,n.onMounted)((()=>{(0,n.watchEffect)((()=>{r.value?i():a()}))})),(0,n.onBeforeUnmount)((()=>{a()}))},Ky={name:"ElDialog"},Xy=(0,n.defineComponent)({...Ky,props:Hy,emits:Uy,setup(e,{expose:t}){const r=e,o=Qs("dialog"),s=(0,n.ref)(),i=(0,n.ref)(),{visible:a,style:l,rendered:c,zIndex:u,afterEnter:d,afterLeave:p,beforeLeave:h,handleClose:f,onModalClick:g}=Yy(r,s);(0,n.provide)(Py,{dialogRef:s,headerRef:i,ns:o,rendered:c,style:l});const m=Ey(g),v=(0,n.computed)((()=>r.draggable&&!r.fullscreen));return Gy(s,i,v),t({visible:a}),(e,t)=>((0,n.openBlock)(),(0,n.createBlock)(n.Teleport,{to:"body",disabled:!e.appendToBody},[(0,n.createVNode)(n.Transition,{name:"dialog-fade",onAfterEnter:(0,n.unref)(d),onAfterLeave:(0,n.unref)(p),onBeforeLeave:(0,n.unref)(h)},{default:(0,n.withCtx)((()=>[(0,n.withDirectives)((0,n.createVNode)((0,n.unref)(Ny),{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":(0,n.unref)(u)},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(`${(0,n.unref)(o).namespace.value}-overlay-dialog`),onClick:t[0]||(t[0]=(...e)=>(0,n.unref)(m).onClick&&(0,n.unref)(m).onClick(...e)),onMousedown:t[1]||(t[1]=(...e)=>(0,n.unref)(m).onMousedown&&(0,n.unref)(m).onMousedown(...e)),onMouseup:t[2]||(t[2]=(...e)=>(0,n.unref)(m).onMouseup&&(0,n.unref)(m).onMouseup(...e))},[(0,n.unref)(c)?((0,n.openBlock)(),(0,n.createBlock)(By,{key:0,"custom-class":e.customClass,center:e.center,"close-icon":e.closeIcon,draggable:(0,n.unref)(v),fullscreen:e.fullscreen,"show-close":e.showClose,style:(0,n.normalizeStyle)((0,n.unref)(l)),title:e.title,onClose:(0,n.unref)(f)},(0,n.createSlots)({title:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"title")])),default:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"default")])),_:2},[e.$slots.footer?{name:"footer",fn:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"footer")]))}:void 0]),1032,["custom-class","center","close-icon","draggable","fullscreen","show-close","style","title","onClose"])):(0,n.createCommentVNode)("v-if",!0)],34)])),_:3},8,["mask","overlay-class","z-index"]),[[n.vShow,(0,n.unref)(a)]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Jy=r(Xy,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Zy=k(Jy),Qy=["default","primary","success","warning","info","danger",""],ew=["button","submit","reset"],tw=oe({size:yc,disabled:Boolean,type:{type:String,values:Qy,default:""},icon:{type:Za,default:""},nativeType:{type:String,values:ew,default:"button"},loading:Boolean,loadingIcon:{type:Za,default:()=>La},plain:Boolean,text:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0}}),nw={click:e=>e instanceof MouseEvent};function rw(e,t){sw(e)&&(e="100%");var n=iw(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t)),e)}function ow(e){return Math.min(1,Math.max(0,e))}function sw(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)}function iw(e){return"string"===typeof e&&-1!==e.indexOf("%")}function aw(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function lw(e){return e<=1?"".concat(100*Number(e),"%"):e}function cw(e){return 1===e.length?"0"+e:String(e)}function uw(e,t,n){return{r:255*rw(e,255),g:255*rw(t,255),b:255*rw(n,255)}}function dw(e,t,n){e=rw(e,255),t=rw(t,255),n=rw(n,255);var r=Math.max(e,t,n),o=Math.min(e,t,n),s=0,i=0,a=(r+o)/2;if(r===o)i=0,s=0;else{var l=r-o;switch(i=a>.5?l/(2-r-o):l/(r+o),r){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4;break;default:break}s/=6}return{h:s,s:i,l:a}}function pw(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hw(e,t,n){var r,o,s;if(e=rw(e,360),t=rw(t,100),n=rw(n,100),0===t)o=n,s=n,r=n;else{var i=n<.5?n*(1+t):n+t-n*t,a=2*n-i;r=pw(a,i,e+1/3),o=pw(a,i,e),s=pw(a,i,e-1/3)}return{r:255*r,g:255*o,b:255*s}}function fw(e,t,n){e=rw(e,255),t=rw(t,255),n=rw(n,255);var r=Math.max(e,t,n),o=Math.min(e,t,n),s=0,i=r,a=r-o,l=0===r?0:a/r;if(r===o)s=0;else{switch(r){case e:s=(t-n)/a+(t<n?6:0);break;case t:s=(n-e)/a+2;break;case n:s=(e-t)/a+4;break;default:break}s/=6}return{h:s,s:l,v:i}}function gw(e,t,n){e=6*rw(e,360),t=rw(t,100),n=rw(n,100);var r=Math.floor(e),o=e-r,s=n*(1-t),i=n*(1-o*t),a=n*(1-(1-o)*t),l=r%6,c=[n,i,s,s,a,n][l],u=[a,n,n,i,s,s][l],d=[s,s,a,n,n,i][l];return{r:255*c,g:255*u,b:255*d}}function mw(e,t,n,r){var o=[cw(Math.round(e).toString(16)),cw(Math.round(t).toString(16)),cw(Math.round(n).toString(16))];return r&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function vw(e,t,n,r,o){var s=[cw(Math.round(e).toString(16)),cw(Math.round(t).toString(16)),cw(Math.round(n).toString(16)),cw(bw(r))];return o&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function bw(e){return Math.round(255*parseFloat(e)).toString(16)}function yw(e){return ww(e)/255}function ww(e){return parseInt(e,16)}function Sw(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}var Cw={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function _w(e){var t={r:0,g:0,b:0},n=1,r=null,o=null,s=null,i=!1,a=!1;return"string"===typeof e&&(e=jw(e)),"object"===typeof e&&(Iw(e.r)&&Iw(e.g)&&Iw(e.b)?(t=uw(e.r,e.g,e.b),i=!0,a="%"===String(e.r).substr(-1)?"prgb":"rgb"):Iw(e.h)&&Iw(e.s)&&Iw(e.v)?(r=lw(e.s),o=lw(e.v),t=gw(e.h,r,o),i=!0,a="hsv"):Iw(e.h)&&Iw(e.s)&&Iw(e.l)&&(r=lw(e.s),s=lw(e.l),t=hw(e.h,r,s),i=!0,a="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=aw(n),{ok:i,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var Ew="[-\\+]?\\d+%?",kw="[-\\+]?\\d*\\.\\d+%?",Tw="(?:".concat(kw,")|(?:").concat(Ew,")"),xw="[\\s|\\(]+(".concat(Tw,")[,|\\s]+(").concat(Tw,")[,|\\s]+(").concat(Tw,")\\s*\\)?"),Rw="[\\s|\\(]+(".concat(Tw,")[,|\\s]+(").concat(Tw,")[,|\\s]+(").concat(Tw,")[,|\\s]+(").concat(Tw,")\\s*\\)?"),Aw={CSS_UNIT:new RegExp(Tw),rgb:new RegExp("rgb"+xw),rgba:new RegExp("rgba"+Rw),hsl:new RegExp("hsl"+xw),hsla:new RegExp("hsla"+Rw),hsv:new RegExp("hsv"+xw),hsva:new RegExp("hsva"+Rw),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function jw(e){if(e=e.trim().toLowerCase(),0===e.length)return!1;var t=!1;if(Cw[e])e=Cw[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=Aw.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=Aw.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Aw.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=Aw.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Aw.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=Aw.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Aw.hex8.exec(e),n?{r:ww(n[1]),g:ww(n[2]),b:ww(n[3]),a:yw(n[4]),format:t?"name":"hex8"}:(n=Aw.hex6.exec(e),n?{r:ww(n[1]),g:ww(n[2]),b:ww(n[3]),format:t?"name":"hex"}:(n=Aw.hex4.exec(e),n?{r:ww(n[1]+n[1]),g:ww(n[2]+n[2]),b:ww(n[3]+n[3]),a:yw(n[4]+n[4]),format:t?"name":"hex8"}:(n=Aw.hex3.exec(e),!!n&&{r:ww(n[1]+n[1]),g:ww(n[2]+n[2]),b:ww(n[3]+n[3]),format:t?"name":"hex"})))))))))}function Iw(e){return Boolean(Aw.CSS_UNIT.exec(String(e)))}var Nw=function(){function e(t,n){var r;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=Sw(t)),this.originalInput=t;var o=_w(t);this.originalInput=t,this.r=o.r,this.g=o.g,this.b=o.b,this.a=o.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:o.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=o.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e,t,n,r=this.toRgb(),o=r.r/255,s=r.g/255,i=r.b/255;return e=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4),t=s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4),n=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4),.2126*e+.7152*t+.0722*n},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=aw(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var e=fw(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=fw(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=dw(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=dw(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),mw(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),vw(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*rw(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*rw(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+mw(this.r,this.g,this.b,!1),t=0,n=Object.entries(Cw);t<n.length;t++){var r=n[t],o=r[0],s=r[1];if(e===s)return o}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,r=this.a<1&&this.a>=0,o=!t&&r&&(e.startsWith("hex")||"name"===e);return o?"name"===e&&0===this.a?this.toName():this.toRgbString():("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=ow(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=ow(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=ow(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=ow(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),o=new e(t).toRgb(),s=n/100,i={r:(o.r-r.r)*s+r.r,g:(o.g-r.g)*s+r.g,b:(o.b-r.b)*s+r.b,a:(o.a-r.a)*s+r.a};return new e(i)},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),o=360/n,s=[this];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,s.push(new e(r));return s},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);var n=this.toHsv(),r=n.h,o=n.s,s=n.v,i=[],a=1/t;while(t--)i.push(new e({h:r,s:o,v:s})),s=(s+a)%1;return i},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb();return new e({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,o=[this],s=360/t,i=1;i<t;i++)o.push(new e({h:(r+i*s)%360,s:n.s,l:n.l}));return o},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function Ow(e,t=20){return e.mix("#141414",t).toString()}function Dw(e){const t=Sc(),r=Qs("button");return(0,n.computed)((()=>{let n={};const o=e.color;if(o){const s=new Nw(o),i=e.dark?s.tint(20).toString():Ow(s,20);if(e.plain)n=r.cssVarBlock({"bg-color":e.dark?Ow(s,90):s.tint(90).toString(),"text-color":o,"border-color":e.dark?Ow(s,50):s.tint(50).toString(),"hover-text-color":`var(${r.cssVarName("color-white")})`,"hover-bg-color":o,"hover-border-color":o,"active-bg-color":i,"active-text-color":`var(${r.cssVarName("color-white")})`,"active-border-color":i}),t.value&&(n[r.cssVarBlockName("disabled-bg-color")]=e.dark?Ow(s,90):s.tint(90).toString(),n[r.cssVarBlockName("disabled-text-color")]=e.dark?Ow(s,50):s.tint(50).toString(),n[r.cssVarBlockName("disabled-border-color")]=e.dark?Ow(s,80):s.tint(80).toString());else{const a=e.dark?Ow(s,30):s.tint(30).toString(),l=s.isDark()?`var(${r.cssVarName("color-white")})`:`var(${r.cssVarName("color-black")})`;if(n=r.cssVarBlock({"bg-color":o,"text-color":l,"border-color":o,"hover-bg-color":a,"hover-text-color":l,"hover-border-color":a,"active-bg-color":i,"active-border-color":i}),t.value){const t=e.dark?Ow(s,50):s.tint(50).toString();n[r.cssVarBlockName("disabled-bg-color")]=t,n[r.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${r.cssVarName("color-white")})`,n[r.cssVarBlockName("disabled-border-color")]=t}}}return n}))}const Pw=Symbol("buttonGroupContextKey"),Mw=["aria-disabled","disabled","autofocus","type"],Lw={name:"ElButton"},$w=(0,n.defineComponent)({...Lw,props:tw,emits:nw,setup(e,{expose:t,emit:r}){const o=e,s=(0,n.useSlots)(),i=(0,n.inject)(Pw,void 0),a=zs("button"),l=Qs("button"),{form:c}=Ac(),u=wc((0,n.computed)((()=>null==i?void 0:i.size))),d=Sc(),p=(0,n.ref)(),h=(0,n.computed)((()=>o.type||(null==i?void 0:i.type)||"")),f=(0,n.computed)((()=>{var e,t,n;return null!=(n=null!=(t=o.autoInsertSpace)?t:null==(e=a.value)?void 0:e.autoInsertSpace)&&n})),g=(0,n.computed)((()=>{var e;const t=null==(e=s.default)?void 0:e.call(s);if(f.value&&1===(null==t?void 0:t.length)){const e=t[0];if((null==e?void 0:e.type)===n.Text){const t=e.children;return/^\p{Unified_Ideograph}{2}$/u.test(t.trim())}}return!1})),m=Dw(o),v=e=>{"reset"===o.nativeType&&(null==c||c.resetFields()),r("click",e)};return t({ref:p,size:u,type:h,disabled:d,shouldAddSpace:g}),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("button",{ref_key:"_ref",ref:p,class:(0,n.normalizeClass)([(0,n.unref)(l).b(),(0,n.unref)(l).m((0,n.unref)(h)),(0,n.unref)(l).m((0,n.unref)(u)),(0,n.unref)(l).is("disabled",(0,n.unref)(d)),(0,n.unref)(l).is("loading",e.loading),(0,n.unref)(l).is("plain",e.plain),(0,n.unref)(l).is("round",e.round),(0,n.unref)(l).is("circle",e.circle),(0,n.unref)(l).is("text",e.text),(0,n.unref)(l).is("has-bg",e.bg)]),"aria-disabled":(0,n.unref)(d)||e.loading,disabled:(0,n.unref)(d)||e.loading,autofocus:e.autofocus,type:e.nativeType,style:(0,n.normalizeStyle)((0,n.unref)(m)),onClick:v},[e.loading?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[e.$slots.loading?(0,n.renderSlot)(e.$slots,"loading",{key:0}):((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(Jl),{key:1,class:(0,n.normalizeClass)((0,n.unref)(l).is("loading"))},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(e.loadingIcon)))])),_:1},8,["class"]))],2112)):e.icon||e.$slots.icon?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(Jl),{key:1},{default:(0,n.withCtx)((()=>[e.icon?((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(e.icon),{key:0})):(0,n.renderSlot)(e.$slots,"icon",{key:1})])),_:3})):(0,n.createCommentVNode)("v-if",!0),e.$slots.default?((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:2,class:(0,n.normalizeClass)({[(0,n.unref)(l).em("text","expand")]:(0,n.unref)(g)})},[(0,n.renderSlot)(e.$slots,"default")],2)):(0,n.createCommentVNode)("v-if",!0)],14,Mw))}});var Bw=r($w,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const Hw={size:tw.size,type:tw.type},Uw={name:"ElButtonGroup"},Vw=(0,n.defineComponent)({...Uw,props:Hw,setup(e){const t=e;(0,n.provide)(Pw,(0,n.reactive)({size:(0,n.toRef)(t,"size"),type:(0,n.toRef)(t,"type")}));const r=Qs("button");return(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(`${(0,n.unref)(r).b("group")}`)},[(0,n.renderSlot)(e.$slots,"default")],2))}});var Fw=r(Vw,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const qw=k(Bw,{ButtonGroup:Fw}),zw=(x(Fw),{class:"dialog-contaner"}),Ww=(0,n.createElementVNode)("div",{class:"nx-status-narrow"},null,-1),Yw={class:"nx-staus-title"},Gw={src:"https://nxcc-gz-1259196162.cos.ap-guangzhou.myqcloud.com/static/resource/img/phone.svg",alt:"",class:"nx-staus-icon"},Kw={class:"nx-status-number"},Xw={class:"nx-status-remark"},Jw={src:"https://nxcc-gz-1259196162.cos.ap-guangzhou.myqcloud.com/static/resource/img/ripple.gif",alt:"",class:"nx-ripple-gif"},Zw={class:"dialog-footer"},Qw=(0,n.createElementVNode)("img",{src:"https://nxcc-gz-1259196162.cos.ap-guangzhou.myqcloud.com/static/resource/img/hanupbtn.svg",alt:"",style:{"margin-right":"6px"}},null,-1);function eS(e,t,r,o,s,i){const a=qw,l=Zy;return(0,n.openBlock)(),(0,n.createElementBlock)("div",zw,[(0,n.createVNode)(l,{modelValue:e.numberVisible,"onUpdate:modelValue":t[3]||(t[3]=t=>e.numberVisible=t),width:274,"show-close":!1,center:"","custom-class":"nx-dialog",draggable:!0,modal:!1,"close-on-click-modal":!1},{footer:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",Zw,[(0,n.withDirectives)((0,n.createElementVNode)("img",{src:"https://nxcc-gz-1259196162.cos.ap-guangzhou.myqcloud.com/static/resource/img/call_hang.svg",alt:"",onClick:t[1]||(t[1]=(...t)=>e.hangupCall&&e.hangupCall(...t)),class:"nx-call-status-btn"},null,512),[[n.vShow,2!=e.callStatus]]),(0,n.withDirectives)((0,n.createElementVNode)("img",{src:"https://nxcc-gz-1259196162.cos.ap-guangzhou.myqcloud.com/static/resource/img/call_out.svg",alt:"",onClick:t[2]||(t[2]=(...t)=>e.answerCall&&e.answerCall(...t)),class:"nx-call-status-btn"},null,512),[[n.vShow,1==e.callStatus]]),(0,n.withDirectives)((0,n.createVNode)(a,{type:"primary",color:"#E53F48",round:"",onClick:e.hangupCall,class:"nx-call-status-up"},{default:(0,n.withCtx)((()=>[Qw,(0,n.createTextVNode)((0,n.toDisplayString)(e.i18n.global.t("dashboard.hangUp")),1)])),_:1},8,["onClick"]),[[n.vShow,2==e.callStatus]])])])),default:(0,n.withCtx)((()=>[(0,n.withDirectives)((0,n.createElementVNode)("img",{src:"https://nxcc-gz-1259196162.cos.ap-guangzhou.myqcloud.com/static/resource/img/to_small.svg",alt:"",class:"nx-status-bog",onClick:t[0]||(t[0]=(...t)=>e.openNarrow&&e.openNarrow(...t))},null,512),[[n.vShow,2==e.callStatus]]),Ww,(0,n.createElementVNode)("div",Yw,[(0,n.withDirectives)((0,n.createElementVNode)("img",Gw,null,512),[[n.vShow,2!=e.callStatus]]),(0,n.createElementVNode)("span",Kw,(0,n.toDisplayString)(e.callNumber),1)]),(0,n.createElementVNode)("div",Xw,(0,n.toDisplayString)(0!=Object.keys(e.externalInfo).length?e.externalInfo.remark:""),1),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["nx-status-name",`callIng${e.callStatus}`])},[(0,n.createTextVNode)((0,n.toDisplayString)("zh"==e.recordStatelang?e.statusTxt[e.callStatus]:e.statusTxtEn[e.callStatus])+" ",1),(0,n.withDirectives)((0,n.createElementVNode)("span",{class:"nx-status-time"},(0,n.toDisplayString)(e.talkCallTime),513),[[n.vShow,2==e.callStatus]]),(0,n.withDirectives)((0,n.createElementVNode)("img",Jw,null,512),[[n.vShow,2==e.callStatus]])],2)])),_:1},8,["modelValue"]),(0,n.createVNode)(l,{modelValue:e.narrowVisible,"onUpdate:modelValue":t[5]||(t[5]=t=>e.narrowVisible=t),width:80,"show-close":!1,center:"","custom-class":"nx-narrow-dialog",draggable:!0,modal:!1,"close-on-click-modal":!1,"close-delay":4==e.callStatus?1e3:0,"destroy-on-close":!0},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("img",{src:"https://nxcc-gz-1259196162.cos.ap-guangzhou.myqcloud.com/static/resource/img/to_big.svg",alt:"",class:"nx-status-bog",onClick:t[4]||(t[4]=(...t)=>e.openExpand&&e.openExpand(...t))}),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["nx-status-name",`callIng${e.callStatus}`])},(0,n.toDisplayString)(e.statusTxt[e.callStatus]),3),(0,n.withDirectives)((0,n.createElementVNode)("div",{class:"nx-status-time"},(0,n.toDisplayString)(e.talkCallTime),513),[[n.vShow,2==e.callStatus]])])),_:1},8,["modelValue","close-delay"])])}var tS=(0,n.defineComponent)({name:"nx-status",setup(){const e=(0,n.ref)("");(0,n.onMounted)((()=>{e.value="zh-CN"==py.get("locale")?"zh":"en"}));const t=()=>{if(my.numberVisible=!1,null!=my.nxwcall){const e=(0,n.toRaw)(my.nxwcall);e.hangupCall(),my.isReject=2}},r=()=>{const e=(0,n.toRaw)(my.nxwcall);e.answerCall(),my.callStatus=2},o=()=>{my.narrowVisible=!0,my.numberVisible=!1},s=()=>{my.narrowVisible=!1,my.numberVisible=!0};return{...(0,n.toRefs)(my),recordStatelang:e,hangupCall:t,answerCall:r,openNarrow:o,openExpand:s,i18n:gy}}}),nS=__webpack_require__(9082);const rS=(0,nS.Z)(tS,[["render",eS]]);var oS=rS;const sS=(0,n.createElementVNode)("img",{src:"https://nxcc-gz-1259196162.cos.ap-guangzhou.myqcloud.com/static/resource/img/leftArrow.svg",alt:""},null,-1),iS={class:"dialog-contaner"},aS={class:"nx-body-contaner"},lS={class:"nx-body-menu"},cS={class:"nx-body-head"},uS=(0,n.createElementVNode)("img",{src:"https://nxcc-gz-1259196162.cos.ap-guangzhou.myqcloud.com/static/resource/img/head_img.png",alt:""},null,-1),dS={class:"nx-body-list"},pS={key:0,class:"nx-list-recent"},hS={key:1,class:"nx-list-record-head"},fS={class:"nx-record-head"},gS={class:"nx-list-record"};function mS(e,t,r,o,s,i){const a=Wf,l=zf,c=(0,n.resolveComponent)("nx-recent"),u=(0,n.resolveComponent)("nx-record"),d=Zy;return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.withDirectives)((0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["nx-call-log","zh"==e.recordStatelang?"":"nx-call-log-en"]),onClick:t[0]||(t[0]=(...t)=>e.openBodyDialog&&e.openBodyDialog(...t))},[sS,(0,n.createElementVNode)("p",null,(0,n.toDisplayString)(e.i18n.global.t("dashboard.recentCalls")),1)],2),[[n.vShow,!e.bodyVisible]]),(0,n.createElementVNode)("div",iS,[(0,n.createVNode)(d,{modelValue:e.bodyVisible,"onUpdate:modelValue":t[5]||(t[5]=t=>e.bodyVisible=t),width:e.dialogWidth,"show-close":!1,"custom-class":"nx-body-dialog",modal:!1,"close-on-click-modal":!1},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",aS,[(0,n.createElementVNode)("img",{src:"https://nxcc-gz-1259196162.cos.ap-guangzhou.myqcloud.com/static/resource/img/to_small.svg",alt:"",class:"nx-detail-bog",onClick:t[1]||(t[1]=(...t)=>e.closeNarrow&&e.closeNarrow(...t))}),(0,n.createElementVNode)("div",lS,[(0,n.createElementVNode)("div",cS,[uS,(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)(["nx-body-slot","On break"==e.statusValue?"nx-body-slot-busy":"nx-body-slot-idle"])},null,2)]),(0,n.createVNode)(l,{modelValue:e.statusValue,"onUpdate:modelValue":t[2]||(t[2]=t=>e.statusValue=t),class:(0,n.normalizeClass)(["nx-body-select","On break"==e.statusValue?"nx-body-select-act":""]),placeholder:"Select",size:"small",onChange:e.changeBodyStatus},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.statusOptions,(e=>((0,n.openBlock)(),(0,n.createBlock)(a,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","class","onChange"]),(0,n.createElementVNode)("div",dS,[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["nx-body-zjth",1==e.isMenu?"nx-body-zjth-bg2":"nx-body-zjth-bg1"]),onClick:t[3]||(t[3]=t=>e.isSelect(1))},null,2),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["nx-body-zjth",2==e.isMenu?"nx-body-thjl-bg2":"nx-body-thjl-bg1"]),onClick:t[4]||(t[4]=t=>e.isSelect(2))},null,2)])]),1==e.isMenu?((0,n.openBlock)(),(0,n.createElementBlock)("div",pS,[(0,n.createVNode)(c)])):(0,n.createCommentVNode)("",!0),2==e.isMenu?((0,n.openBlock)(),(0,n.createElementBlock)("div",hS,[(0,n.createElementVNode)("div",fS,(0,n.toDisplayString)(e.i18n.global.t("dashboard.callLogs")),1),(0,n.createElementVNode)("div",gS,[(0,n.createVNode)(u,{isHeight:!0})])])):(0,n.createCommentVNode)("",!0)])])),_:1},8,["modelValue","width"])])])}const vS=(0,n.defineComponent)({name:"ElTimeline",setup(e,{slots:t}){const r=Qs("timeline");return(0,n.provide)("timeline",t),()=>(0,n.h)("ul",{class:[r.b()]},[(0,n.renderSlot)(t,"default")])}}),bS=oe({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,default:"bottom"},type:{type:String,default:""},color:{type:String,default:""},size:{type:String,default:"normal"},icon:{type:Za,default:""},hollow:{type:Boolean,default:!1}}),yS=(0,n.defineComponent)({name:"ElTimelineItem",components:{ElIcon:Jl},props:bS,setup(){const e=Qs("timeline-item");return{ns:e}}});function wS(e,t,r,o,s,i){const a=(0,n.resolveComponent)("el-icon");return(0,n.openBlock)(),(0,n.createElementBlock)("li",{class:(0,n.normalizeClass)([e.ns.b(),{[e.ns.e("center")]:e.center}])},[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(e.ns.e("tail"))},null,2),e.$slots.dot?(0,n.createCommentVNode)("v-if",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:(0,n.normalizeClass)([e.ns.e("node"),e.ns.em("node",e.size||""),e.ns.em("node",e.type||""),e.ns.is("hollow",e.hollow)]),style:(0,n.normalizeStyle)({backgroundColor:e.color})},[e.icon?((0,n.openBlock)(),(0,n.createBlock)(a,{key:0,class:(0,n.normalizeClass)(e.ns.e("icon"))},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(e.icon)))])),_:1},8,["class"])):(0,n.createCommentVNode)("v-if",!0)],6)),e.$slots.dot?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,class:(0,n.normalizeClass)(e.ns.e("dot"))},[(0,n.renderSlot)(e.$slots,"dot")],2)):(0,n.createCommentVNode)("v-if",!0),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(e.ns.e("wrapper"))},[e.hideTimestamp||"top"!==e.placement?(0,n.createCommentVNode)("v-if",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:(0,n.normalizeClass)([e.ns.e("timestamp"),e.ns.is("top")])},(0,n.toDisplayString)(e.timestamp),3)),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(e.ns.e("content"))},[(0,n.renderSlot)(e.$slots,"default")],2),e.hideTimestamp||"bottom"!==e.placement?(0,n.createCommentVNode)("v-if",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,class:(0,n.normalizeClass)([e.ns.e("timestamp"),e.ns.is("bottom")])},(0,n.toDisplayString)(e.timestamp),3))],2)],2)}var SS=r(yS,[["render",wS],["__file","/home/runner/work/element-plus/element-plus/packages/components/timeline/src/timeline-item.vue"]]);const CS=k(vS,{TimelineItem:SS}),_S=x(SS),ES=oe({prefixCls:{type:String,default:""}}),kS=(0,n.defineComponent)({props:ES,setup(e){const t=Qs("space"),r=(0,n.computed)((()=>`${e.prefixCls||t.b()}__item`));return{classes:r}}});function TS(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(e.classes)},[(0,n.renderSlot)(e.$slots,"default")],2)}var xS=r(kS,[["render",TS],["__file","/home/runner/work/element-plus/element-plus/packages/components/space/src/item.vue"]]);const RS={small:8,default:12,large:16};function AS(e){const t=Qs("space"),r=(0,n.computed)((()=>[t.b(),t.m(e.direction),e.class])),o=(0,n.ref)(0),s=(0,n.ref)(0),i=(0,n.computed)((()=>{const t=e.wrap||e.fill?{flexWrap:"wrap",marginBottom:`-${s.value}px`}:{},n={alignItems:e.alignment};return[t,n,e.style]})),a=(0,n.computed)((()=>{const t={paddingBottom:`${s.value}px`,marginRight:`${o.value}px`},n=e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{};return[t,n]}));return(0,n.watchEffect)((()=>{const{size:t="small",wrap:n,direction:r,fill:i}=e;if(Array.isArray(t)){const[e=0,n=0]=t;o.value=e,s.value=n}else{let e;e=N(t)?t:RS[t]||RS.small,(n||i)&&"horizontal"===r?o.value=s.value=e:"horizontal"===r?(o.value=e,s.value=0):(s.value=e,o.value=0)}})),{classes:r,containerStyle:i,itemStyle:a}}const jS=oe({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:se([String,Object,Array]),default:""},style:{type:se([String,Array,Object]),default:""},alignment:{type:se(String),default:"center"},prefixCls:{type:String},spacer:{type:se([Object,String,Number,Array]),default:null,validator:e=>(0,n.isVNode)(e)||N(e)||f(e)},wrap:{type:Boolean,default:!1},fill:{type:Boolean,default:!1},fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:vc,validator:e=>N(e)||p(e)&&2===e.length&&e.every((e=>N(e)))}});var IS=(0,n.defineComponent)({name:"ElSpace",props:jS,setup(e,{slots:t}){const{classes:r,containerStyle:o,itemStyle:s}=AS(e);return()=>{var i;const{spacer:a,prefixCls:l,direction:c}=e,u=(0,n.renderSlot)(t,"default",{key:0},(()=>[]));if(0===(null!=(i=u.children)?i:[]).length)return null;if(p(u.children)){let e=[];if(u.children.forEach(((t,r)=>{Ty(t)?p(t.children)&&t.children.forEach(((t,r)=>{e.push((0,n.createVNode)(xS,{style:s.value,prefixCls:l,key:`nested-${r}`},{default:()=>[t]},ky.PROPS|ky.STYLE,["style","prefixCls"]))})):Ry(t)&&e.push((0,n.createVNode)(xS,{style:s.value,prefixCls:l,key:`LoopKey${r}`},{default:()=>[t]},ky.PROPS|ky.STYLE,["style","prefixCls"]))})),a){const t=e.length-1;e=e.reduce(((e,r,o)=>{const i=[...e,r];return o!==t&&i.push((0,n.createVNode)("span",{style:[s.value,"vertical"===c?"width: 100%":null],key:o},[(0,n.isVNode)(a)?a:(0,n.createTextVNode)(a,ky.TEXT)],ky.STYLE)),i}),[])}return(0,n.createVNode)("div",{class:r.value,style:o.value},e,ky.STYLE|ky.CLASS)}return u.children}}});const NS=k(IS),OS={style:{width:"100%",display:"flex"}},DS={class:"nx-recent nx-sdk-recent"},PS={class:"nx-record-title"},MS={class:"nx-record-tip"},LS={class:"nx-record-over-ul"},$S={class:"nx-record-ing-title"},BS={class:"nx-record-ing-content"},HS={style:{"margin-bottom":"4px"}},US={key:0,class:"nx-record-tip"},VS={class:"nx-record-over-ul"},FS=["onClick"],qS={class:"nx-record-ing-title"},zS={class:"nx-record-ing-content"},WS={style:{"margin-bottom":"4px"}},YS=["onClick"],GS={key:0,class:"nx-detail nx-sdk-detail"},KS={class:"nx-detail-head"},XS={key:0,class:"nx-detail-head-time"},JS={key:1,class:"nx-detail-head-time"},ZS={src:"https://nxcc-gz-1259196162.cos.ap-guangzhou.myqcloud.com/static/resource/img/ripple.gif",alt:"",class:"nx-ripple-gif"},QS={class:"nx-detail-content"},eC={class:"nx-detail-content-nei"},tC={class:"nx-detail-content-number"},nC={class:"nx-detail-foot"},rC={class:"nx-detail-foot-nei"},oC=(0,n.createElementVNode)("img",{src:"https://nxcc-gz-1259196162.cos.ap-guangzhou.myqcloud.com/static/resource/img/hanupbtn.svg",alt:"",style:{"margin-right":"6px"}},null,-1),sC={class:"recordAct-content"},iC={class:"recordAct-time"},aC={class:"recordAct-time-txt"},lC={class:"recordAct-time-btn"};function cC(e,t,r,o,s,i){const a=nu,l=qw,c=NS,u=_S,d=CS,p=Zy,h=$c;return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createElementVNode)("div",OS,[(0,n.createElementVNode)("div",DS,[(0,n.createElementVNode)("h3",PS,(0,n.toDisplayString)(e.i18n.global.t("dashboard.recentCalls")),1),(0,n.withDirectives)((0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("div",MS,(0,n.toDisplayString)(e.i18n.global.t("dashboard.sInService")),1),(0,n.createElementVNode)("ul",LS,[(0,n.createElementVNode)("li",{class:(0,n.normalizeClass)(-1==e.isActiveOver?"nx-act-over":""),onClick:t[0]||(t[0]=t=>e.overSelect(e.isCallingList,-1))},[(0,n.createElementVNode)("h3",$S,[(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(e.isCallingList.number),1),(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(e.isCallingList.remark?e.isCallingList.remark:""),1)]),(0,n.createElementVNode)("div",BS,[(0,n.createElementVNode)("span",HS,(0,n.toDisplayString)(e.isCallingList.status),1),(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(5==e.callStatus?e.isCallingList.duration:e.talkCallTime),1)])],2)])],512),[[n.vShow,2==e.callStatus||5==e.callStatus]]),e.overList.length>0?((0,n.openBlock)(),(0,n.createElementBlock)("div",US,(0,n.toDisplayString)(e.i18n.global.t("dashboard.ended")),1)):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(a,{class:(0,n.normalizeClass)(2==e.callStatus||5==e.callStatus?"scrollList1":"scrollList2")},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("ul",VS,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.overList,((t,r)=>((0,n.openBlock)(),(0,n.createElementBlock)("li",{class:(0,n.normalizeClass)({"nx-act-over":r==e.isActiveOver}),key:r,onClick:n=>e.overSelect(t,r)},[(0,n.createElementVNode)("h3",qS,[(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(0==t.direction?t.caller:t.callee),1),(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(t.remark?t.remark:""),1)]),(0,n.createElementVNode)("div",zS,[(0,n.createElementVNode)("span",WS,(0,n.toDisplayString)(t.accessStatus),1),(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(e.format(t.callDuration)),1)]),(0,n.createElementVNode)("img",{src:"https://nxcc-gz-1259196162.cos.ap-guangzhou.myqcloud.com/static/resource/img/call_ing.svg",alt:"",class:"nx-record-ing-call",onClick:n=>e.backCalling(0==t.direction?t.caller:t.callee,t)},null,8,YS)],10,FS)))),128))])])),_:1},8,["class"])]),null==e.isMainCode?((0,n.openBlock)(),(0,n.createElementBlock)("div",GS,[(0,n.createElementVNode)("div",KS,[(0,n.createElementVNode)("h3",null,(0,n.toDisplayString)(5!=e.callStatus&&2!=e.callStatus||-1!==e.isActiveOver?e.recetCallDetail.status:e.isCallingList.status),1),5!=e.callStatus?((0,n.openBlock)(),(0,n.createElementBlock)("span",XS,(0,n.toDisplayString)(-1===e.isActiveOver?e.talkCallTime:e.recetCallDetail.time),1)):((0,n.openBlock)(),(0,n.createElementBlock)("span",JS,(0,n.toDisplayString)(e.isCallingList.duration),1)),(0,n.withDirectives)((0,n.createElementVNode)("img",ZS,null,512),[[n.vShow,-1===e.isActiveOver&&2==e.callStatus]])]),(0,n.createElementVNode)("div",QS,[(0,n.createElementVNode)("div",eC,[(0,n.createElementVNode)("div",tC,[(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(e.recetCallDetail.number),1),(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(-1===e.isActiveOver?e.isCallingList.remark:e.recetCallDetail.remark),1)])])]),(0,n.withDirectives)((0,n.createElementVNode)("div",nC,[(0,n.createElementVNode)("div",rC,[(0,n.createVNode)(l,{type:"primary",color:"#E53F48",round:"",onClick:e.hangUpPhone},{default:(0,n.withCtx)((()=>[oC,(0,n.createTextVNode)((0,n.toDisplayString)(e.i18n.global.t("dashboard.hangUp")),1)])),_:1},8,["onClick"])])],512),[[n.vShow,2==e.callStatus&&-1===e.isActiveOver]])])):(0,n.createCommentVNode)("",!0)]),(0,n.createVNode)(p,{modelValue:e.modeifyRecordVisible,"onUpdate:modelValue":t[1]||(t[1]=t=>e.modeifyRecordVisible=t),title:e.i18n.global.t("dashboard.comment"),width:"356px",onClose:e.handleCloseModeify,"custom-class":"nx-el-dialog"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(d,null,{default:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.allRecordList,((t,r)=>((0,n.openBlock)(),(0,n.createBlock)(u,{key:r},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",sC,[(0,n.withDirectives)((0,n.createElementVNode)("span",{class:"recordAct-name"},(0,n.toDisplayString)(t.agentNickName),513),[[n.vShow,""!=t.agentNickName&&null!=t.agentNickName]]),(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(t.agentName),1)]),(0,n.createElementVNode)("div",iC,[(0,n.createElementVNode)("div",aC,[(0,n.createVNode)(c,{size:4},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(t.gmtCreate),1),(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(e.i18n.global.t("dashboard.edit")),1)])),_:2},1024)]),(0,n.createElementVNode)("div",lC,[(0,n.createVNode)(l,{type:"primary",text:"",onClick:n=>e.handleOpenHistory(t.content),style:{color:"#00a062"}},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.i18n.global.t("dashboard.viewCallLogs")),1)])),_:2},1032,["onClick"])])])])),_:2},1024)))),128))])),_:1})])),_:1},8,["modelValue","title","onClose"]),(0,n.createVNode)(p,{modelValue:e.modeifyhistoryVisible,"onUpdate:modelValue":t[3]||(t[3]=t=>e.modeifyhistoryVisible=t),title:e.i18n.global.t("dashboard.comment"),width:"540px","custom-class":"nx-el-dialog",onClose:e.handleCloseHistory},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(h,{modelValue:e.businessRecordHistory,"onUpdate:modelValue":t[2]||(t[2]=t=>e.businessRecordHistory=t),"show-word-limit":!0,maxlength:"200",rows:4,type:"textarea",placeholder:e.i18n.global.t("dashboard.enter"),disabled:""},null,8,["modelValue","placeholder"])])),_:1},8,["modelValue","title","onClose"])],64)}var uC=__webpack_require__(8364),dC=__webpack_require__.n(uC);function pC(){return hC().__VUE_DEVTOOLS_GLOBAL_HOOK__}function hC(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof __webpack_require__.g?__webpack_require__.g:{}}const fC="function"===typeof Proxy,gC="devtools-plugin:setup",mC="plugin:settings:set";let vC,bC;function yC(){var e;return void 0!==vC||("undefined"!==typeof window&&window.performance?(vC=!0,bC=window.performance):"undefined"!==typeof __webpack_require__.g&&(null===(e=__webpack_require__.g.perf_hooks)||void 0===e?void 0:e.performance)?(vC=!0,bC=__webpack_require__.g.perf_hooks.performance):vC=!1),vC}function wC(){return yC()?bC.now():Date.now()}class SC{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const i in e.settings){const t=e.settings[i];n[i]=t.defaultValue}const r=`__vue-devtools-plugin-settings__${e.id}`;let o=Object.assign({},n);try{const e=localStorage.getItem(r),t=JSON.parse(e);Object.assign(o,t)}catch(s){}this.fallbacks={getSettings(){return o},setSettings(e){try{localStorage.setItem(r,JSON.stringify(e))}catch(s){}o=e},now(){return wC()}},t&&t.on(mC,((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((n=>{this.targetQueue.push({method:t,args:e,resolve:n})}))})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function CC(e,t){const n=e,r=hC(),o=pC(),s=fC&&n.enableEarlyProxy;if(!o||!r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&s){const e=s?new SC(n,o):null,i=r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[];i.push({pluginDescriptor:n,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else o.emit(gC,e,t)}
/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */
var _C="store";function EC(e){return void 0===e&&(e=null),(0,n.inject)(null!==e?e:_C)}function kC(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function TC(e){return null!==e&&"object"===typeof e}function xC(e){return e&&"function"===typeof e.then}function RC(e,t){return function(){return e(t)}}function AC(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function jC(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;NC(e,n,[],e._modules.root,!0),IC(e,n,t)}function IC(e,t,r){var o=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var s=e._wrappedGetters,i={};kC(s,(function(t,n){i[n]=RC(t,e),Object.defineProperty(e.getters,n,{get:function(){return i[n]()},enumerable:!0})})),e._state=(0,n.reactive)({data:t}),e.strict&&$C(e),o&&r&&e._withCommit((function(){o.data=null}))}function NC(e,t,n,r,o){var s=!n.length,i=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[i],e._modulesNamespaceMap[i]=r),!s&&!o){var a=BC(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit((function(){a[l]=r.state}))}var c=r.context=OC(e,i,n);r.forEachMutation((function(t,n){var r=i+n;PC(e,r,t,c)})),r.forEachAction((function(t,n){var r=t.root?n:i+n,o=t.handler||t;MC(e,r,o,c)})),r.forEachGetter((function(t,n){var r=i+n;LC(e,r,t,c)})),r.forEachChild((function(r,s){NC(e,t,n.concat(s),r,o)}))}function OC(e,t,n){var r=""===t,o={dispatch:r?e.dispatch:function(n,r,o){var s=HC(n,r,o),i=s.payload,a=s.options,l=s.type;return a&&a.root||(l=t+l),e.dispatch(l,i)},commit:r?e.commit:function(n,r,o){var s=HC(n,r,o),i=s.payload,a=s.options,l=s.type;a&&a.root||(l=t+l),e.commit(l,i,a)}};return Object.defineProperties(o,{getters:{get:r?function(){return e.getters}:function(){return DC(e,t)}},state:{get:function(){return BC(e.state,n)}}}),o}function DC(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(o){if(o.slice(0,r)===t){var s=o.slice(r);Object.defineProperty(n,s,{get:function(){return e.getters[o]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function PC(e,t,n,r){var o=e._mutations[t]||(e._mutations[t]=[]);o.push((function(t){n.call(e,r.state,t)}))}function MC(e,t,n,r){var o=e._actions[t]||(e._actions[t]=[]);o.push((function(t){var o=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return xC(o)||(o=Promise.resolve(o)),e._devtoolHook?o.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):o}))}function LC(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)})}function $C(e){(0,n.watch)((function(){return e._state.data}),(function(){0}),{deep:!0,flush:"sync"})}function BC(e,t){return t.reduce((function(e,t){return e[t]}),e)}function HC(e,t,n){return TC(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var UC="vuex bindings",VC="vuex:mutations",FC="vuex:actions",qC="vuex",zC=0;function WC(e,t){CC({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[UC]},(function(n){n.addTimelineLayer({id:VC,label:"Vuex Mutations",color:YC}),n.addTimelineLayer({id:FC,label:"Vuex Actions",color:YC}),n.addInspector({id:qC,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===e&&n.inspectorId===qC)if(n.filter){var r=[];QC(r,t._modules.root,n.filter,""),n.rootNodes=r}else n.rootNodes=[ZC(t._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===e&&n.inspectorId===qC){var r=n.nodeId;DC(t,r),n.state=e_(n_(t._modules,r),"root"===r?t.getters:t._makeLocalGettersCache,r)}})),n.on.editInspectorState((function(n){if(n.app===e&&n.inspectorId===qC){var r=n.nodeId,o=n.path;"root"!==r&&(o=r.split("/").filter(Boolean).concat(o)),t._withCommit((function(){n.set(t._state.data,o,n.state.value)}))}})),t.subscribe((function(e,t){var r={};e.payload&&(r.payload=e.payload),r.state=t,n.notifyComponentUpdate(),n.sendInspectorTree(qC),n.sendInspectorState(qC),n.addTimelineEvent({layerId:VC,event:{time:Date.now(),title:e.type,data:r}})})),t.subscribeAction({before:function(e,t){var r={};e.payload&&(r.payload=e.payload),e._id=zC++,e._time=Date.now(),r.state=t,n.addTimelineEvent({layerId:FC,event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:r}})},after:function(e,t){var r={},o=Date.now()-e._time;r.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},e.payload&&(r.payload=e.payload),r.state=t,n.addTimelineEvent({layerId:FC,event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:r}})}})}))}var YC=8702998,GC=6710886,KC=16777215,XC={label:"namespaced",textColor:KC,backgroundColor:GC};function JC(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function ZC(e,t){return{id:t||"root",label:JC(t),tags:e.namespaced?[XC]:[],children:Object.keys(e._children).map((function(n){return ZC(e._children[n],t+n+"/")}))}}function QC(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[XC]:[]}),Object.keys(t._children).forEach((function(o){QC(e,t._children[o],n,r+o+"/")}))}function e_(e,t,n){t="root"===n?t:t[n];var r=Object.keys(t),o={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(r.length){var s=t_(t);o.getters=Object.keys(s).map((function(e){return{key:e.endsWith("/")?JC(e):e,editable:!1,value:r_((function(){return s[e]}))}}))}return o}function t_(e){var t={};return Object.keys(e).forEach((function(n){var r=n.split("/");if(r.length>1){var o=t,s=r.pop();r.forEach((function(e){o[e]||(o[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),o=o[e]._custom.value})),o[s]=r_((function(){return e[n]}))}else t[n]=r_((function(){return e[n]}))})),t}function n_(e,t){var n=t.split("/").filter((function(e){return e}));return n.reduce((function(e,r,o){var s=e[r];if(!s)throw new Error('Missing module "'+r+'" for path "'+t+'".');return o===n.length-1?s:s._children}),"root"===t?e:e.root._children)}function r_(e){try{return e()}catch(t){return t}}var o_=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"===typeof n?n():n)||{}},s_={namespaced:{configurable:!0}};s_.namespaced.get=function(){return!!this._rawModule.namespaced},o_.prototype.addChild=function(e,t){this._children[e]=t},o_.prototype.removeChild=function(e){delete this._children[e]},o_.prototype.getChild=function(e){return this._children[e]},o_.prototype.hasChild=function(e){return e in this._children},o_.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},o_.prototype.forEachChild=function(e){kC(this._children,e)},o_.prototype.forEachGetter=function(e){this._rawModule.getters&&kC(this._rawModule.getters,e)},o_.prototype.forEachAction=function(e){this._rawModule.actions&&kC(this._rawModule.actions,e)},o_.prototype.forEachMutation=function(e){this._rawModule.mutations&&kC(this._rawModule.mutations,e)},Object.defineProperties(o_.prototype,s_);var i_=function(e){this.register([],e,!1)};function a_(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return void 0;a_(e.concat(r),t.getChild(r),n.modules[r])}}i_.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},i_.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return t=t.getChild(n),e+(t.namespaced?n+"/":"")}),"")},i_.prototype.update=function(e){a_([],this.root,e)},i_.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0);var o=new o_(t,n);if(0===e.length)this.root=o;else{var s=this.get(e.slice(0,-1));s.addChild(e[e.length-1],o)}t.modules&&kC(t.modules,(function(t,o){r.register(e.concat(o),t,n)}))},i_.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],r=t.getChild(n);r&&r.runtime&&t.removeChild(n)},i_.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};var l_=function(e){var t=this;void 0===e&&(e={});var n=e.plugins;void 0===n&&(n=[]);var r=e.strict;void 0===r&&(r=!1);var o=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new i_(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=o;var s=this,i=this,a=i.dispatch,l=i.commit;this.dispatch=function(e,t){return a.call(s,e,t)},this.commit=function(e,t,n){return l.call(s,e,t,n)},this.strict=r;var c=this._modules.root.state;NC(this,c,[],this._modules.root),IC(this,c),n.forEach((function(e){return e(t)}))},c_={state:{configurable:!0}};l_.prototype.install=function(e,t){e.provide(t||_C,this),e.config.globalProperties.$store=this;var n=void 0!==this._devtools&&this._devtools;n&&WC(e,this)},c_.state.get=function(){return this._state.data},c_.state.set=function(e){0},l_.prototype.commit=function(e,t,n){var r=this,o=HC(e,t,n),s=o.type,i=o.payload,a=(o.options,{type:s,payload:i}),l=this._mutations[s];l&&(this._withCommit((function(){l.forEach((function(e){e(i)}))})),this._subscribers.slice().forEach((function(e){return e(a,r.state)})))},l_.prototype.dispatch=function(e,t){var n=this,r=HC(e,t),o=r.type,s=r.payload,i={type:o,payload:s},a=this._actions[o];if(a){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(i,n.state)}))}catch(c){0}var l=a.length>1?Promise.all(a.map((function(e){return e(s)}))):a[0](s);return new Promise((function(e,t){l.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(i,n.state)}))}catch(c){0}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(i,n.state,e)}))}catch(c){0}t(e)}))}))}},l_.prototype.subscribe=function(e,t){return AC(e,this._subscribers,t)},l_.prototype.subscribeAction=function(e,t){var n="function"===typeof e?{before:e}:e;return AC(n,this._actionSubscribers,t)},l_.prototype.watch=function(e,t,r){var o=this;return(0,n.watch)((function(){return e(o.state,o.getters)}),t,Object.assign({},r))},l_.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},l_.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"===typeof e&&(e=[e]),this._modules.register(e,t),NC(this,this.state,e,this._modules.get(e),n.preserveState),IC(this,this.state)},l_.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var n=BC(t.state,e.slice(0,-1));delete n[e[e.length-1]]})),jC(this)},l_.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),this._modules.isRegistered(e)},l_.prototype.hotUpdate=function(e){this._modules.update(e),jC(this,!0)},l_.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(l_.prototype,c_);p_((function(e,t){var n={};return u_(t).forEach((function(t){var r=t.key,o=t.val;n[r]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var r=h_(this.$store,"mapState",e);if(!r)return;t=r.context.state,n=r.context.getters}return"function"===typeof o?o.call(this,t,n):t[o]},n[r].vuex=!0})),n})),p_((function(e,t){var n={};return u_(t).forEach((function(t){var r=t.key,o=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.commit;if(e){var s=h_(this.$store,"mapMutations",e);if(!s)return;r=s.context.commit}return"function"===typeof o?o.apply(this,[r].concat(t)):r.apply(this.$store,[o].concat(t))}})),n})),p_((function(e,t){var n={};return u_(t).forEach((function(t){var r=t.key,o=t.val;o=e+o,n[r]=function(){if(!e||h_(this.$store,"mapGetters",e))return this.$store.getters[o]},n[r].vuex=!0})),n})),p_((function(e,t){var n={};return u_(t).forEach((function(t){var r=t.key,o=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.dispatch;if(e){var s=h_(this.$store,"mapActions",e);if(!s)return;r=s.context.dispatch}return"function"===typeof o?o.apply(this,[r].concat(t)):r.apply(this.$store,[o].concat(t))}})),n}));function u_(e){return d_(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function d_(e){return Array.isArray(e)||TC(e)}function p_(e){return function(t,n){return"string"!==typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function h_(e,t,n){var r=e._modulesNamespaceMap[n];return r}EC();function f_(){let e="";return e="https://cc.nxcloud.com",e}async function g_(e,t){return new Promise(((n,r)=>{dC().get(e,{params:t}).then((e=>{n(e.data)})).catch((e=>{403===parseInt(e.status)?r(e):r(e.data)}))}))}function m_(e,t,n){return new Promise(((r,o)=>{dC().post(e,t,n).then((e=>{r(e)})).catch((e=>{o(e.data)}))}))}function v_(e,t){return new Promise(((n,r)=>{dC().put(e,t).then((e=>{n(e.data)})).catch((e=>{r(e.data)}))}))}dC().defaults.baseURL=f_(),dC().defaults.timeout=3e4,dC().defaults.headers["Content-Type"]="application/json",dC().interceptors.request.use((e=>{const t=localStorage.getItem("ccToken"),n="en-US"==py.get("locale")?"en_US":"zh_CN";return t&&(-1!=e.url.indexOf("/admin/saas_plat/user/logout")?e.headers.Authorization=t:-1==e.url.indexOf("/api")&&-1==e.url.indexOf("/fs")||(e.headers.lang=n,e.headers.usertoken=t)),e}),(e=>Promise.reject(e))),dC().interceptors.response.use((e=>{if(200===parseInt(e.status)){const t=e.data;return t.ret_code&&1===t.ret_code||403!==t.code&&406!==t.code&&12001!==t.code||(localStorage.removeItem("ccToken"),localStorage.removeItem("ccUser")),Promise.resolve(e)}}),(e=>e.response?403!==e.response.status?(-1!==e.message.indexOf("Network Error")?xg.error("网络错误！"):xg.error(e.message),Promise.reject(e.response)):(xg.error("登录已过期，请重新登录！"),localStorage.removeItem("ccToken"),void localStorage.removeItem("ccUser")):(-1!==e.message.indexOf("Network Error")?xg.error("网络错误！"):xg.error(e.message),Promise.reject(e))));const b_="https://cc.nxcloud.com",y_="https://nxlink.nxcloud.com",w_=(e,t)=>m_(b_+"/fs/webCall/register",e),S_=(e,t)=>m_(b_+"/api/ccCdr/v1/page",e),C_=(e,t)=>m_(b_+"/api/ccCdr/v1/output",e,{responseType:"blob",token:t}),__=e=>m_(b_+"/api/ccCdrRecord/v1/recent",e),E_=e=>m_(b_+"/api/ccCdrRecord/v1/append",e),k_=(e,t)=>m_(b_+`/api/ccAgentGroup/v1/queryByName?name=${e.name}`,e),T_=(e,t)=>m_(b_+"/fs/ccAgent/status/change",e),x_=(e,t)=>m_(b_+"/api/ccCdr/v1/recent",e),R_=(e,t)=>v_(y_+"/admin/saas_plat/user/login",e),A_=()=>g_(y_+"/admin/saas_plat/captcha/start_image_verify"),j_=e=>v_(y_+"/admin/saas_plat/user/logout",e),I_=e=>m_(b_+"/api/ccDidNumber/v/myUsefulNumber",e);var N_=(0,n.defineComponent)({name:"nx-recent",props:["isMainCode"],setup(e,t){const{t:r}=gy.global,o=(0,n.ref)(),s=(0,n.ref)(!0),i=(0,n.reactive)({busRecordRules:{businessRecord:[{required:!0,message:r("dashboard.enterBusiness"),trigger:"blur"}]}});(0,n.onMounted)((()=>{my.isMainCode=e.isMainCode,a()})),(0,n.watch)((()=>[my.callStatus,my.bodyVisible]),(e=>{2===e[0]||5===e[0]?(my.isActiveOver=-1,s.value=!1,2===e[0]&&(my.busRecord.businessRecord="",my.allRecordList=[])):(my.recetCallDetail=my.overList[0],my.isActiveOver=0),1==e[1]&&a()}));const a=()=>{x_({}).then((e=>{0===e.data.code?(e.data.data.map((e=>{switch(e.answered){case!0:e.callIcon=0==e.direction?"in":"out";break;case!1:e.callIcon=0==e.direction?"noAns":"out";break;default:break}})),my.overList=e.data.data,my.overList.length>0&&(2===my.callStatus||5===my.callStatus?(my.overList.map((e=>{e.sipCallId==my.isCallingList.sipCallId&&my.isCallingList.sipCallId&&(my.callStatus=4)})),l(my.isCallingList,-1)):l(my.overList[0],0))):xg.error(e.data.msg)}))},l=(e,t)=>{s.value=-1!=t,o.value&&o.value.clearValidate(["businessRecord"]),my.recetCallDetail={number:-1==t?e.number:0==e.direction?e.caller:e.callee,status:e.accessStatus,time:Cy(e.callDuration),remark:e.remark?e.remark:""},my.isActiveOver=t,my.recordCallId=e.sipCallId,__({cdrCallId:e.sipCallId}).then((e=>{0==e.data.code?(my.allRecordList=e.data.data,my.allRecordList.length>0?my.busRecord.businessRecord=my.allRecordList[0].content:my.busRecord.businessRecord=""):(xg.error(e.data.msg),my.busRecord.businessRecord="")}))},c=(e,t)=>{if(e){if(0==my.isSuccess)return void xg.warning(r("sip.dialerInitialization"));if(0===my.callStatus||1===my.callStatus||2===my.callStatus)return void xg.warning(r("sip.inCall"));if(my.numberVisible=!0,my.callNumber=e,my.callStatus=0,my.nxwcall){my.externalInfo=t;const r=(0,n.toRaw)(my.nxwcall);if(null==t.didNumberId||0==t.didNumberId)r.placeCall(e);else{let n=new Array(`X-NXCC-Out-Caller-Number:  ${0==t.direction?t.callee:t.clientSipFrom}`,`X-NXCC-Out-Callee-Route: <sip:${t.remoteIp}:${t.sipPort}>`,`X-NXCC-Out-Callee-Prefix: ${t.callOutPrefix}`,`X-NXCC-Out-Remark: ${t.remark}`);r.placeCall(e,n)}}}else xg.warning(r("dashboard.noNumber"))},u=()=>{if(my.nxwcall){const e=(0,n.toRaw)(my.nxwcall);e.hangupCall()}},d=()=>{s.value=!1},p=e=>e.replace(/(^\s*)|(\s*$)/g,""),h=()=>{o.value.validate((e=>{if(e){let e=p(my.busRecord.businessRecord);const t={cdrCallId:my.recordCallId,content:e};E_(t).then((e=>{0==e.data.code?(xg.success(r("sip.savedSuccessfully")),__({cdrCallId:my.recordCallId}).then((e=>{0==e.data.code?(my.allRecordList=e.data.data,my.allRecordList.length>0&&(my.busRecord.businessRecord=my.allRecordList[0].content)):xg.error(e.data.msg)}))):xg.error(e.data.msg)}))}}))},f=()=>{my.modeifyRecordVisible=!0},g=()=>{my.modeifyRecordVisible=!1},m=e=>{my.modeifyhistoryVisible=!0,my.businessRecordHistory=e},v=()=>{my.modeifyhistoryVisible=!1},b=()=>{xg.warning(r("dashboard.notHavePermissionNumber"))};return{...(0,n.toRefs)(my),...(0,n.toRefs)(i),busRecoedAble:s,busRecordRef:o,overSelect:l,backCalling:c,hangUpPhone:u,format:Cy,i18n:gy,editBusiness:d,saveBusiness:h,handleCloseModeify:g,handleOpenModeify:f,handleCloseHistory:v,handleOpenHistory:m,fobbidenCall:b}}});const O_=(0,nS.Z)(N_,[["render",cC]]);var D_=O_;function P_(e){let t;const r=(0,n.ref)(!1),o=(0,n.reactive)({...e,originalPosition:"",originalOverflow:"",visible:!1});function s(e){o.text=e}function i(){const e=o.parent;if(!e.vLoadingAddClassList){let t=e.getAttribute("loading-number");t=Number.parseInt(t)-1,t?e.setAttribute("loading-number",t.toString()):(zl(e,"el-loading-parent--relative"),e.removeAttribute("loading-number")),zl(e,"el-loading-parent--hidden")}a(),d.unmount()}function a(){var e,t;null==(t=null==(e=p.$el)?void 0:e.parentNode)||t.removeChild(p.$el)}function l(){var n;if(e.beforeClose&&!e.beforeClose())return;const s=o.parent;s.vLoadingAddClassList=void 0,r.value=!0,clearTimeout(t),t=window.setTimeout((()=>{r.value&&(r.value=!1,i())}),400),o.visible=!1,null==(n=e.closed)||n.call(e)}function c(){r.value&&(r.value=!1,i())}const u={name:"ElLoading",setup(){return()=>{const e=o.spinner||o.svg,t=(0,n.h)("svg",{class:"circular",viewBox:o.svgViewBox?o.svgViewBox:"25 25 50 50",...e?{innerHTML:e}:{}},[(0,n.h)("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none"})]),r=o.text?(0,n.h)("p",{class:"el-loading-text"},[o.text]):void 0;return(0,n.h)(n.Transition,{name:"el-loading-fade",onAfterLeave:c},{default:(0,n.withCtx)((()=>[(0,n.withDirectives)((0,n.createVNode)("div",{style:{backgroundColor:o.background||""},class:["el-loading-mask",o.customClass,o.fullscreen?"is-fullscreen":""]},[(0,n.h)("div",{class:"el-loading-spinner"},[t,r])]),[[n.vShow,o.visible]])]))})}}},d=(0,n.createApp)(u),p=d.mount(document.createElement("div"));return{...(0,n.toRefs)(o),setText:s,remvoeElLoadingChild:a,close:l,handleAfterLeave:c,vm:p,get $el(){return p.$el}}}let M_;const L_=function(e={}){if(!j)return;const t=$_(e);if(t.fullscreen&&M_)return M_;const r=P_({...t,closed:()=>{var e;null==(e=t.closed)||e.call(t),t.fullscreen&&(M_=void 0)}});B_(t,t.parent,r),H_(t,t.parent,r),t.parent.vLoadingAddClassList=()=>H_(t,t.parent,r);let o=t.parent.getAttribute("loading-number");return o=o?`${Number.parseInt(o)+1}`:"1",t.parent.setAttribute("loading-number",o),t.parent.appendChild(r.$el),(0,n.nextTick)((()=>r.visible.value=t.visible)),t.fullscreen&&(M_=r),r},$_=e=>{var t,n,r,o;let s;return s=f(e.target)?null!=(t=document.querySelector(e.target))?t:document.body:e.target||document.body,{parent:s===document.body||e.body?document.body:s,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:s===document.body&&(null==(n=e.fullscreen)||n),lock:null!=(r=e.lock)&&r,customClass:e.customClass||"",visible:null==(o=e.visible)||o,target:s}},B_=async(e,t,r)=>{const{nextZIndex:o}=Ks(),s={};if(e.fullscreen)r.originalPosition.value=Wl(document.body,"position"),r.originalOverflow.value=Wl(document.body,"overflow"),s.zIndex=o();else if(e.parent===document.body){r.originalPosition.value=Wl(document.body,"position"),await(0,n.nextTick)();for(const t of["top","left"]){const n="top"===t?"scrollTop":"scrollLeft";s[t]=e.target.getBoundingClientRect()[t]+document.body[n]+document.documentElement[n]-Number.parseInt(Wl(document.body,`margin-${t}`),10)+"px"}for(const t of["height","width"])s[t]=`${e.target.getBoundingClientRect()[t]}px`}else r.originalPosition.value=Wl(t,"position");for(const[n,i]of Object.entries(s))r.$el.style[n]=i},H_=(e,t,n)=>{"absolute"!==n.originalPosition.value&&"fixed"!==n.originalPosition.value?ql(t,"el-loading-parent--relative"):zl(t,"el-loading-parent--relative"),e.fullscreen&&e.lock?ql(t,"el-loading-parent--hidden"):zl(t,"el-loading-parent--hidden")},U_=Symbol("ElLoading"),V_=(e,t)=>{var r,o,s,i;const a=t.instance,l=e=>g(t.value)?t.value[e]:void 0,c=e=>{const t=f(e)&&(null==a?void 0:a[e])||e;return t?(0,n.ref)(t):t},u=t=>c(l(t)||e.getAttribute(`element-loading-${_(t)}`)),d=null!=(r=l("fullscreen"))?r:t.modifiers.fullscreen,p={text:u("text"),svg:u("svg"),svgViewBox:u("svgViewBox"),spinner:u("spinner"),background:u("background"),customClass:u("customClass"),fullscreen:d,target:null!=(o=l("target"))?o:d?void 0:e,body:null!=(s=l("body"))?s:t.modifiers.body,lock:null!=(i=l("lock"))?i:t.modifiers.lock};e[U_]={options:p,instance:L_(p)}},F_=(e,t)=>{for(const r of Object.keys(t))(0,n.isRef)(t[r])&&(t[r].value=e[r])},q_={mounted(e,t){t.value&&V_(e,t)},updated(e,t){const n=e[U_];t.oldValue!==t.value&&(t.value&&!t.oldValue?V_(e,t):t.value&&t.oldValue?g(t.value)&&F_(t.value,n.options):null==n||n.instance.close())},unmounted(e){var t;null==(t=e[U_])||t.instance.close()}},z_=k(ag),W_=(0,n.defineComponent)({name:"ArrowLeft"}),Y_={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},G_=(0,n.createElementVNode)("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),K_=[G_];function X_(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",Y_,K_)}var J_=ta(W_,[["render",X_]]);const Z_={disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String,default:""}},Q_=(0,n.defineComponent)({name:"ElPaginationPrev",components:{ElIcon:Jl,ArrowLeft:J_},props:Z_,emits:["click"],setup(e){const t=(0,n.computed)((()=>e.disabled||e.currentPage<=1));return{internalDisabled:t}}}),eE=["disabled","aria-disabled"],tE={key:0};function nE(e,t,r,o,s,i){const a=(0,n.resolveComponent)("arrow-left"),l=(0,n.resolveComponent)("el-icon");return(0,n.openBlock)(),(0,n.createElementBlock)("button",{type:"button",class:"btn-prev",disabled:e.internalDisabled,"aria-disabled":e.internalDisabled,onClick:t[0]||(t[0]=t=>e.$emit("click",t))},[e.prevText?((0,n.openBlock)(),(0,n.createElementBlock)("span",tE,(0,n.toDisplayString)(e.prevText),1)):((0,n.openBlock)(),(0,n.createBlock)(l,{key:1},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(a)])),_:1}))],8,eE)}var rE=r(Q_,[["render",nE],["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const oE=(0,n.defineComponent)({name:"ArrowRight"}),sE={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},iE=(0,n.createElementVNode)("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),aE=[iE];function lE(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",sE,aE)}var cE=ta(oE,[["render",lE]]);const uE={disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String,default:""}},dE=(0,n.defineComponent)({name:"ElPaginationNext",components:{ElIcon:Jl,ArrowRight:cE},props:uE,emits:["click"],setup(e){const t=(0,n.computed)((()=>e.disabled||e.currentPage===e.pageCount||0===e.pageCount));return{internalDisabled:t}}}),pE=["disabled","aria-disabled"],hE={key:0};function fE(e,t,r,o,s,i){const a=(0,n.resolveComponent)("arrow-right"),l=(0,n.resolveComponent)("el-icon");return(0,n.openBlock)(),(0,n.createElementBlock)("button",{type:"button",class:"btn-next",disabled:e.internalDisabled,"aria-disabled":e.internalDisabled,onClick:t[0]||(t[0]=t=>e.$emit("click",t))},[e.nextText?((0,n.openBlock)(),(0,n.createElementBlock)("span",hE,(0,n.toDisplayString)(e.nextText),1)):((0,n.openBlock)(),(0,n.createBlock)(l,{key:1},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(a)])),_:1}))],8,pE)}var gE=r(dE,[["render",fE],["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]);const mE=Symbol("elPaginationKey"),vE=()=>(0,n.inject)(mE,{}),bE=oe({pageSize:{type:Number,required:!0},pageSizes:{type:se(Array),default:()=>Dl([10,20,30,40,50,100])},popperClass:{type:String,default:""},disabled:Boolean,size:{type:String,default:"default"}}),yE=(0,n.defineComponent)({name:"ElPaginationSizes",components:{ElSelect:zf,ElOption:Wf},props:bE,emits:["page-size-change"],setup(e,{emit:t}){const{t:r}=wf(),o=Qs("pagination"),s=vE(),i=(0,n.ref)(e.pageSize);(0,n.watch)((()=>e.pageSizes),((n,r)=>{if(!Gh(n,r)&&Array.isArray(n)){const r=n.includes(e.pageSize)?e.pageSize:e.pageSizes[0];t("page-size-change",r)}})),(0,n.watch)((()=>e.pageSize),(e=>{i.value=e}));const a=(0,n.computed)((()=>e.pageSizes));function l(e){var t;e!==i.value&&(i.value=e,null==(t=s.handleSizeChange)||t.call(s,Number(e)))}return{ns:o,innerPageSizes:a,innerPageSize:i,t:r,handleChange:l}}});function wE(e,t,r,o,s,i){const a=(0,n.resolveComponent)("el-option"),l=(0,n.resolveComponent)("el-select");return(0,n.openBlock)(),(0,n.createElementBlock)("span",{class:(0,n.normalizeClass)(e.ns.e("sizes"))},[(0,n.createVNode)(l,{"model-value":e.innerPageSize,disabled:e.disabled,"popper-class":e.popperClass,size:e.size,onChange:e.handleChange},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.innerPageSizes,(t=>((0,n.openBlock)(),(0,n.createBlock)(a,{key:t,value:t,label:t+e.t("el.pagination.pagesize")},null,8,["value","label"])))),128))])),_:1},8,["model-value","disabled","popper-class","size","onChange"])],2)}var SE=r(yE,[["render",wE],["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const CE=(0,n.defineComponent)({name:"ElPaginationJumper",components:{ElInput:$c},setup(){const{t:e}=wf(),t=Qs("pagination"),{pageCount:r,disabled:o,currentPage:s,changeEvent:i}=vE(),a=(0,n.ref)(),l=(0,n.computed)((()=>{var e;return null!=(e=a.value)?e:null==s?void 0:s.value}));function c(e){a.value=+e}function u(e){e=Math.trunc(+e),null==i||i(+e),a.value=void 0}return{ns:t,pageCount:r,disabled:o,innerValue:l,t:e,handleInput:c,handleChange:u}}}),_E=["disabled"];function EE(e,t,r,o,s,i){const a=(0,n.resolveComponent)("el-input");return(0,n.openBlock)(),(0,n.createElementBlock)("span",{class:(0,n.normalizeClass)(e.ns.e("jump")),disabled:e.disabled},[(0,n.createTextVNode)((0,n.toDisplayString)(e.t("el.pagination.goto"))+" ",1),(0,n.createVNode)(a,{size:"small",class:(0,n.normalizeClass)([e.ns.e("editor"),e.ns.is("in-pagination")]),min:1,max:e.pageCount,disabled:e.disabled,"model-value":e.innerValue,type:"number","onUpdate:modelValue":e.handleInput,onChange:e.handleChange},null,8,["class","max","disabled","model-value","onUpdate:modelValue","onChange"]),(0,n.createTextVNode)(" "+(0,n.toDisplayString)(e.t("el.pagination.pageClassifier")),1)],10,_E)}var kE=r(CE,[["render",EE],["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const TE={total:{type:Number,default:1e3}},xE=(0,n.defineComponent)({name:"ElPaginationTotal",props:TE,setup(){const{t:e}=wf(),t=Qs("pagination"),{disabled:n}=vE();return{t:e,ns:t,disabled:n}}}),RE=["disabled"];function AE(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createElementBlock)("span",{class:(0,n.normalizeClass)(e.ns.e("total")),disabled:e.disabled},(0,n.toDisplayString)(e.t("el.pagination.total",{total:e.total})),11,RE)}var jE=r(xE,[["render",AE],["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const IE=(0,n.defineComponent)({name:"DArrowLeft"}),NE={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},OE=(0,n.createElementVNode)("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"},null,-1),DE=[OE];function PE(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",NE,DE)}var ME=ta(IE,[["render",PE]]);const LE=(0,n.defineComponent)({name:"DArrowRight"}),$E={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},BE=(0,n.createElementVNode)("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688zm-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"},null,-1),HE=[BE];function UE(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",$E,HE)}var VE=ta(LE,[["render",UE]]);const FE=(0,n.defineComponent)({name:"MoreFilled"}),qE={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},zE=(0,n.createElementVNode)("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224z"},null,-1),WE=[zE];function YE(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",qE,WE)}var GE=ta(FE,[["render",YE]]);const KE={currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean},XE=(0,n.defineComponent)({name:"ElPaginationPager",components:{DArrowLeft:ME,DArrowRight:VE,MoreFilled:GE},props:KE,emits:["change"],setup(e,{emit:t}){const r=Qs("pager"),o=Qs("icon"),s=(0,n.ref)(!1),i=(0,n.ref)(!1),a=(0,n.ref)(!1),l=(0,n.ref)(!1),c=(0,n.computed)((()=>{const t=e.pagerCount,n=(t-1)/2,r=Number(e.currentPage),o=Number(e.pageCount);let s=!1,i=!1;o>t&&(r>t-n&&(s=!0),r<o-n&&(i=!0));const a=[];if(s&&!i){const e=o-(t-2);for(let t=e;t<o;t++)a.push(t)}else if(!s&&i)for(let e=2;e<t;e++)a.push(e);else if(s&&i){const e=Math.floor(t/2)-1;for(let t=r-e;t<=r+e;t++)a.push(t)}else for(let e=2;e<o;e++)a.push(e);return a}));function u(t){e.disabled||("left"===t?a.value=!0:l.value=!0)}function d(n){const r=n.target;if("li"===r.tagName.toLowerCase()&&Array.from(r.classList).includes("number")){const n=Number(r.textContent);n!==e.currentPage&&t("change",n)}}function p(n){const r=n.target;if("ul"===r.tagName.toLowerCase()||e.disabled)return;let o=Number(r.textContent);const s=e.pageCount,i=e.currentPage,a=e.pagerCount-2;r.className.includes("more")&&(r.className.includes("quickprev")?o=i-a:r.className.includes("quicknext")&&(o=i+a)),Number.isNaN(+o)||(o<1&&(o=1),o>s&&(o=s)),o!==i&&t("change",o)}return(0,n.watchEffect)((()=>{const t=(e.pagerCount-1)/2;s.value=!1,i.value=!1,e.pageCount>e.pagerCount&&(e.currentPage>e.pagerCount-t&&(s.value=!0),e.currentPage<e.pageCount-t&&(i.value=!0))})),{showPrevMore:s,showNextMore:i,quickPrevHover:a,quickNextHover:l,pagers:c,nsPager:r,nsIcon:o,onMouseenter:u,onPagerClick:p,onEnter:d}}}),JE=["aria-current"],ZE=["aria-current"],QE=["aria-current"];function ek(e,t,r,o,s,i){const a=(0,n.resolveComponent)("d-arrow-left"),l=(0,n.resolveComponent)("more-filled"),c=(0,n.resolveComponent)("d-arrow-right");return(0,n.openBlock)(),(0,n.createElementBlock)("ul",{class:(0,n.normalizeClass)(e.nsPager.b()),onClick:t[4]||(t[4]=(...t)=>e.onPagerClick&&e.onPagerClick(...t)),onKeyup:t[5]||(t[5]=(0,n.withKeys)(((...t)=>e.onEnter&&e.onEnter(...t)),["enter"]))},[e.pageCount>0?((0,n.openBlock)(),(0,n.createElementBlock)("li",{key:0,class:(0,n.normalizeClass)([[e.nsPager.is("active",1===e.currentPage),e.nsPager.is("disabled",e.disabled)],"number"]),"aria-current":1===e.currentPage,tabindex:"0"}," 1 ",10,JE)):(0,n.createCommentVNode)("v-if",!0),e.showPrevMore?((0,n.openBlock)(),(0,n.createElementBlock)("li",{key:1,class:(0,n.normalizeClass)(["more","btn-quickprev",e.nsIcon.b(),e.nsPager.is("disabled",e.disabled)]),onMouseenter:t[0]||(t[0]=t=>e.onMouseenter("left")),onMouseleave:t[1]||(t[1]=t=>e.quickPrevHover=!1)},[e.quickPrevHover?((0,n.openBlock)(),(0,n.createBlock)(a,{key:0})):((0,n.openBlock)(),(0,n.createBlock)(l,{key:1}))],34)):(0,n.createCommentVNode)("v-if",!0),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.pagers,(t=>((0,n.openBlock)(),(0,n.createElementBlock)("li",{key:t,class:(0,n.normalizeClass)([[e.nsPager.is("active",e.currentPage===t),e.nsPager.is("disabled",e.disabled)],"number"]),"aria-current":e.currentPage===t,tabindex:"0"},(0,n.toDisplayString)(t),11,ZE)))),128)),e.showNextMore?((0,n.openBlock)(),(0,n.createElementBlock)("li",{key:2,class:(0,n.normalizeClass)(["more","btn-quicknext",e.nsIcon.b(),e.nsPager.is("disabled",e.disabled)]),onMouseenter:t[2]||(t[2]=t=>e.onMouseenter("right")),onMouseleave:t[3]||(t[3]=t=>e.quickNextHover=!1)},[e.quickNextHover?((0,n.openBlock)(),(0,n.createBlock)(c,{key:0})):((0,n.openBlock)(),(0,n.createBlock)(l,{key:1}))],34)):(0,n.createCommentVNode)("v-if",!0),e.pageCount>1?((0,n.openBlock)(),(0,n.createElementBlock)("li",{key:3,class:(0,n.normalizeClass)([[e.nsPager.is("active",e.currentPage===e.pageCount),e.nsPager.is("disabled",e.disabled)],"number"]),"aria-current":e.currentPage===e.pageCount,tabindex:"0"},(0,n.toDisplayString)(e.pageCount),11,QE)):(0,n.createCommentVNode)("v-if",!0)],34)}var tk=r(XE,[["render",ek],["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const nk=e=>"number"!==typeof e,rk=oe({total:Number,pageSize:Number,defaultPageSize:Number,currentPage:Number,defaultCurrentPage:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>"number"===typeof e&&Math.trunc(e)===e&&e>4&&e<22&&e%2===1,default:7},layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:se(Array),default:()=>Dl([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},nextText:{type:String,default:""},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),ok={"update:current-page":e=>"number"===typeof e,"update:page-size":e=>"number"===typeof e,"size-change":e=>"number"===typeof e,"current-change":e=>"number"===typeof e,"prev-click":e=>"number"===typeof e,"next-click":e=>"number"===typeof e},sk="ElPagination";var ik=(0,n.defineComponent)({name:sk,props:rk,emits:ok,setup(e,{emit:t,slots:r}){const{t:o}=wf(),s=Qs("pagination"),i=(0,n.getCurrentInstance)().vnode.props||{},a="onUpdate:currentPage"in i||"onUpdate:current-page"in i||"onCurrentChange"in i,l="onUpdate:pageSize"in i||"onUpdate:page-size"in i||"onSizeChange"in i,c=(0,n.computed)((()=>{if(nk(e.total)&&nk(e.pageCount))return!1;if(!nk(e.currentPage)&&!a)return!1;if(e.layout.includes("sizes"))if(nk(e.pageCount)){if(!nk(e.total)&&!nk(e.pageSize)&&!l)return!1}else if(!l)return!1;return!0})),u=(0,n.ref)(nk(e.defaultPageSize)?10:e.defaultPageSize),d=(0,n.ref)(nk(e.defaultCurrentPage)?1:e.defaultCurrentPage),p=(0,n.computed)({get(){return nk(e.pageSize)?u.value:e.pageSize},set(n){nk(e.pageSize)&&(u.value=n),l&&(t("update:page-size",n),t("size-change",n))}}),h=(0,n.computed)((()=>{let t=0;return nk(e.pageCount)?nk(e.total)||(t=Math.max(1,Math.ceil(e.total/p.value))):t=e.pageCount,t})),f=(0,n.computed)({get(){return nk(e.currentPage)?d.value:e.currentPage},set(n){let r=n;n<1?r=1:n>h.value&&(r=h.value),nk(e.currentPage)&&(d.value=r),a&&(t("update:current-page",r),t("current-change",r))}});function g(e){f.value=e}function m(e){p.value=e;const t=h.value;f.value>t&&(f.value=t)}function v(){e.disabled||(f.value-=1,t("prev-click",f.value))}function b(){e.disabled||(f.value+=1,t("next-click",f.value))}function y(e,t){e&&(e.props||(e.props={}),e.props.class=[e.props.class,t].join(" "))}return(0,n.watch)(h,(e=>{f.value>e&&(f.value=e)})),(0,n.provide)(mE,{pageCount:h,disabled:(0,n.computed)((()=>e.disabled)),currentPage:f,changeEvent:g,handleSizeChange:m}),()=>{var t,i;if(!c.value)return Bn(sk,o("el.pagination.deprecationWarning")),null;if(!e.layout)return null;if(e.hideOnSinglePage&&h.value<=1)return null;const a=[],l=[],u=(0,n.h)("div",{class:s.e("rightwrapper")},l),d={prev:(0,n.h)(rE,{disabled:e.disabled,currentPage:f.value,prevText:e.prevText,onClick:v}),jumper:(0,n.h)(kE),pager:(0,n.h)(tk,{currentPage:f.value,pageCount:h.value,pagerCount:e.pagerCount,onChange:g,disabled:e.disabled}),next:(0,n.h)(gE,{disabled:e.disabled,currentPage:f.value,pageCount:h.value,nextText:e.nextText,onClick:b}),sizes:(0,n.h)(SE,{pageSize:p.value,pageSizes:e.pageSizes,popperClass:e.popperClass,disabled:e.disabled,size:e.small?"small":"default"}),slot:null!=(i=null==(t=null==r?void 0:r.default)?void 0:t.call(r))?i:null,total:(0,n.h)(jE,{total:nk(e.total)?0:e.total})},m=e.layout.split(",").map((e=>e.trim()));let w=!1;return m.forEach((e=>{"->"!==e?w?l.push(d[e]):a.push(d[e]):w=!0})),y(a[0],s.is("first")),y(a[a.length-1],s.is("last")),w&&l.length>0&&(y(l[0],s.is("first")),y(l[l.length-1],s.is("last")),a.push(u)),(0,n.h)("div",{role:"pagination","aria-label":"pagination",class:[s.b(),s.is("background",e.background),{[s.m("small")]:e.small}]},a)}}});const ak=k(ik);var lk=__webpack_require__(7731);const ck=function(e){let t=e.target;while(t&&"HTML"!==t.tagName.toUpperCase()){if("TD"===t.tagName.toUpperCase())return t;t=t.parentNode}return null},uk=function(e){return null!==e&&"object"===typeof e},dk=function(e,t,n,r,o){if(!t&&!r&&(!o||Array.isArray(o)&&!o.length))return e;n="string"===typeof n?"descending"===n?-1:1:n&&n<0?-1:1;const s=r?null:function(n,r){return o?(Array.isArray(o)||(o=[o]),o.map((t=>"string"===typeof t?ks(n,t):t(n,r,e)))):("$key"!==t&&uk(n)&&"$value"in n&&(n=n.$value),[uk(n)?ks(n,t):n])},i=function(e,t){if(r)return r(e.value,t.value);for(let n=0,r=e.key.length;n<r;n++){if(e.key[n]<t.key[n])return-1;if(e.key[n]>t.key[n])return 1}return 0};return e.map(((e,t)=>({value:e,index:t,key:s?s(e,t):null}))).sort(((e,t)=>{let r=i(e,t);return r||(r=e.index-t.index),r*+n})).map((e=>e.value))},pk=function(e,t){let n=null;return e.columns.forEach((e=>{e.id===t&&(n=e)})),n},hk=function(e,t){let n=null;for(let r=0;r<e.columns.length;r++){const o=e.columns[r];if(o.columnKey===t){n=o;break}}return n},fk=function(e,t,n){const r=(t.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return r?pk(e,r[0]):null},gk=(e,t)=>{if(!e)throw new Error("Row is required when get row identity");if("string"===typeof t){if(!t.includes("."))return`${e[t]}`;const n=t.split(".");let r=e;for(const e of n)r=r[e];return`${r}`}if("function"===typeof t)return t.call(null,e)},mk=function(e,t){const n={};return(e||[]).forEach(((e,r)=>{n[gk(e,t)]={row:e,index:r}})),n};function vk(e,t){const n={};let r;for(r in e)n[r]=e[r];for(r in t)if(d(t,r)){const e=t[r];"undefined"!==typeof e&&(n[r]=e)}return n}function bk(e){return""===e||void 0!==e&&(e=Number.parseInt(e,10),Number.isNaN(e)&&(e="")),e}function yk(e){return""===e||void 0!==e&&(e=bk(e),Number.isNaN(e)&&(e=80)),e}function wk(e){return"number"===typeof e?e:"string"===typeof e?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function Sk(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce(((e,t)=>(...n)=>e(t(...n))))}function Ck(e,t,n){let r=!1;const o=e.indexOf(t),s=-1!==o,i=()=>{e.push(t),r=!0},a=()=>{e.splice(o,1),r=!0};return"boolean"===typeof n?n&&!s?i():!n&&s&&a():s?a():i(),r}function _k(e,t,n="children",r="hasChildren"){const o=e=>!(Array.isArray(e)&&e.length);function s(e,i,a){t(e,i,a),i.forEach((e=>{if(e[r])return void t(e,null,a+1);const i=e[n];o(i)||s(e,i,a+1)}))}e.forEach((e=>{if(e[r])return void t(e,null,0);const i=e[n];o(i)||s(e,i,0)}))}let Ek;function kk(e,t,n,r){const{nextZIndex:o}=Ks();function s(){const e="light"===r,n=document.createElement("div");return n.className="el-popper "+(e?"is-light":"is-dark"),t=lk(t),n.innerHTML=t,n.style.zIndex=String(o()),document.body.appendChild(n),n}function i(){const e=document.createElement("div");return e.className="el-popper__arrow",e}function a(){l&&l.update()}Ek=function t(){try{l&&l.destroy(),c&&document.body.removeChild(c),li(e,"mouseenter",a),li(e,"mouseleave",t)}catch(n){}};let l=null;const c=s(),u=i();return c.appendChild(u),l=fn(e,c,{modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"arrow",options:{element:u,padding:10}}],...n}),ai(e,"mouseenter",a),ai(e,"mouseleave",Ek),l}const Tk=(e,t,n,r)=>{let o,s=0,i=e;if(r){if(r[e].colSpan>1)return{};for(let t=0;t<e;t++)s+=r[t].colSpan;i=s+r[e].colSpan-1}else s=e;const a=n.states.columns;switch(t){case"left":i<n.states.fixedLeafColumnsLength.value&&(o="left");break;case"right":s>=a.value.length-n.states.rightFixedLeafColumnsLength.value&&(o="right");break;default:i<n.states.fixedLeafColumnsLength.value?o="left":s>=a.value.length-n.states.rightFixedLeafColumnsLength.value&&(o="right")}return o?{direction:o,start:s,after:i}:{}},xk=(e,t,n,r,o)=>{const s=[],{direction:i,start:a}=Tk(t,n,r,o);if(i){const t="left"===i;s.push(`${e}-fixed-column--${i}`),t&&a===r.states.fixedLeafColumnsLength.value-1?s.push("is-last-column"):t||a!==r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value||s.push("is-first-column")}return s};function Rk(e,t){return e+(null===t.realWidth||Number.isNaN(t.realWidth)?Number(t.width):t.realWidth)}const Ak=(e,t,n,r)=>{const{direction:o,start:s=0}=Tk(e,t,n,r);if(!o)return;const i={},a="left"===o,l=n.states.columns.value;return a?i.left=l.slice(0,e).reduce(Rk,0):i.right=l.slice(s+1).reverse().reduce(Rk,0),i},jk=(e,t)=>{e&&(Number.isNaN(e[t])||(e[t]=`${e[t]}px`))};function Ik(e){const t=(0,n.getCurrentInstance)(),r=(0,n.ref)(!1),o=(0,n.ref)([]),s=()=>{const t=e.data.value||[],n=e.rowKey.value;if(r.value)o.value=t.slice();else if(n){const e=mk(o.value,n);o.value=t.reduce(((t,r)=>{const o=gk(r,n),s=e[o];return s&&t.push(r),t}),[])}else o.value=[]},i=(e,n)=>{const r=Ck(o.value,e,n);r&&t.emit("expand-change",e,o.value.slice())},a=n=>{t.store.assertRowKey();const r=e.data.value||[],s=e.rowKey.value,i=mk(r,s);o.value=n.reduce(((e,t)=>{const n=i[t];return n&&e.push(n.row),e}),[])},l=t=>{const n=e.rowKey.value;if(n){const e=mk(o.value,n);return!!e[gk(t,n)]}return o.value.includes(t)};return{updateExpandRows:s,toggleRowExpansion:i,setExpandRowKeys:a,isRowExpanded:l,states:{expandRows:o,defaultExpandAll:r}}}function Nk(e){const t=(0,n.getCurrentInstance)(),r=(0,n.ref)(null),o=(0,n.ref)(null),s=e=>{t.store.assertRowKey(),r.value=e,a(e)},i=()=>{r.value=null},a=r=>{const{data:s,rowKey:i}=e;let a=null;i.value&&(a=((0,n.unref)(s)||[]).find((e=>gk(e,i.value)===r))),o.value=a,t.emit("current-change",o.value,null)},l=e=>{const n=o.value;if(e&&e!==n)return o.value=e,void t.emit("current-change",o.value,n);!e&&n&&(o.value=null,t.emit("current-change",null,n))},c=()=>{const n=e.rowKey.value,s=e.data.value||[],l=o.value;if(!s.includes(l)&&l){if(n){const e=gk(l,n);a(e)}else o.value=null;null===o.value&&t.emit("current-change",null,l)}else r.value&&(a(r.value),i())};return{setCurrentRowKey:s,restoreCurrentRowKey:i,setCurrentRowByKey:a,updateCurrentRow:l,updateCurrentRowData:c,states:{_currentRowKey:r,currentRow:o}}}function Ok(e){const t=(0,n.ref)([]),r=(0,n.ref)({}),o=(0,n.ref)(16),s=(0,n.ref)(!1),i=(0,n.ref)({}),a=(0,n.ref)("hasChildren"),l=(0,n.ref)("children"),c=(0,n.getCurrentInstance)(),u=(0,n.computed)((()=>{if(!e.rowKey.value)return{};const t=e.data.value||[];return p(t)})),d=(0,n.computed)((()=>{const t=e.rowKey.value,n=Object.keys(i.value),r={};return n.length?(n.forEach((e=>{if(i.value[e].length){const n={children:[]};i.value[e].forEach((e=>{const o=gk(e,t);n.children.push(o),e[a.value]&&!r[o]&&(r[o]={children:[]})})),r[e]=n}})),r):r})),p=t=>{const n=e.rowKey.value,r={};return _k(t,((e,t,o)=>{const i=gk(e,n);Array.isArray(t)?r[i]={children:t.map((e=>gk(e,n))),level:o}:s.value&&(r[i]={children:[],lazy:!0,level:o})}),l.value,a.value),r},h=(e=!1,o=(e=>null==(e=c.store)?void 0:e.states.defaultExpandAll.value)())=>{var i;const a=u.value,l=d.value,p=Object.keys(a),h={};if(p.length){const i=(0,n.unref)(r),c=[],u=(n,r)=>{if(e)return t.value?o||t.value.includes(r):!(!o&&!(null==n?void 0:n.expanded));{const e=o||t.value&&t.value.includes(r);return!(!(null==n?void 0:n.expanded)&&!e)}};p.forEach((e=>{const t=i[e],n={...a[e]};if(n.expanded=u(t,e),n.lazy){const{loaded:r=!1,loading:o=!1}=t||{};n.loaded=!!r,n.loading=!!o,c.push(e)}h[e]=n}));const d=Object.keys(l);s.value&&d.length&&c.length&&d.forEach((e=>{const t=i[e],n=l[e].children;if(c.includes(e)){if(0!==h[e].children.length)throw new Error("[ElTable]children must be an empty array.");h[e].children=n}else{const{loaded:r=!1,loading:o=!1}=t||{};h[e]={lazy:!0,loaded:!!r,loading:!!o,expanded:u(t,e),children:n,level:""}}}))}r.value=h,null==(i=c.store)||i.updateTableScrollY()};(0,n.watch)((()=>t.value),(()=>{h(!0)})),(0,n.watch)((()=>u.value),(()=>{h()})),(0,n.watch)((()=>d.value),(()=>{h()}));const f=e=>{t.value=e,h()},g=(t,n)=>{c.store.assertRowKey();const o=e.rowKey.value,s=gk(t,o),i=s&&r.value[s];if(s&&i&&"expanded"in i){const e=i.expanded;n="undefined"===typeof n?!i.expanded:n,r.value[s].expanded=n,e!==n&&c.emit("expand-change",t,n),c.store.updateTableScrollY()}},m=t=>{c.store.assertRowKey();const n=e.rowKey.value,o=gk(t,n),i=r.value[o];s.value&&i&&"loaded"in i&&!i.loaded?v(t,o,i):g(t,void 0)},v=(e,t,n)=>{const{load:o}=c.props;o&&!r.value[t].loaded&&(r.value[t].loading=!0,o(e,n,(n=>{if(!Array.isArray(n))throw new TypeError("[ElTable] data must be an array");r.value[t].loading=!1,r.value[t].loaded=!0,r.value[t].expanded=!0,n.length&&(i.value[t]=n),c.emit("expand-change",e,!0)})))};return{loadData:v,loadOrToggle:m,toggleTreeExpansion:g,updateTreeExpandKeys:f,updateTreeData:h,normalize:p,states:{expandRowKeys:t,treeData:r,indent:o,lazy:s,lazyTreeNodeMap:i,lazyColumnIdentifier:a,childrenColumnName:l}}}const Dk=(e,t)=>{const n=t.sortingColumn;return n&&"string"!==typeof n.sortable?dk(e,t.sortProp,t.sortOrder,n.sortMethod,n.sortBy):e},Pk=e=>{const t=[];return e.forEach((e=>{e.children?t.push.apply(t,Pk(e.children)):t.push(e)})),t};function Mk(){var e;const t=(0,n.getCurrentInstance)(),{size:r}=(0,n.toRefs)(null==(e=t.proxy)?void 0:e.$props),o=(0,n.ref)(null),s=(0,n.ref)([]),i=(0,n.ref)([]),a=(0,n.ref)(!1),l=(0,n.ref)([]),c=(0,n.ref)([]),u=(0,n.ref)([]),p=(0,n.ref)([]),h=(0,n.ref)([]),f=(0,n.ref)([]),g=(0,n.ref)([]),m=(0,n.ref)([]),v=(0,n.ref)(0),b=(0,n.ref)(0),y=(0,n.ref)(0),w=(0,n.ref)(!1),S=(0,n.ref)([]),C=(0,n.ref)(!1),_=(0,n.ref)(!1),E=(0,n.ref)(null),k=(0,n.ref)({}),T=(0,n.ref)(null),x=(0,n.ref)(null),R=(0,n.ref)(null),A=(0,n.ref)(null),j=(0,n.ref)(null);(0,n.watch)(s,(()=>t.state&&O(!1)),{deep:!0});const I=()=>{if(!o.value)throw new Error("[ElTable] prop row-key is required")},N=()=>{p.value=l.value.filter((e=>!0===e.fixed||"left"===e.fixed)),h.value=l.value.filter((e=>"right"===e.fixed)),p.value.length>0&&l.value[0]&&"selection"===l.value[0].type&&!l.value[0].fixed&&(l.value[0].fixed=!0,p.value.unshift(l.value[0]));const e=l.value.filter((e=>!e.fixed));c.value=[].concat(p.value).concat(e).concat(h.value);const t=Pk(e),n=Pk(p.value),r=Pk(h.value);v.value=t.length,b.value=n.length,y.value=r.length,u.value=[].concat(n).concat(t).concat(r),a.value=p.value.length>0||h.value.length>0},O=(e,n=!1)=>{e&&N(),n?t.state.doLayout():t.state.debouncedUpdateLayout()},D=e=>S.value.includes(e),P=()=>{w.value=!1;const e=S.value;e.length&&(S.value=[],t.emit("selection-change",[]))},M=()=>{let e;if(o.value){e=[];const t=mk(S.value,o.value),n=mk(s.value,o.value);for(const r in t)d(t,r)&&!n[r]&&e.push(t[r].row)}else e=S.value.filter((e=>!s.value.includes(e)));if(e.length){const n=S.value.filter((t=>!e.includes(t)));S.value=n,t.emit("selection-change",n.slice())}},L=()=>(S.value||[]).slice(),$=(e,n,r=!0)=>{const o=Ck(S.value,e,n);if(o){const n=(S.value||[]).slice();r&&t.emit("select",n,e),t.emit("selection-change",n)}},B=()=>{var e,n;const r=_.value?!w.value:!(w.value||S.value.length);w.value=r;let o=!1,i=0;const a=null==(n=null==(e=null==t?void 0:t.store)?void 0:e.states)?void 0:n.rowKey.value;s.value.forEach(((e,t)=>{const n=t+i;E.value?E.value.call(null,e,n)&&Ck(S.value,e,r)&&(o=!0):Ck(S.value,e,r)&&(o=!0),i+=V(gk(e,a))})),o&&t.emit("selection-change",S.value?S.value.slice():[]),t.emit("select-all",S.value)},H=()=>{const e=mk(S.value,o.value);s.value.forEach((t=>{const n=gk(t,o.value),r=e[n];r&&(S.value[r.index]=t)}))},U=()=>{var e,n,r;if(0===(null==(e=s.value)?void 0:e.length))return void(w.value=!1);let i;o.value&&(i=mk(S.value,o.value));const a=function(e){return i?!!i[gk(e,o.value)]:S.value.includes(e)};let l=!0,c=0,u=0;for(let o=0,d=(s.value||[]).length;o<d;o++){const e=null==(r=null==(n=null==t?void 0:t.store)?void 0:n.states)?void 0:r.rowKey.value,i=o+u,d=s.value[o],p=E.value&&E.value.call(null,d,i);if(a(d))c++;else if(!E.value||p){l=!1;break}u+=V(gk(d,e))}0===c&&(l=!1),w.value=l},V=e=>{var n;if(!t||!t.store)return 0;const{treeData:r}=t.store.states;let o=0;const s=null==(n=r.value[e])?void 0:n.children;return s&&(o+=s.length,s.forEach((e=>{o+=V(e)}))),o},F=(e,t)=>{Array.isArray(e)||(e=[e]);const n={};return e.forEach((e=>{k.value[e.id]=t,n[e.columnKey||e.id]=t})),n},q=(e,t,n)=>{x.value&&x.value!==e&&(x.value.order=null),x.value=e,R.value=t,A.value=n},z=()=>{let e=(0,n.unref)(i);Object.keys(k.value).forEach((t=>{const n=k.value[t];if(!n||0===n.length)return;const r=pk({columns:u.value},t);r&&r.filterMethod&&(e=e.filter((e=>n.some((t=>r.filterMethod.call(null,t,e,r))))))})),T.value=e},W=()=>{s.value=Dk(T.value,{sortingColumn:x.value,sortProp:R.value,sortOrder:A.value})},Y=e=>{e&&e.filter||z(),W()},G=e=>{const{tableHeaderRef:n}=t.refs;if(!n)return;const r=Object.assign({},n.filterPanels),o=Object.keys(r);if(o.length)if("string"===typeof e&&(e=[e]),Array.isArray(e)){const n=e.map((e=>hk({columns:u.value},e)));o.forEach((e=>{const t=n.find((t=>t.id===e));t&&(t.filteredValue=[])})),t.store.commit("filterChange",{column:n,values:[],silent:!0,multi:!0})}else o.forEach((e=>{const t=u.value.find((t=>t.id===e));t&&(t.filteredValue=[])})),k.value={},t.store.commit("filterChange",{column:{},values:[],silent:!0})},K=()=>{x.value&&(q(null,null,null),t.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:X,toggleRowExpansion:J,updateExpandRows:Z,states:Q,isRowExpanded:ee}=Ik({data:s,rowKey:o}),{updateTreeExpandKeys:te,toggleTreeExpansion:ne,updateTreeData:re,loadOrToggle:oe,states:se}=Ok({data:s,rowKey:o}),{updateCurrentRowData:ie,updateCurrentRow:ae,setCurrentRowKey:le,states:ce}=Nk({data:s,rowKey:o}),ue=e=>{X(e),te(e)},de=(e,t)=>{const n=u.value.some((({type:e})=>"expand"===e));n?J(e,t):ne(e,t)};return{assertRowKey:I,updateColumns:N,scheduleLayout:O,isSelected:D,clearSelection:P,cleanSelection:M,getSelectionRows:L,toggleRowSelection:$,_toggleAllSelection:B,toggleAllSelection:null,updateSelectionByRowKey:H,updateAllSelected:U,updateFilters:F,updateCurrentRow:ae,updateSort:q,execFilter:z,execSort:W,execQuery:Y,clearFilter:G,clearSort:K,toggleRowExpansion:J,setExpandRowKeysAdapter:ue,setCurrentRowKey:le,toggleRowExpansionAdapter:de,isRowExpanded:ee,updateExpandRows:Z,updateCurrentRowData:ie,loadOrToggle:oe,updateTreeData:re,states:{tableSize:r,rowKey:o,data:s,_data:i,isComplex:a,_columns:l,originColumns:c,columns:u,fixedColumns:p,rightFixedColumns:h,leafColumns:f,fixedLeafColumns:g,rightFixedLeafColumns:m,leafColumnsLength:v,fixedLeafColumnsLength:b,rightFixedLeafColumnsLength:y,isAllSelected:w,selection:S,reserveSelection:C,selectOnIndeterminate:_,selectable:E,filters:k,filteredData:T,sortingColumn:x,sortProp:R,sortOrder:A,hoverRow:j,...Q,...se,...ce}}}function Lk(e,t){return e.map((e=>{var n;return e.id===t.id?t:((null==(n=e.children)?void 0:n.length)&&(e.children=Lk(e.children,t)),e)}))}function $k(e){e.forEach((e=>{var t,n;e.no=null==(t=e.getColumnIndex)?void 0:t.call(e),(null==(n=e.children)?void 0:n.length)&&$k(e.children)})),e.sort(((e,t)=>e.no-t.no))}function Bk(){const e=(0,n.getCurrentInstance)(),t=Mk(),r=Qs("table"),o={setData(t,r){const o=(0,n.unref)(t._data)!==r;t.data.value=r,t._data.value=r,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),e.store.updateTreeData(e.store.states.defaultExpandAll.value),(0,n.unref)(t.reserveSelection)?(e.store.assertRowKey(),e.store.updateSelectionByRowKey()):o?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(t,r,o){const s=(0,n.unref)(t._columns);let i=[];o?(o&&!o.children&&(o.children=[]),o.children.push(r),i=Lk(s,o)):(s.push(r),i=s),$k(i),t._columns.value=i,"selection"===r.type&&(t.selectable.value=r.selectable,t.reserveSelection.value=r.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},removeColumn(t,r,o){const s=(0,n.unref)(t._columns)||[];if(o)o.children.splice(o.children.findIndex((e=>e.id===r.id)),1),0===o.children.length&&delete o.children,t._columns.value=Lk(s,o);else{const e=s.indexOf(r);e>-1&&(s.splice(e,1),t._columns.value=s)}e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(t,r){const{prop:o,order:s,init:i}=r;if(o){const r=(0,n.unref)(t.columns).find((e=>e.property===o));r&&(r.order=s,e.store.updateSort(r,o,s),e.store.commit("changeSortCondition",{init:i}))}},changeSortCondition(t,r){const{sortingColumn:o,sortProp:s,sortOrder:i}=t;null===(0,n.unref)(i)&&(t.sortingColumn.value=null,t.sortProp.value=null);const a={filter:!0};e.store.execQuery(a),r&&(r.silent||r.init)||e.emit("sort-change",{column:(0,n.unref)(o),prop:(0,n.unref)(s),order:(0,n.unref)(i)}),e.store.updateTableScrollY()},filterChange(t,n){const{column:r,values:o,silent:s}=n,i=e.store.updateFilters(r,o);e.store.execQuery(),s||e.emit("filter-change",i),e.store.updateTableScrollY()},toggleAllSelection(){e.store.toggleAllSelection()},rowSelectedChanged(t,n){e.store.toggleRowSelection(n),e.store.updateAllSelected()},setHoverRow(e,t){e.hoverRow.value=t},setCurrentRow(t,n){e.store.updateCurrentRow(n)}},s=function(t,...n){const r=e.store.mutations;if(!r[t])throw new Error(`Action not found: ${t}`);r[t].apply(e,[e.store.states].concat(n))},i=function(){(0,n.nextTick)((()=>e.layout.updateScrollY.apply(e.layout)))};return{ns:r,...t,mutations:o,commit:s,updateTableScrollY:i}}const Hk={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data",["treeProps.hasChildren"]:{key:"lazyColumnIdentifier",default:"hasChildren"},["treeProps.children"]:{key:"childrenColumnName",default:"children"}};function Uk(e,t){if(!e)throw new Error("Table is required.");const n=Bk();return n.toggleAllSelection=gf(n._toggleAllSelection,10),Object.keys(Hk).forEach((e=>{Fk(qk(t,e),e,n)})),Vk(n,t),n}function Vk(e,t){Object.keys(Hk).forEach((r=>{(0,n.watch)((()=>qk(t,r)),(t=>{Fk(t,r,e)}))}))}function Fk(e,t,n){let r=e,o=Hk[t];"object"===typeof Hk[t]&&(o=o.key,r=r||Hk[t].default),n.states[o].value=r}function qk(e,t){if(t.includes(".")){const n=t.split(".");let r=e;return n.forEach((e=>{r=r[e]})),r}return e[t]}class zk{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=(0,n.ref)(null),this.scrollX=(0,n.ref)(!1),this.scrollY=(0,n.ref)(!1),this.bodyWidth=(0,n.ref)(null),this.fixedWidth=(0,n.ref)(null),this.rightFixedWidth=(0,n.ref)(null),this.tableHeight=(0,n.ref)(null),this.headerHeight=(0,n.ref)(44),this.appendHeight=(0,n.ref)(0),this.footerHeight=(0,n.ref)(44),this.viewportHeight=(0,n.ref)(null),this.bodyHeight=(0,n.ref)(null),this.bodyScrollHeight=(0,n.ref)(0),this.fixedBodyHeight=(0,n.ref)(null),this.gutterWidth=0;for(const t in e)d(e,t)&&((0,n.isRef)(this[t])?this[t].value=e[t]:this[t]=e[t]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){const e=this.height.value;if(null===e)return!1;const t=this.table.refs.bodyWrapper;if(this.table.vnode.el&&t){let e=!0;const n=this.scrollY.value;return e=null!==this.bodyHeight.value&&t.scrollHeight>this.bodyHeight.value,this.scrollY.value=e,n!==e}return!1}setHeight(e,t="height"){if(!j)return;const r=this.table.vnode.el;if(e=wk(e),this.height.value=Number(e),!r&&(e||0===e))return(0,n.nextTick)((()=>this.setHeight(e,t)));"number"===typeof e?(r.style[t]=`${e}px`,this.updateElsHeight()):"string"===typeof e&&(r.style[t]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[],t=this.table.store.states.columns.value;return t.forEach((t=>{t.isColumnGroup?e.push.apply(e,t.columns):e.push(t)})),e}updateElsHeight(){var e,t;if(!this.table.$ready)return(0,n.nextTick)((()=>this.updateElsHeight()));const{tableWrapper:r,headerWrapper:o,appendWrapper:s,footerWrapper:i,tableHeader:a,tableBody:l}=this.table.refs;if(r&&"none"===r.style.display)return;const{tableLayout:c}=this.table.props;if(this.appendHeight.value=s?s.offsetHeight:0,this.showHeader&&!o&&"fixed"===c)return;const u=a||null,d=this.headerDisplayNone(u),p=(null==o?void 0:o.offsetHeight)||0,h=this.headerHeight.value=this.showHeader?p:0;if(this.showHeader&&!d&&p>0&&(this.table.store.states.columns.value||[]).length>0&&h<2)return(0,n.nextTick)((()=>this.updateElsHeight()));const f=this.tableHeight.value=null==(t=null==(e=this.table)?void 0:e.vnode.el)?void 0:t.clientHeight,g=this.footerHeight.value=i?i.offsetHeight:0;null!==this.height.value&&(null===this.bodyHeight.value&&requestAnimationFrame((()=>this.updateElsHeight())),this.bodyHeight.value=f-h-g+(i?1:0),this.bodyScrollHeight.value=null==l?void 0:l.scrollHeight),this.fixedBodyHeight.value=this.scrollX.value?this.bodyHeight.value-this.gutterWidth:this.bodyHeight.value,this.viewportHeight.value=this.scrollX.value?f-this.gutterWidth:f,this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let t=e;while("DIV"!==t.tagName){if("none"===getComputedStyle(t).display)return!0;t=t.parentElement}return!1}updateColumnsWidth(){if(!j)return;const e=this.fit,t=this.table.vnode.el.clientWidth;let n=0;const r=this.getFlattenColumns(),o=r.filter((e=>"number"!==typeof e.width));if(r.forEach((e=>{"number"===typeof e.width&&e.realWidth&&(e.realWidth=null)})),o.length>0&&e){if(r.forEach((e=>{n+=Number(e.width||e.minWidth||80)})),n<=t){this.scrollX.value=!1;const e=t-n;if(1===o.length)o[0].realWidth=Number(o[0].minWidth||80)+e;else{const t=o.reduce(((e,t)=>e+Number(t.minWidth||80)),0),n=e/t;let r=0;o.forEach(((e,t)=>{if(0===t)return;const o=Math.floor(Number(e.minWidth||80)*n);r+=o,e.realWidth=Number(e.minWidth||80)+o})),o[0].realWidth=Number(o[0].minWidth||80)+e-r}}else this.scrollX.value=!0,o.forEach((e=>{e.realWidth=Number(e.minWidth)}));this.bodyWidth.value=Math.max(n,t),this.table.state.resizeState.value.width=this.bodyWidth.value}else r.forEach((e=>{e.width||e.minWidth?e.realWidth=Number(e.width||e.minWidth):e.realWidth=80,n+=e.realWidth})),this.scrollX.value=n>t,this.bodyWidth.value=n;const s=this.store.states.fixedColumns.value;if(s.length>0){let e=0;s.forEach((t=>{e+=Number(t.realWidth||t.width)})),this.fixedWidth.value=e}const i=this.store.states.rightFixedColumns.value;if(i.length>0){let e=0;i.forEach((t=>{e+=Number(t.realWidth||t.width)})),this.rightFixedWidth.value=e}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const t=this.observers.indexOf(e);-1!==t&&this.observers.splice(t,1)}notifyObservers(e){const t=this.observers;t.forEach((t=>{var n,r;switch(e){case"columns":null==(n=t.state)||n.onColumnsChange(this);break;case"scrollable":null==(r=t.state)||r.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}}))}}const Wk={modelValue:{type:Array,default:()=>[]},disabled:Boolean,min:{type:Number,default:void 0},max:{type:Number,default:void 0},size:{type:String,validator:Nf},id:{type:String,default:void 0},label:{type:String,default:void 0},fill:{type:String,default:void 0},textColor:{type:String,default:void 0},tag:{type:String,default:"div"}},Yk={modelValue:{type:[Number,String,Boolean],default:()=>{}},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:{type:String,validator:Nf},tabindex:[String,Number]},Gk=()=>{const e=(0,n.inject)(Dn,{}),t=(0,n.inject)(Pn,{}),r=(0,n.inject)("CheckboxGroup",{}),o=(0,n.computed)((()=>r&&"ElCheckboxGroup"===(null==r?void 0:r.name))),s=(0,n.computed)((()=>t.size));return{isGroup:o,checkboxGroup:r,elForm:e,elFormItemSize:s,elFormItem:t}},Kk=(e,{elFormItem:t})=>{const{inputId:n,isLabeledByFormItem:r}=jc(e,{formItemContext:t});return{isLabeledByFormItem:r,groupId:n}},Xk=e=>{const t=(0,n.ref)(!1),{emit:r}=(0,n.getCurrentInstance)(),{isGroup:o,checkboxGroup:s,elFormItem:i}=Gk(),a=(0,n.ref)(!1),l=(0,n.computed)({get(){var n,r;return o.value?null==(n=s.modelValue)?void 0:n.value:null!=(r=e.modelValue)?r:t.value},set(e){var n;o.value&&Array.isArray(e)?(a.value=void 0!==s.max&&e.length>s.max.value,!1===a.value&&(null==(n=null==s?void 0:s.changeEvent)||n.call(s,e))):(r(Cc,e),t.value=e)}});return{model:l,isGroup:o,isLimitExceeded:a,elFormItem:i}},Jk=(e,t,{model:r})=>{const{isGroup:o,checkboxGroup:s}=Gk(),i=(0,n.ref)(!1),a=wc(null==s?void 0:s.checkboxGroupSize,{prop:!0}),l=(0,n.computed)((()=>{const t=r.value;return"[object Boolean]"===v(t)?t:Array.isArray(t)?t.includes(e.label):null!==t&&void 0!==t?t===e.trueLabel:!!t})),c=wc((0,n.computed)((()=>{var e;return o.value?null==(e=null==s?void 0:s.checkboxGroupSize)?void 0:e.value:void 0}))),u=(0,n.computed)((()=>!(!t.default&&!e.label)));return{isChecked:l,focus:i,size:a,checkboxSize:c,hasOwnLabel:u}},Zk=(e,{model:t,isChecked:r})=>{const{elForm:o,isGroup:s,checkboxGroup:i}=Gk(),a=(0,n.computed)((()=>{var e,n;const o=null==(e=i.max)?void 0:e.value,s=null==(n=i.min)?void 0:n.value;return!(!o&&!s)&&t.value.length>=o&&!r.value||t.value.length<=s&&r.value})),l=(0,n.computed)((()=>{var t,n;const r=e.disabled||(null==o?void 0:o.disabled);return null!=(n=s.value?(null==(t=i.disabled)?void 0:t.value)||r||a.value:r)&&n}));return{isDisabled:l,isLimitDisabled:a}},Qk=(e,{model:t})=>{function n(){Array.isArray(t.value)&&!t.value.includes(e.label)?t.value.push(e.label):t.value=e.trueLabel||!0}e.checked&&n()},eT=(e,{model:t,isLimitExceeded:r,hasOwnLabel:o,isDisabled:s,isLabeledByFormItem:i})=>{const{elFormItem:a}=Gk(),{emit:l}=(0,n.getCurrentInstance)();function c(t){var n,r;return t===e.trueLabel||!0===t?null==(n=e.trueLabel)||n:null!=(r=e.falseLabel)&&r}function u(e,t){l("change",c(e),t)}function d(e){if(r.value)return;const t=e.target;l("change",c(t.checked),e)}async function p(a){r.value||o.value||s.value||!i.value||(t.value=c([!1,e.falseLabel].includes(t.value)),await(0,n.nextTick)(),u(t.value,a))}return(0,n.watch)((()=>e.modelValue),(()=>{var e;null==(e=null==a?void 0:a.validate)||e.call(a,"change").catch((e=>Bn(e)))})),{handleChange:d,onClickRoot:p}},tT=(e,t)=>{const{model:n,isGroup:r,isLimitExceeded:o,elFormItem:s}=Xk(e),{focus:i,size:a,isChecked:l,checkboxSize:c,hasOwnLabel:u}=Jk(e,t,{model:n}),{isDisabled:d}=Zk(e,{model:n,isChecked:l}),{inputId:p,isLabeledByFormItem:h}=jc(e,{formItemContext:s,disableIdGeneration:u,disableIdManagement:r}),{handleChange:f,onClickRoot:g}=eT(e,{model:n,isLimitExceeded:o,hasOwnLabel:u,isDisabled:d,isLabeledByFormItem:h});return Qk(e,{model:n}),{elFormItem:s,inputId:p,isLabeledByFormItem:h,isChecked:l,isDisabled:d,isGroup:r,checkboxSize:c,hasOwnLabel:u,model:n,handleChange:f,onClickRoot:g,focus:i,size:a}},nT=(0,n.defineComponent)({name:"ElCheckbox",props:Yk,emits:[Cc,"change"],setup(e,{slots:t}){const n=Qs("checkbox");return{ns:n,...tT(e,t)}}}),rT=["tabindex","role","aria-checked"],oT=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],sT=["id","aria-hidden","disabled","value","name","tabindex"];function iT(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(!e.hasOwnLabel&&e.isLabeledByFormItem?"span":"label"),{class:(0,n.normalizeClass)([e.ns.b(),e.ns.m(e.checkboxSize),e.ns.is("disabled",e.isDisabled),e.ns.is("bordered",e.border),e.ns.is("checked",e.isChecked)]),"aria-controls":e.indeterminate?e.controls:null,onClick:e.onClickRoot},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)([e.ns.e("input"),e.ns.is("disabled",e.isDisabled),e.ns.is("checked",e.isChecked),e.ns.is("indeterminate",e.indeterminate),e.ns.is("focus",e.focus)]),tabindex:e.indeterminate?0:void 0,role:e.indeterminate?"checkbox":void 0,"aria-checked":e.indeterminate?"mixed":void 0},[(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)(e.ns.e("inner"))},null,2),e.trueLabel||e.falseLabel?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("input",{key:0,id:e.inputId,"onUpdate:modelValue":t[0]||(t[0]=t=>e.model=t),class:(0,n.normalizeClass)(e.ns.e("original")),type:"checkbox","aria-hidden":e.indeterminate?"true":"false",name:e.name,tabindex:e.tabindex,disabled:e.isDisabled,"true-value":e.trueLabel,"false-value":e.falseLabel,onChange:t[1]||(t[1]=(...t)=>e.handleChange&&e.handleChange(...t)),onFocus:t[2]||(t[2]=t=>e.focus=!0),onBlur:t[3]||(t[3]=t=>e.focus=!1)},null,42,oT)),[[n.vModelCheckbox,e.model]]):(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("input",{key:1,id:e.inputId,"onUpdate:modelValue":t[4]||(t[4]=t=>e.model=t),class:(0,n.normalizeClass)(e.ns.e("original")),type:"checkbox","aria-hidden":e.indeterminate?"true":"false",disabled:e.isDisabled,value:e.label,name:e.name,tabindex:e.tabindex,onChange:t[5]||(t[5]=(...t)=>e.handleChange&&e.handleChange(...t)),onFocus:t[6]||(t[6]=t=>e.focus=!0),onBlur:t[7]||(t[7]=t=>e.focus=!1)},null,42,sT)),[[n.vModelCheckbox,e.model]])],10,rT),e.hasOwnLabel?((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:0,class:(0,n.normalizeClass)(e.ns.e("label"))},[(0,n.renderSlot)(e.$slots,"default"),e.$slots.default?(0,n.createCommentVNode)("v-if",!0):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.createTextVNode)((0,n.toDisplayString)(e.label),1)],2112))],2)):(0,n.createCommentVNode)("v-if",!0)])),_:3},8,["class","aria-controls","onClick"])}var aT=r(nT,[["render",iT],["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const lT=(0,n.defineComponent)({name:"ElCheckboxButton",props:Yk,emits:[Cc,"change"],setup(e,{slots:t}){const{focus:r,isChecked:o,isDisabled:s,size:i,model:a,handleChange:l}=tT(e,t),{checkboxGroup:c}=Gk(),u=Qs("checkbox"),d=(0,n.computed)((()=>{var e,t,n,r;const o=null!=(t=null==(e=null==c?void 0:c.fill)?void 0:e.value)?t:"";return{backgroundColor:o,borderColor:o,color:null!=(r=null==(n=null==c?void 0:c.textColor)?void 0:n.value)?r:"",boxShadow:o?`-1px 0 0 0 ${o}`:null}}));return{focus:r,isChecked:o,isDisabled:s,model:a,handleChange:l,activeStyle:d,size:i,ns:u}}}),cT=["name","tabindex","disabled","true-value","false-value"],uT=["name","tabindex","disabled","value"];function dT(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createElementBlock)("label",{class:(0,n.normalizeClass)([e.ns.b("button"),e.ns.bm("button",e.size),e.ns.is("disabled",e.isDisabled),e.ns.is("checked",e.isChecked),e.ns.is("focus",e.focus)])},[e.trueLabel||e.falseLabel?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("input",{key:0,"onUpdate:modelValue":t[0]||(t[0]=t=>e.model=t),class:(0,n.normalizeClass)(e.ns.be("button","original")),type:"checkbox",name:e.name,tabindex:e.tabindex,disabled:e.isDisabled,"true-value":e.trueLabel,"false-value":e.falseLabel,onChange:t[1]||(t[1]=(...t)=>e.handleChange&&e.handleChange(...t)),onFocus:t[2]||(t[2]=t=>e.focus=!0),onBlur:t[3]||(t[3]=t=>e.focus=!1)},null,42,cT)),[[n.vModelCheckbox,e.model]]):(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("input",{key:1,"onUpdate:modelValue":t[4]||(t[4]=t=>e.model=t),class:(0,n.normalizeClass)(e.ns.be("button","original")),type:"checkbox",name:e.name,tabindex:e.tabindex,disabled:e.isDisabled,value:e.label,onChange:t[5]||(t[5]=(...t)=>e.handleChange&&e.handleChange(...t)),onFocus:t[6]||(t[6]=t=>e.focus=!0),onBlur:t[7]||(t[7]=t=>e.focus=!1)},null,42,uT)),[[n.vModelCheckbox,e.model]]),e.$slots.default||e.label?((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:2,class:(0,n.normalizeClass)(e.ns.be("button","inner")),style:(0,n.normalizeStyle)(e.isChecked?e.activeStyle:null)},[(0,n.renderSlot)(e.$slots,"default",{},(()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.label),1)]))],6)):(0,n.createCommentVNode)("v-if",!0)],2)}var pT=r(lT,[["render",dT],["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const hT=(0,n.defineComponent)({name:"ElCheckboxGroup",props:Wk,emits:[Cc,"change"],setup(e,{emit:t,slots:r}){const{elFormItem:o}=Gk(),{groupId:s,isLabeledByFormItem:i}=Kk(e,{elFormItem:o}),a=wc(),l=Qs("checkbox"),c=e=>{t(Cc,e),(0,n.nextTick)((()=>{t("change",e)}))},u=(0,n.computed)({get(){return e.modelValue},set(e){c(e)}});return(0,n.provide)("CheckboxGroup",{name:"ElCheckboxGroup",modelValue:u,...(0,n.toRefs)(e),checkboxGroupSize:a,changeEvent:c}),(0,n.watch)((()=>e.modelValue),(()=>{var e;null==(e=o.validate)||e.call(o,"change").catch((e=>Bn(e)))})),()=>(0,n.h)(e.tag,{id:s.value,class:l.b("group"),role:"group","aria-label":i.value?void 0:e.label||"checkbox-group","aria-labelledby":i.value?o.labelId:void 0},[(0,n.renderSlot)(r,"default")])}});var fT=r(hT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const gT=k(aT,{CheckboxButton:pT,CheckboxGroup:fT}),mT=(x(pT),x(fT),(0,n.defineComponent)({name:"ArrowDown"})),vT={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},bT=(0,n.createElementVNode)("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),yT=[bT];function wT(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",vT,yT)}var ST=ta(mT,[["render",wT]]);const{CheckboxGroup:CT}=gT,_T=(0,n.defineComponent)({name:"ElTableFilterPanel",components:{ElCheckbox:gT,ElCheckboxGroup:CT,ElScrollbar:nu,ElTooltip:ea,ElIcon:Jl,ArrowDown:ST,ArrowUp:fu},directives:{ClickOutside:jf},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(e){const t=(0,n.getCurrentInstance)(),{t:r}=wf(),o=Qs("table-filter"),s=null==t?void 0:t.parent;s.filterPanels.value[e.column.id]||(s.filterPanels.value[e.column.id]=t);const i=(0,n.ref)(!1),a=(0,n.ref)(null),l=(0,n.computed)((()=>e.column&&e.column.filters)),c=(0,n.computed)({get:()=>{var t;return((null==(t=e.column)?void 0:t.filteredValue)||[])[0]},set:e=>{u.value&&("undefined"!==typeof e&&null!==e?u.value.splice(0,1,e):u.value.splice(0,1))}}),u=(0,n.computed)({get(){return e.column&&e.column.filteredValue||[]},set(t){e.column&&e.upDataColumn("filteredValue",t)}}),d=(0,n.computed)((()=>!e.column||e.column.filterMultiple)),p=e=>e.value===c.value,h=()=>{i.value=!1},f=e=>{e.stopPropagation(),i.value=!i.value},g=()=>{i.value=!1},m=()=>{y(u.value),h()},v=()=>{u.value=[],y(u.value),h()},b=e=>{c.value=e,y("undefined"!==typeof e&&null!==e?u.value:[]),h()},y=t=>{e.store.commit("filterChange",{column:e.column,values:t}),e.store.updateAllSelected()};(0,n.watch)(i,(t=>{e.column&&e.upDataColumn("filterOpened",t)}),{immediate:!0});const w=(0,n.computed)((()=>{var e,t;return null==(t=null==(e=a.value)?void 0:e.popperRef)?void 0:t.contentRef}));return{tooltipVisible:i,multiple:d,filteredValue:u,filterValue:c,filters:l,handleConfirm:m,handleReset:v,handleSelect:b,isActive:p,t:r,ns:o,showFilterPanel:f,hideFilterPanel:g,popperPaneRef:w,tooltip:a}}}),ET={key:0},kT=["disabled"],TT=["label","onClick"];function xT(e,t,r,o,s,i){const a=(0,n.resolveComponent)("el-checkbox"),l=(0,n.resolveComponent)("el-checkbox-group"),c=(0,n.resolveComponent)("el-scrollbar"),u=(0,n.resolveComponent)("arrow-up"),d=(0,n.resolveComponent)("arrow-down"),p=(0,n.resolveComponent)("el-icon"),h=(0,n.resolveComponent)("el-tooltip"),f=(0,n.resolveDirective)("click-outside");return(0,n.openBlock)(),(0,n.createBlock)(h,{ref:"tooltip",visible:e.tooltipVisible,"onUpdate:visible":t[5]||(t[5]=t=>e.tooltipVisible=t),offset:0,placement:e.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":e.ns.b(),persistent:""},{content:(0,n.withCtx)((()=>[e.multiple?((0,n.openBlock)(),(0,n.createElementBlock)("div",ET,[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(e.ns.e("content"))},[(0,n.createVNode)(c,{"wrap-class":e.ns.e("wrap")},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(l,{modelValue:e.filteredValue,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filteredValue=t),class:(0,n.normalizeClass)(e.ns.e("checkbox-group"))},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.filters,(e=>((0,n.openBlock)(),(0,n.createBlock)(a,{key:e.value,label:e.value},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.text),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue","class"])])),_:1},8,["wrap-class"])],2),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(e.ns.e("bottom"))},[(0,n.createElementVNode)("button",{class:(0,n.normalizeClass)({[e.ns.is("disabled")]:0===e.filteredValue.length}),disabled:0===e.filteredValue.length,type:"button",onClick:t[1]||(t[1]=(...t)=>e.handleConfirm&&e.handleConfirm(...t))},(0,n.toDisplayString)(e.t("el.table.confirmFilter")),11,kT),(0,n.createElementVNode)("button",{type:"button",onClick:t[2]||(t[2]=(...t)=>e.handleReset&&e.handleReset(...t))},(0,n.toDisplayString)(e.t("el.table.resetFilter")),1)],2)])):((0,n.openBlock)(),(0,n.createElementBlock)("ul",{key:1,class:(0,n.normalizeClass)(e.ns.e("list"))},[(0,n.createElementVNode)("li",{class:(0,n.normalizeClass)([e.ns.e("list-item"),{[e.ns.is("active")]:void 0===e.filterValue||null===e.filterValue}]),onClick:t[3]||(t[3]=t=>e.handleSelect(null))},(0,n.toDisplayString)(e.t("el.table.clearFilter")),3),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.filters,(t=>((0,n.openBlock)(),(0,n.createElementBlock)("li",{key:t.value,class:(0,n.normalizeClass)([e.ns.e("list-item"),e.ns.is("active",e.isActive(t))]),label:t.value,onClick:n=>e.handleSelect(t.value)},(0,n.toDisplayString)(t.text),11,TT)))),128))],2))])),default:(0,n.withCtx)((()=>[(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("span",{class:(0,n.normalizeClass)([`${e.ns.namespace.value}-table__column-filter-trigger`,`${e.ns.namespace.value}-none-outline`]),onClick:t[4]||(t[4]=(...t)=>e.showFilterPanel&&e.showFilterPanel(...t))},[(0,n.createVNode)(p,null,{default:(0,n.withCtx)((()=>[e.column.filterOpened?((0,n.openBlock)(),(0,n.createBlock)(u,{key:0})):((0,n.openBlock)(),(0,n.createBlock)(d,{key:1}))])),_:1})],2)),[[f,e.hideFilterPanel,e.popperPaneRef]])])),_:1},8,["visible","placement","popper-class"])}var RT=r(_T,[["render",xT],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/filter-panel.vue"]]);function AT(e){const t=(0,n.getCurrentInstance)();(0,n.onBeforeMount)((()=>{r.value.addObserver(t)})),(0,n.onMounted)((()=>{o(r.value),s(r.value)})),(0,n.onUpdated)((()=>{o(r.value),s(r.value)})),(0,n.onUnmounted)((()=>{r.value.removeObserver(t)}));const r=(0,n.computed)((()=>{const t=e.layout;if(!t)throw new Error("Can not find table layout.");return t})),o=t=>{var n;const r=(null==(n=e.vnode.el)?void 0:n.querySelectorAll("colgroup > col"))||[];if(!r.length)return;const o=t.getFlattenColumns(),s={};o.forEach((e=>{s[e.id]=e}));for(let e=0,i=r.length;e<i;e++){const t=r[e],n=t.getAttribute("name"),o=s[n];o&&t.setAttribute("width",o.realWidth||o.width)}},s=t=>{var n,r;const o=(null==(n=e.vnode.el)?void 0:n.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let e=0,i=o.length;e<i;e++){const n=o[e];n.setAttribute("width",t.scrollY.value?t.gutterWidth:"0")}const s=(null==(r=e.vnode.el)?void 0:r.querySelectorAll("th.gutter"))||[];for(let e=0,i=s.length;e<i;e++){const n=s[e];n.style.width=t.scrollY.value?`${t.gutterWidth}px`:"0",n.style.display=t.scrollY.value?"":"none"}};return{tableLayout:r.value,onColumnsChange:o,onScrollableChange:s}}const jT=Symbol("ElTable");function IT(e,t){const r=(0,n.getCurrentInstance)(),o=(0,n.inject)(jT),s=e=>{e.stopPropagation()},i=(e,t)=>{!t.filters&&t.sortable?g(e,t,!1):t.filterable&&!t.sortable&&s(e),null==o||o.emit("header-click",t,e)},a=(e,t)=>{null==o||o.emit("header-contextmenu",t,e)},l=(0,n.ref)(null),c=(0,n.ref)(!1),u=(0,n.ref)({}),d=(n,s)=>{if(j&&!(s.children&&s.children.length>0)&&l.value&&e.border){c.value=!0;const i=o;t("set-drag-visible",!0);const a=null==i?void 0:i.vnode.el,d=a.getBoundingClientRect().left,p=r.vnode.el.querySelector(`th.${s.id}`),h=p.getBoundingClientRect(),f=h.left-d+30;ql(p,"noclick"),u.value={startMouseLeft:n.clientX,startLeft:h.right-d,startColumnLeft:h.left-d,tableLeft:d};const g=null==i?void 0:i.refs.resizeProxy;g.style.left=`${u.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const m=e=>{const t=e.clientX-u.value.startMouseLeft,n=u.value.startLeft+t;g.style.left=`${Math.max(f,n)}px`},v=()=>{if(c.value){const{startColumnLeft:r,startLeft:o}=u.value,a=Number.parseInt(g.style.left,10),d=a-r;s.width=s.realWidth=d,null==i||i.emit("header-dragend",s.width,o-r,s,n),requestAnimationFrame((()=>{e.store.scheduleLayout(!1,!0)})),document.body.style.cursor="",c.value=!1,l.value=null,u.value={},t("set-drag-visible",!1)}document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",v),document.onselectstart=null,document.ondragstart=null,setTimeout((()=>{zl(p,"noclick")}),0)};document.addEventListener("mousemove",m),document.addEventListener("mouseup",v)}},p=(t,n)=>{if(n.children&&n.children.length>0)return;let r=t.target;while(r&&"TH"!==r.tagName)r=r.parentNode;if(n&&n.resizable&&!c.value&&e.border){const e=r.getBoundingClientRect(),o=document.body.style;e.width>12&&e.right-t.pageX<8?(o.cursor="col-resize",Fl(r,"is-sortable")&&(r.style.cursor="col-resize"),l.value=n):c.value||(o.cursor="",Fl(r,"is-sortable")&&(r.style.cursor="pointer"),l.value=null)}},h=()=>{j&&(document.body.style.cursor="")},f=({order:e,sortOrders:t})=>{if(""===e)return t[0];const n=t.indexOf(e||null);return t[n>t.length-2?0:n+1]},g=(t,n,r)=>{t.stopPropagation();const s=n.order===r?null:r||f(n);let i=t.target;while(i&&"TH"!==i.tagName)i=i.parentNode;if(i&&"TH"===i.tagName&&Fl(i,"noclick"))return void zl(i,"noclick");if(!n.sortable)return;const a=e.store.states;let l,c=a.sortProp.value;const u=a.sortingColumn.value;(u!==n||u===n&&null===u.order)&&(u&&(u.order=null),a.sortingColumn.value=n,c=n.property),l=n.order=s||null,a.sortProp.value=c,a.sortOrder.value=l,null==o||o.store.commit("changeSortCondition")};return{handleHeaderClick:i,handleHeaderContextMenu:a,handleMouseDown:d,handleMouseMove:p,handleMouseOut:h,handleSortClick:g,handleFilterClick:s}}function NT(e){const t=(0,n.inject)(jT),r=Qs("table"),o=e=>{const n=null==t?void 0:t.props.headerRowStyle;return"function"===typeof n?n.call(null,{rowIndex:e}):n},s=e=>{const n=[],r=null==t?void 0:t.props.headerRowClassName;return"string"===typeof r?n.push(r):"function"===typeof r&&n.push(r.call(null,{rowIndex:e})),n.join(" ")},i=(n,r,o,s)=>{var i;let a=null!=(i=null==t?void 0:t.props.headerCellStyle)?i:{};"function"===typeof a&&(a=a.call(null,{rowIndex:n,columnIndex:r,row:o,column:s}));const l=s.isSubColumn?null:Ak(r,s.fixed,e.store,o);return jk(l,"left"),jk(l,"right"),Object.assign({},a,l)},a=(n,o,s,i)=>{const a=i.isSubColumn?[]:xk(r.b(),o,i.fixed,e.store,s),l=[i.id,i.order,i.headerAlign,i.className,i.labelClassName,...a];i.children||l.push("is-leaf"),i.sortable&&l.push("is-sortable");const c=null==t?void 0:t.props.headerCellClassName;return"string"===typeof c?l.push(c):"function"===typeof c&&l.push(c.call(null,{rowIndex:n,columnIndex:o,row:s,column:i})),l.push(r.e("cell")),l.filter((e=>Boolean(e))).join(" ")};return{getHeaderRowStyle:o,getHeaderRowClass:s,getHeaderCellStyle:i,getHeaderCellClass:a}}const OT=e=>{const t=[];return e.forEach((e=>{e.children?(t.push(e),t.push.apply(t,OT(e.children))):t.push(e)})),t},DT=e=>{let t=1;const n=(e,r)=>{if(r&&(e.level=r.level+1,t<e.level&&(t=e.level)),e.children){let t=0;e.children.forEach((r=>{n(r,e),t+=r.colSpan})),e.colSpan=t}else e.colSpan=1};e.forEach((e=>{e.level=1,n(e,void 0)}));const r=[];for(let s=0;s<t;s++)r.push([]);const o=OT(e);return o.forEach((e=>{e.children?(e.rowSpan=1,e.children.forEach((e=>e.isSubColumn=!0))):e.rowSpan=t-e.level+1,r[e.level-1].push(e)})),r};function PT(e){const t=(0,n.inject)(jT),r=(0,n.computed)((()=>DT(e.store.states.originColumns.value))),o=(0,n.computed)((()=>{const e=r.value.length>1;return e&&t&&(t.state.isGroup.value=!0),e})),s=e=>{e.stopPropagation(),null==t||t.store.commit("toggleAllSelection")};return{isGroup:o,toggleAllSelection:s,columnRows:r}}var MT=(0,n.defineComponent)({name:"ElTableHeader",components:{ElCheckbox:gT},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e,{emit:t}){const r=(0,n.getCurrentInstance)(),o=(0,n.inject)(jT),s=Qs("table"),i=(0,n.ref)({}),{onColumnsChange:a,onScrollableChange:l}=AT(o);(0,n.onMounted)((async()=>{await(0,n.nextTick)(),await(0,n.nextTick)();const{prop:t,order:r}=e.defaultSort;null==o||o.store.commit("sort",{prop:t,order:r,init:!0})}));const{handleHeaderClick:c,handleHeaderContextMenu:u,handleMouseDown:d,handleMouseMove:p,handleMouseOut:h,handleSortClick:f,handleFilterClick:g}=IT(e,t),{getHeaderRowStyle:m,getHeaderRowClass:v,getHeaderCellStyle:b,getHeaderCellClass:y}=NT(e),{isGroup:w,toggleAllSelection:S,columnRows:C}=PT(e);return r.state={onColumnsChange:a,onScrollableChange:l},r.filterPanels=i,{ns:s,filterPanels:i,onColumnsChange:a,onScrollableChange:l,columnRows:C,getHeaderRowClass:v,getHeaderRowStyle:m,getHeaderCellClass:y,getHeaderCellStyle:b,handleHeaderClick:c,handleHeaderContextMenu:u,handleMouseDown:d,handleMouseMove:p,handleMouseOut:h,handleSortClick:f,handleFilterClick:g,isGroup:w,toggleAllSelection:S}},render(){const{ns:e,isGroup:t,columnRows:r,getHeaderCellStyle:o,getHeaderCellClass:s,getHeaderRowClass:i,getHeaderRowStyle:a,handleHeaderClick:l,handleHeaderContextMenu:c,handleMouseDown:u,handleMouseMove:d,handleSortClick:p,handleMouseOut:h,store:f,$parent:g}=this;let m=1;return(0,n.h)("thead",{class:{[e.is("group")]:t}},r.map(((e,t)=>(0,n.h)("tr",{class:i(t),key:t,style:a(t)},e.map(((r,i)=>(r.rowSpan>m&&(m=r.rowSpan),(0,n.h)("th",{class:s(t,i,e,r),colspan:r.colSpan,key:`${r.id}-thead`,rowspan:r.rowSpan,style:o(t,i,e,r),onClick:e=>l(e,r),onContextmenu:e=>c(e,r),onMousedown:e=>u(e,r),onMousemove:e=>d(e,r),onMouseout:h},[(0,n.h)("div",{class:["cell",r.filteredValue&&r.filteredValue.length>0?"highlight":"",r.labelClassName]},[r.renderHeader?r.renderHeader({column:r,$index:i,store:f,_self:g}):r.label,r.sortable&&(0,n.h)("span",{onClick:e=>p(e,r),class:"caret-wrapper"},[(0,n.h)("i",{onClick:e=>p(e,r,"ascending"),class:"sort-caret ascending"}),(0,n.h)("i",{onClick:e=>p(e,r,"descending"),class:"sort-caret descending"})]),r.filterable&&(0,n.h)(RT,{store:f,placement:r.filterPlacement||"bottom-start",column:r,upDataColumn:(e,t)=>{r[e]=t}})])]))))))))}});function LT(e){const t=(0,n.inject)(jT),r=(0,n.ref)(""),o=(0,n.ref)((0,n.h)("div")),s=(n,r,o)=>{var s;const i=t,a=ck(n);let l;const c=null==(s=null==i?void 0:i.vnode.el)?void 0:s.dataset.prefix;a&&(l=fk({columns:e.store.states.columns.value},a,c),l&&(null==i||i.emit(`cell-${o}`,r,l,a,n))),null==i||i.emit(`row-${o}`,r,l,n)},i=(e,t)=>{s(e,t,"dblclick")},a=(t,n)=>{e.store.commit("setCurrentRow",n),s(t,n,"click")},l=(e,t)=>{s(e,t,"contextmenu")},c=gf((t=>{e.store.commit("setHoverRow",t)}),30),u=gf((()=>{e.store.commit("setHoverRow",null)}),30),d=(n,r)=>{var o;const s=t,i=ck(n),a=null==(o=null==s?void 0:s.vnode.el)?void 0:o.dataset.prefix;if(i){const t=fk({columns:e.store.states.columns.value},i,a),o=s.hoverState={cell:i,column:t,row:r};null==s||s.emit("cell-mouse-enter",o.row,o.column,o.cell,n)}const l=n.target.querySelector(".cell");if(!Fl(l,`${a}-tooltip`)||!l.childNodes.length)return;const c=document.createRange();c.setStart(l,0),c.setEnd(l,l.childNodes.length);const u=c.getBoundingClientRect().width,d=(Number.parseInt(Wl(l,"paddingLeft"),10)||0)+(Number.parseInt(Wl(l,"paddingRight"),10)||0);(u+d>l.offsetWidth||l.scrollWidth>l.offsetWidth)&&kk(i,i.innerText||i.textContent,{placement:"top",strategy:"fixed"},r.tooltipEffect)},p=e=>{const n=ck(e);if(!n)return;const r=null==t?void 0:t.hoverState;null==t||t.emit("cell-mouse-leave",null==r?void 0:r.row,null==r?void 0:r.column,null==r?void 0:r.cell,e)};return{handleDoubleClick:i,handleClick:a,handleContextMenu:l,handleMouseEnter:c,handleMouseLeave:u,handleCellMouseEnter:d,handleCellMouseLeave:p,tooltipContent:r,tooltipTrigger:o}}function $T(e){const t=(0,n.inject)(jT),r=Qs("table"),o=(e,n)=>{const r=null==t?void 0:t.props.rowStyle;return"function"===typeof r?r.call(null,{row:e,rowIndex:n}):r||null},s=(n,o)=>{const s=[r.e("row")];(null==t?void 0:t.props.highlightCurrentRow)&&n===e.store.states.currentRow.value&&s.push("current-row"),e.stripe&&o%2===1&&s.push(r.em("row","striped"));const i=null==t?void 0:t.props.rowClassName;return"string"===typeof i?s.push(i):"function"===typeof i&&s.push(i.call(null,{row:n,rowIndex:o})),s},i=(n,r,o,s)=>{const i=null==t?void 0:t.props.cellStyle;let a=null!=i?i:{};"function"===typeof i&&(a=i.call(null,{rowIndex:n,columnIndex:r,row:o,column:s}));const l=s.isSubColumn?null:Ak(r,null==e?void 0:e.fixed,e.store);return jk(l,"left"),jk(l,"right"),Object.assign({},a,l)},a=(n,o,s,i)=>{const a=i.isSubColumn?[]:xk(r.b(),o,null==e?void 0:e.fixed,e.store),l=[i.id,i.align,i.className,...a],c=null==t?void 0:t.props.cellClassName;return"string"===typeof c?l.push(c):"function"===typeof c&&l.push(c.call(null,{rowIndex:n,columnIndex:o,row:s,column:i})),l.push(r.e("cell")),l.filter((e=>Boolean(e))).join(" ")},l=(e,n,r,o)=>{let s=1,i=1;const a=null==t?void 0:t.props.spanMethod;if("function"===typeof a){const t=a({row:e,column:n,rowIndex:r,columnIndex:o});Array.isArray(t)?(s=t[0],i=t[1]):"object"===typeof t&&(s=t.rowspan,i=t.colspan)}return{rowspan:s,colspan:i}},c=(e,t,n)=>{if(t<1)return e[n].realWidth;const r=e.map((({realWidth:e,width:t})=>e||t)).slice(n,n+t);return Number(r.reduce(((e,t)=>Number(e)+Number(t)),-1))};return{getRowStyle:o,getRowClass:s,getCellStyle:i,getCellClass:a,getSpan:l,getColspanRealWidth:c}}function BT(e){const t=(0,n.inject)(jT),{handleDoubleClick:r,handleClick:o,handleContextMenu:s,handleMouseEnter:i,handleMouseLeave:a,handleCellMouseEnter:l,handleCellMouseLeave:c,tooltipContent:u,tooltipTrigger:d}=LT(e),{getRowStyle:p,getRowClass:h,getCellStyle:f,getCellClass:g,getSpan:m,getColspanRealWidth:v}=$T(e),b=(0,n.computed)((()=>e.store.states.columns.value.findIndex((({type:e})=>"default"===e)))),y=(e,n)=>{const r=t.props.rowKey;return r?gk(e,r):n},w=(u,d,w,C=!1)=>{const{tooltipEffect:_,store:E}=e,{indent:k,columns:T}=E.states,x=h(u,d);let R=!0;w&&(x.push(`el-table__row--level-${w.level}`),R=w.display);const A=R?null:{display:"none"};return(0,n.h)("tr",{style:[A,p(u,d)],class:x,key:y(u,d),onDblclick:e=>r(e,u),onClick:e=>o(e,u),onContextmenu:e=>s(e,u),onMouseenter:()=>i(d),onMouseleave:a},T.value.map(((r,o)=>{const{rowspan:s,colspan:i}=m(u,r,d,o);if(!s||!i)return null;const a={...r};a.realWidth=v(T.value,i,o);const p={store:e.store,_self:e.context||t,column:a,row:u,$index:d,cellIndex:o,expanded:C};o===b.value&&w&&(p.treeNode={indent:w.level*k.value,level:w.level},"boolean"===typeof w.expanded&&(p.treeNode.expanded=w.expanded,"loading"in w&&(p.treeNode.loading=w.loading),"noLazyChildren"in w&&(p.treeNode.noLazyChildren=w.noLazyChildren)));const h=`${d},${o}`,y=a.columnKey||a.rawColumnKey||"",E=S(o,r,p);return(0,n.h)("td",{style:f(d,o,u,r),class:g(d,o,u,r),key:`${y}${h}`,rowspan:s,colspan:i,onMouseenter:e=>l(e,{...u,tooltipEffect:_}),onMouseleave:c},[E])})))},S=(e,t,n)=>t.renderCell(n),C=(r,o)=>{const s=e.store,{isRowExpanded:i,assertRowKey:a}=s,{treeData:l,lazyTreeNodeMap:c,childrenColumnName:u,rowKey:d}=s.states,p=s.states.columns.value,h=p.some((({type:e})=>"expand"===e));if(h){const e=i(r),a=w(r,o,void 0,e),l=t.renderExpanded;return e?l?[[a,(0,n.h)("tr",{key:`expanded-row__${a.key}`},[(0,n.h)("td",{colspan:p.length,class:"el-table__cell el-table__expanded-cell"},[l({row:r,$index:o,store:s,expanded:e})])])]]:(console.error("[Element Error]renderExpanded is required."),a):[[a]]}if(Object.keys(l.value).length){a();const e=gk(r,d.value);let t=l.value[e],n=null;t&&(n={expanded:t.expanded,level:t.level,display:!0},"boolean"===typeof t.lazy&&("boolean"===typeof t.loaded&&t.loaded&&(n.noLazyChildren=!(t.children&&t.children.length)),n.loading=t.loading));const s=[w(r,o,n)];if(t){let n=0;const i=(e,r)=>{e&&e.length&&r&&e.forEach((e=>{const a={display:r.display&&r.expanded,level:r.level+1,expanded:!1,noLazyChildren:!1,loading:!1},p=gk(e,d.value);if(void 0===p||null===p)throw new Error("For nested data item, row-key is required.");if(t={...l.value[p]},t&&(a.expanded=t.expanded,t.level=t.level||a.level,t.display=!(!t.expanded||!a.display),"boolean"===typeof t.lazy&&("boolean"===typeof t.loaded&&t.loaded&&(a.noLazyChildren=!(t.children&&t.children.length)),a.loading=t.loading)),n++,s.push(w(e,o+n,a)),t){const n=c.value[p]||e[u.value];i(n,t)}}))};t.display=!0;const a=c.value[e]||r[u.value];i(a,t)}return s}return w(r,o,void 0)};return{wrappedRowRender:C,tooltipContent:u,tooltipTrigger:d}}const HT={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var UT=(0,n.defineComponent)({name:"ElTableBody",props:HT,setup(e){const t=(0,n.getCurrentInstance)(),r=(0,n.inject)(jT),o=Qs("table"),{wrappedRowRender:s,tooltipContent:i,tooltipTrigger:a}=BT(e),{onColumnsChange:l,onScrollableChange:c}=AT(r);return(0,n.watch)(e.store.states.hoverRow,((n,r)=>{if(!e.store.states.isComplex.value||!j)return;let s=window.requestAnimationFrame;s||(s=e=>window.setTimeout(e,16)),s((()=>{var e;const s=null==(e=null==t?void 0:t.vnode.el)?void 0:e.querySelectorAll(`.${o.e("row")}`),i=s[r],a=s[n];i&&zl(i,"hover-row"),a&&ql(a,"hover-row")}))})),(0,n.onUnmounted)((()=>{var e;null==(e=Ek)||e()})),(0,n.onUpdated)((()=>{var e;null==(e=Ek)||e()})),{ns:o,onColumnsChange:l,onScrollableChange:c,wrappedRowRender:s,tooltipContent:i,tooltipTrigger:a}},render(){const{wrappedRowRender:e,store:t}=this,r=t.states.data.value||[];return(0,n.h)("tbody",{},[r.reduce(((t,n)=>t.concat(e(n,t.length))),[])])}});function VT(e){const t="auto"===e.tableLayout;let r=e.columns||[];t&&r.every((e=>void 0===e.width))&&(r=[]);const o=n=>{const r={key:`${e.tableLayout}_${n.id}`,style:{},name:void 0};return t?r.style={width:`${n.width}px`}:r.name=n.id,r};return(0,n.h)("colgroup",{},r.map((e=>(0,n.h)("col",o(e)))))}function FT(){const e=(0,n.inject)(jT),t=null==e?void 0:e.store,r=(0,n.computed)((()=>t.states.fixedLeafColumnsLength.value)),o=(0,n.computed)((()=>t.states.rightFixedColumns.value.length)),s=(0,n.computed)((()=>t.states.columns.value.length)),i=(0,n.computed)((()=>t.states.fixedColumns.value.length)),a=(0,n.computed)((()=>t.states.rightFixedColumns.value.length));return{leftFixedLeafCount:r,rightFixedLeafCount:o,columnsCount:s,leftFixedCount:i,rightFixedCount:a,columns:t.states.columns}}function qT(e){const{columns:t}=FT(),n=Qs("table"),r=(t,r)=>{const o=t[r],s=[n.e("cell"),o.id,o.align,o.labelClassName,...xk(n.b(),r,o.fixed,e.store)];return o.className&&s.push(o.className),o.children||s.push(n.is("leaf")),s},o=(t,n)=>{const r=Ak(n,t.fixed,e.store);return jk(r,"left"),jk(r,"right"),r};return{getCellClasses:r,getCellStyles:o,columns:t}}VT.props=["columns","tableLayout"];var zT=(0,n.defineComponent)({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e){const{getCellClasses:t,getCellStyles:n,columns:r}=qT(e),o=Qs("table");return{ns:o,getCellClasses:t,getCellStyles:n,columns:r}},render(){const{columns:e,getCellStyles:t,getCellClasses:r,summaryMethod:o,sumText:s,ns:i}=this,a=this.store.states.data.value;let l=[];return o?l=o({columns:e,data:a}):e.forEach(((e,t)=>{if(0===t)return void(l[t]=s);const n=a.map((t=>Number(t[e.property]))),r=[];let o=!0;n.forEach((e=>{if(!Number.isNaN(+e)){o=!1;const t=`${e}`.split(".")[1];r.push(t?t.length:0)}}));const i=Math.max.apply(null,r);l[t]=o?"":n.reduce(((e,t)=>{const n=Number(t);return Number.isNaN(+n)?e:Number.parseFloat((e+t).toFixed(Math.min(i,20)))}),0)})),(0,n.h)("table",{class:i.e("footer"),cellspacing:"0",cellpadding:"0",border:"0"},[VT({columns:e}),(0,n.h)("tbody",[(0,n.h)("tr",{},[...e.map(((o,s)=>(0,n.h)("td",{key:s,colspan:o.colSpan,rowspan:o.rowSpan,class:r(e,s),style:t(o,s)},[(0,n.h)("div",{class:["cell",o.labelClassName]},[l[s]])])))])])])}});function WT(e){const t=t=>{e.commit("setCurrentRow",t)},n=()=>e.getSelectionRows(),r=(t,n)=>{e.toggleRowSelection(t,n,!1),e.updateAllSelected()},o=()=>{e.clearSelection()},s=t=>{e.clearFilter(t)},i=()=>{e.commit("toggleAllSelection")},a=(t,n)=>{e.toggleRowExpansionAdapter(t,n)},l=()=>{e.clearSort()},c=(t,n)=>{e.commit("sort",{prop:t,order:n})};return{setCurrentRow:t,getSelectionRows:n,toggleRowSelection:r,clearSelection:o,clearFilter:s,toggleAllSelection:i,toggleRowExpansion:a,clearSort:l,sort:c}}function YT(e,t,r,o){const s=(0,n.ref)(!1),i=(0,n.ref)(null),a=(0,n.ref)(!1),l=e=>{a.value=e},c=(0,n.ref)({width:null,height:null}),u=(0,n.ref)(!1),d={display:"inline-block",verticalAlign:"middle"},p=(0,n.ref)();(0,n.watchEffect)((()=>{t.setHeight(e.height)})),(0,n.watchEffect)((()=>{t.setMaxHeight(e.maxHeight)})),(0,n.watch)((()=>[e.currentRowKey,r.states.rowKey]),(([e,t])=>{(0,n.unref)(t)&&r.setCurrentRowKey(`${e}`)}),{immediate:!0}),(0,n.watch)((()=>e.data),(e=>{o.store.commit("setData",e)}),{immediate:!0,deep:!0}),(0,n.watchEffect)((()=>{e.expandRowKeys&&r.setExpandRowKeysAdapter(e.expandRowKeys)}));const h=()=>{o.store.commit("setHoverRow",null),o.hoverState&&(o.hoverState=null)},g=(e,t)=>{const{pixelX:n,pixelY:r}=t;Math.abs(n)>=Math.abs(r)&&(o.refs.bodyWrapper.scrollLeft+=t.pixelX/5)},m=(0,n.computed)((()=>e.height||e.maxHeight||r.states.fixedColumns.value.length>0||r.states.rightFixedColumns.value.length>0)),v=(0,n.computed)((()=>({width:t.bodyWidth.value?`${t.bodyWidth.value}px`:""}))),b=()=>{m.value&&t.updateElsHeight(),t.updateColumnsWidth(),requestAnimationFrame(C)};(0,n.onMounted)((async()=>{await(0,n.nextTick)(),r.updateColumns(),_(),requestAnimationFrame(b),c.value={width:p.value=o.vnode.el.offsetWidth,height:o.vnode.el.offsetHeight},r.states.columns.value.forEach((e=>{e.filteredValue&&e.filteredValue.length&&o.store.commit("filterChange",{column:e,values:e.filteredValue,silent:!0})})),o.$ready=!0}));const y=(e,n)=>{if(!e)return;const r=Array.from(e.classList).filter((e=>!e.startsWith("is-scrolling-")));r.push(t.scrollX.value?n:"is-scrolling-none"),e.className=r.join(" ")},w=e=>{const{tableWrapper:t}=o.refs;y(t,e)},S=e=>{const{tableWrapper:t}=o.refs;return!(!t||!t.classList.contains(e))},C=function(){if(!o.refs.scrollBarRef)return;if(!t.scrollX.value){const e="is-scrolling-none";return void(S(e)||w(e))}const e=o.refs.scrollBarRef.wrap$;if(!e)return;const{scrollLeft:n,offsetWidth:r,scrollWidth:s}=e,{headerWrapper:i,footerWrapper:a}=o.refs;i&&(i.scrollLeft=n),a&&(a.scrollLeft=n);const l=s-r-1;w(n>=l?"is-scrolling-right":0===n?"is-scrolling-left":"is-scrolling-middle")},_=()=>{var t;o.refs.scrollBarRef&&(null==(t=o.refs.scrollBarRef.wrap$)||t.addEventListener("scroll",C,{passive:!0}),e.fit?_u(o.vnode.el,k):ai(window,"resize",b))};(0,n.onBeforeUnmount)((()=>{E()}));const E=()=>{var t;null==(t=o.refs.scrollBarRef.wrap$)||t.removeEventListener("scroll",C,!0),e.fit?Eu(o.vnode.el,k):li(window,"resize",b)},k=()=>{if(!o.$ready)return;let t=!1;const n=o.vnode.el,{width:r,height:s}=c.value,i=p.value=n.offsetWidth;r!==i&&(t=!0);const a=n.offsetHeight;(e.height||m.value)&&s!==a&&(t=!0),t&&(c.value={width:i,height:a},b())},T=wc(),x=(0,n.computed)((()=>{const{bodyWidth:e,scrollY:n,gutterWidth:r}=t;return e.value?e.value-(n.value?r:0)+"px":""})),R=(0,n.computed)((()=>e.maxHeight?"fixed":e.tableLayout));function A(t,n,r){const o=wk(t),s=e.showHeader?r:0;if(null!==o)return f(o)?`calc(${o} - ${n}px - ${s}px)`:o-n-s}const j=(0,n.computed)((()=>{const n=t.headerHeight.value||0,r=t.bodyHeight.value,o=t.footerHeight.value||0;return e.height?r||void 0:e.maxHeight?A(e.maxHeight,o,n):void 0})),I=(0,n.computed)((()=>{const n=t.headerHeight.value||0,r=t.bodyHeight.value,o=t.footerHeight.value||0;if(e.height)return{height:r?`${r}px`:""};if(e.maxHeight){const t=A(e.maxHeight,o,n);if(null!==t)return{"max-height":`${t}${N(t)?"px":""}`}}return{}})),O=(0,n.computed)((()=>{if(e.data&&e.data.length)return null;let n="100%";return t.appendHeight.value&&(n=`calc(100% - ${t.appendHeight.value}px)`),{width:p.value?`${p.value}px`:"",height:n}})),D=(e,t)=>{const n=o.refs.bodyWrapper;if(Math.abs(t.spinY)>0){const r=n.scrollTop;t.pixelY<0&&0!==r&&e.preventDefault(),t.pixelY>0&&n.scrollHeight-n.clientHeight>r&&e.preventDefault(),n.scrollTop+=Math.ceil(t.pixelY/5)}else n.scrollLeft+=Math.ceil(t.pixelX/5)},P=(0,n.computed)((()=>e.maxHeight?e.showSummary?{bottom:0}:{bottom:t.scrollX.value&&e.data.length?`${t.gutterWidth}px`:""}:e.showSummary?{height:t.tableHeight.value?`${t.tableHeight.value}px`:""}:{height:t.viewportHeight.value?`${t.viewportHeight.value}px`:""})),M=(0,n.computed)((()=>{if(e.height)return{height:t.fixedBodyHeight.value?`${t.fixedBodyHeight.value}px`:""};if(e.maxHeight){let n=wk(e.maxHeight);if("number"===typeof n)return n=t.scrollX.value?n-t.gutterWidth:n,e.showHeader&&(n-=t.headerHeight.value),n-=t.footerHeight.value,{"max-height":`${n}px`}}return{}}));return{isHidden:s,renderExpanded:i,setDragVisible:l,isGroup:u,handleMouseLeave:h,handleHeaderFooterMousewheel:g,tableSize:T,bodyHeight:I,height:j,emptyBlockStyle:O,handleFixedMousewheel:D,fixedHeight:P,fixedBodyHeight:M,resizeProxyVisible:a,bodyWidth:x,resizeState:c,doLayout:b,tableBodyStyles:v,tableLayout:R,scrollbarViewStyle:d}}var GT={data:{type:Array,default:()=>[]},size:String,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:{type:Boolean,default:!1}};const KT=()=>{const e=(0,n.ref)(),t=(t,n)=>{const r=e.value;r&&r.scrollTo(t,n)},r=(t,n)=>{const r=e.value;r&&N(n)&&["Top","Left"].includes(t)&&r[`setScroll${t}`](n)},o=e=>r("Top",e),s=e=>r("Left",e);return{scrollBarRef:e,scrollTo:t,setScrollTop:o,setScrollLeft:s}};var XT,JT,ZT,QT,ex,tx,nx,rx,ox,sx,ix,ax,lx,cx,ux,dx=!1;function px(){if(!dx){dx=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(ax=/\b(iPhone|iP[ao]d)/.exec(e),lx=/\b(iP[ao]d)/.exec(e),sx=/Android/i.exec(e),cx=/FBAN\/\w+;/i.exec(e),ux=/Mobile/i.exec(e),ix=!!/Win64/.exec(e),t){XT=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,XT&&document&&document.documentMode&&(XT=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);tx=r?parseFloat(r[1])+4:XT,JT=t[2]?parseFloat(t[2]):NaN,ZT=t[3]?parseFloat(t[3]):NaN,QT=t[4]?parseFloat(t[4]):NaN,QT?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),ex=t&&t[1]?parseFloat(t[1]):NaN):ex=NaN}else XT=JT=ZT=ex=QT=NaN;if(n){if(n[1]){var o=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);nx=!o||parseFloat(o[1].replace("_","."))}else nx=!1;rx=!!n[2],ox=!!n[3]}else nx=rx=ox=!1}}var hx,fx={ie:function(){return px()||XT},ieCompatibilityMode:function(){return px()||tx>XT},ie64:function(){return fx.ie()&&ix},firefox:function(){return px()||JT},opera:function(){return px()||ZT},webkit:function(){return px()||QT},safari:function(){return fx.webkit()},chrome:function(){return px()||ex},windows:function(){return px()||rx},osx:function(){return px()||nx},linux:function(){return px()||ox},iphone:function(){return px()||ax},mobile:function(){return px()||ax||lx||sx||ux},nativeApp:function(){return px()||cx},android:function(){return px()||sx},ipad:function(){return px()||lx}},gx=fx,mx=!!(typeof window<"u"&&window.document&&window.document.createElement),vx={canUseDOM:mx,canUseWorkers:typeof Worker<"u",canUseEventListeners:mx&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:mx&&!!window.screen,isInWorker:!mx},bx=vx;function yx(e,t){if(!bx.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var o=document.createElement("div");o.setAttribute(n,"return;"),r="function"==typeof o[n]}return!r&&hx&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}bx.canUseDOM&&(hx=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));var wx=yx,Sx=10,Cx=40,_x=800;function Ex(e){var t=0,n=0,r=0,o=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*Sx,o=n*Sx,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||o)&&e.deltaMode&&(1==e.deltaMode?(r*=Cx,o*=Cx):(r*=_x,o*=_x)),r&&!t&&(t=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:o}}Ex.getEventType=function(){return gx.firefox()?"DOMMouseScroll":wx("wheel")?"wheel":"mousewheel"};var kx=Ex;
/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */const Tx=function(e,t){if(e&&e.addEventListener){const n=function(e){const n=kx(e);t&&Reflect.apply(t,this,[e,n])};e.addEventListener("wheel",n,{passive:!0})}},xx={beforeMount(e,t){Tx(e,t.value)}};let Rx=1;const Ax=(0,n.defineComponent)({name:"ElTable",directives:{Mousewheel:xx},components:{TableHeader:MT,TableBody:UT,TableFooter:zT,ElScrollbar:nu,hColgroup:VT},props:GT,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(e){const{t:t}=wf(),r=Qs("table"),o=(0,n.getCurrentInstance)();(0,n.provide)(jT,o);const s=Uk(o,e);o.store=s;const i=new zk({store:o.store,table:o,fit:e.fit,showHeader:e.showHeader});o.layout=i;const a=(0,n.computed)((()=>0===(s.states.data.value||[]).length)),{setCurrentRow:l,getSelectionRows:c,toggleRowSelection:u,clearSelection:d,clearFilter:p,toggleAllSelection:h,toggleRowExpansion:f,clearSort:g,sort:m}=WT(s),{isHidden:v,renderExpanded:b,setDragVisible:y,isGroup:w,handleMouseLeave:S,handleHeaderFooterMousewheel:C,tableSize:_,bodyHeight:E,height:k,emptyBlockStyle:T,handleFixedMousewheel:x,fixedHeight:R,fixedBodyHeight:A,resizeProxyVisible:j,bodyWidth:I,resizeState:N,doLayout:O,tableBodyStyles:D,tableLayout:P,scrollbarViewStyle:M}=YT(e,i,s,o),{scrollBarRef:L,scrollTo:$,setScrollLeft:B,setScrollTop:H}=KT(),U=gf(O,50),V="el-table_"+Rx++;o.tableId=V,o.state={isGroup:w,resizeState:N,doLayout:O,debouncedUpdateLayout:U};const F=(0,n.computed)((()=>e.sumText||t("el.table.sumText"))),q=(0,n.computed)((()=>e.emptyText||t("el.table.emptyText")));return{ns:r,layout:i,store:s,handleHeaderFooterMousewheel:C,handleMouseLeave:S,tableId:V,tableSize:_,isHidden:v,isEmpty:a,renderExpanded:b,resizeProxyVisible:j,resizeState:N,isGroup:w,bodyWidth:I,bodyHeight:E,height:k,tableBodyStyles:D,emptyBlockStyle:T,debouncedUpdateLayout:U,handleFixedMousewheel:x,fixedHeight:R,fixedBodyHeight:A,setCurrentRow:l,getSelectionRows:c,toggleRowSelection:u,clearSelection:d,clearFilter:p,toggleAllSelection:h,toggleRowExpansion:f,clearSort:g,doLayout:O,sort:m,t:t,setDragVisible:y,context:o,computedSumText:F,computedEmptyText:q,tableLayout:P,scrollbarViewStyle:M,scrollBarRef:L,scrollTo:$,setScrollLeft:B,setScrollTop:H}}}),jx=["data-prefix"],Ix={ref:"hiddenColumns",class:"hidden-columns"};function Nx(e,t,r,o,s,i){const a=(0,n.resolveComponent)("hColgroup"),l=(0,n.resolveComponent)("table-header"),c=(0,n.resolveComponent)("table-body"),u=(0,n.resolveComponent)("el-scrollbar"),d=(0,n.resolveComponent)("table-footer"),p=(0,n.resolveDirective)("mousewheel");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{ref:"tableWrapper",class:(0,n.normalizeClass)([{[e.ns.m("fit")]:e.fit,[e.ns.m("striped")]:e.stripe,[e.ns.m("border")]:e.border||e.isGroup,[e.ns.m("hidden")]:e.isHidden,[e.ns.m("group")]:e.isGroup,[e.ns.m("fluid-height")]:e.maxHeight,[e.ns.m("scrollable-x")]:e.layout.scrollX.value,[e.ns.m("scrollable-y")]:e.layout.scrollY.value,[e.ns.m("enable-row-hover")]:!e.store.states.isComplex.value,[e.ns.m("enable-row-transition")]:0!==(e.store.states.data.value||[]).length&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:(0,n.normalizeStyle)(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:t[0]||(t[0]=t=>e.handleMouseLeave())},[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(e.ns.e("inner-wrapper"))},[(0,n.createElementVNode)("div",Ix,[(0,n.renderSlot)(e.$slots,"default")],512),e.showHeader&&"fixed"===e.tableLayout?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,ref:"headerWrapper",class:(0,n.normalizeClass)(e.ns.e("header-wrapper"))},[(0,n.createElementVNode)("table",{ref:"tableHeader",class:(0,n.normalizeClass)(e.ns.e("header")),style:(0,n.normalizeStyle)(e.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[(0,n.createVNode)(a,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),(0,n.createVNode)(l,{ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[p,e.handleHeaderFooterMousewheel]]):(0,n.createCommentVNode)("v-if",!0),(0,n.createElementVNode)("div",{ref:"bodyWrapper",style:(0,n.normalizeStyle)(e.bodyHeight),class:(0,n.normalizeClass)(e.ns.e("body-wrapper"))},[(0,n.createVNode)(u,{ref:"scrollBarRef",height:e.maxHeight?void 0:e.height,"max-height":e.maxHeight?e.height:void 0,"view-style":e.scrollbarViewStyle,always:e.scrollbarAlwaysOn},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("table",{ref:"tableBody",class:(0,n.normalizeClass)(e.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:(0,n.normalizeStyle)({width:e.bodyWidth,tableLayout:e.tableLayout})},[(0,n.createVNode)(a,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),e.showHeader&&"auto"===e.tableLayout?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])):(0,n.createCommentVNode)("v-if",!0),(0,n.createVNode)(c,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","row-style","store","stripe"])],6),e.isEmpty?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,ref:"emptyBlock",style:(0,n.normalizeStyle)(e.emptyBlockStyle),class:(0,n.normalizeClass)(e.ns.e("empty-block"))},[(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)(e.ns.e("empty-text"))},[(0,n.renderSlot)(e.$slots,"empty",{},(()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.computedEmptyText),1)]))],2)],6)):(0,n.createCommentVNode)("v-if",!0),e.$slots.append?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,ref:"appendWrapper",class:(0,n.normalizeClass)(e.ns.e("append-wrapper"))},[(0,n.renderSlot)(e.$slots,"append")],2)):(0,n.createCommentVNode)("v-if",!0)])),_:3},8,["height","max-height","view-style","always"])],6),e.border||e.isGroup?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,class:(0,n.normalizeClass)(e.ns.e("border-left-patch"))},null,2)):(0,n.createCommentVNode)("v-if",!0)],2),e.showSummary?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,ref:"footerWrapper",class:(0,n.normalizeClass)(e.ns.e("footer-wrapper"))},[(0,n.createVNode)(d,{border:e.border,"default-sort":e.defaultSort,store:e.store,style:(0,n.normalizeStyle)(e.tableBodyStyles),"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["border","default-sort","store","style","sum-text","summary-method"])],2)),[[n.vShow,!e.isEmpty],[p,e.handleHeaderFooterMousewheel]]):(0,n.createCommentVNode)("v-if",!0),(0,n.withDirectives)((0,n.createElementVNode)("div",{ref:"resizeProxy",class:(0,n.normalizeClass)(e.ns.e("column-resize-proxy"))},null,2),[[n.vShow,e.resizeProxyVisible]])],46,jx)}var Ox=r(Ax,[["render",Nx],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/table.vue"]]);const Dx={selection:"table-column--selection",expand:"table__expand-column"},Px={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},Mx=e=>Dx[e]||"",Lx={selection:{renderHeader({store:e}){function t(){return e.states.data.value&&0===e.states.data.value.length}return(0,n.h)(gT,{disabled:t(),size:e.states.tableSize.value,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":e.toggleAllSelection,modelValue:e.states.isAllSelected.value})},renderCell({row:e,column:t,store:r,$index:o}){return(0,n.h)(gT,{disabled:!!t.selectable&&!t.selectable.call(null,e,o),size:r.states.tableSize.value,onChange:()=>{r.commit("rowSelectedChanged",e)},onClick:e=>e.stopPropagation(),modelValue:r.isSelected(e)})},sortable:!1,resizable:!1},index:{renderHeader({column:e}){return e.label||"#"},renderCell({column:e,$index:t}){let r=t+1;const o=e.index;return"number"===typeof o?r=t+o:"function"===typeof o&&(r=o(t)),(0,n.h)("div",{},[r])},sortable:!1},expand:{renderHeader({column:e}){return e.label||""},renderCell({row:e,store:t,expanded:r}){const{ns:o}=t,s=[o.e("expand-icon")];r&&s.push(o.em("expand-icon","expanded"));const i=function(n){n.stopPropagation(),t.toggleRowExpansion(e)};return(0,n.h)("div",{class:s,onClick:i},{default:()=>[(0,n.h)(Jl,null,{default:()=>[(0,n.h)(cE)]})]})},sortable:!1,resizable:!1}};function $x({row:e,column:t,$index:n}){var r;const o=t.property,s=o&&Fs(e,o).value;return t&&t.formatter?t.formatter(e,t,s,n):(null==(r=null==s?void 0:s.toString)?void 0:r.call(s))||""}function Bx({row:e,treeNode:t,store:r},o=!1){const{ns:s}=r;if(!t)return o?[(0,n.h)("span",{class:s.e("placeholder")})]:null;const i=[],a=function(t){t.stopPropagation(),r.loadOrToggle(e)};if(t.indent&&i.push((0,n.h)("span",{class:s.e("indent"),style:{"padding-left":`${t.indent}px`}})),"boolean"!==typeof t.expanded||t.noLazyChildren)i.push((0,n.h)("span",{class:s.e("placeholder")}));else{const e=[s.e("expand-icon"),t.expanded?s.em("expand-icon","expanded"):""];let r=cE;t.loading&&(r=La),i.push((0,n.h)("div",{class:e,onClick:a},{default:()=>[(0,n.h)(Jl,{class:{[s.is("loading")]:t.loading}},{default:()=>[(0,n.h)(r)]})]}))}return i}function Hx(e,t){return e.reduce(((e,t)=>(e[t]=t,e)),t)}function Ux(e,t){const r=(0,n.getCurrentInstance)(),o=()=>{const o=["fixed"],s={realWidth:"width",realMinWidth:"minWidth"},i=Hx(o,s);Object.keys(i).forEach((o=>{const i=s[o];d(t,i)&&(0,n.watch)((()=>t[i]),(t=>{let n=t;"width"===i&&"realWidth"===o&&(n=bk(t)),"minWidth"===i&&"realMinWidth"===o&&(n=yk(t)),r.columnConfig.value[i]=n,r.columnConfig.value[o]=n;const s="fixed"===i;e.value.store.scheduleLayout(s)}))}))},s=()=>{const e=["label","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"],o={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},s=Hx(e,o);Object.keys(s).forEach((e=>{const s=o[e];d(t,s)&&(0,n.watch)((()=>t[s]),(t=>{r.columnConfig.value[e]=t}))}))};return{registerComplexWatchers:o,registerNormalWatchers:s}}function Vx(e,t,r){const o=(0,n.getCurrentInstance)(),s=(0,n.ref)(""),i=(0,n.ref)(!1),a=(0,n.ref)(),l=(0,n.ref)(),c=Qs("table");(0,n.watchEffect)((()=>{a.value=e.align?`is-${e.align}`:null,a.value})),(0,n.watchEffect)((()=>{l.value=e.headerAlign?`is-${e.headerAlign}`:a.value,l.value}));const u=(0,n.computed)((()=>{let e=o.vnode.vParent||o.parent;while(e&&!e.tableId&&!e.columnId)e=e.vnode.vParent||e.parent;return e})),d=(0,n.computed)((()=>{const{store:e}=o.parent;if(!e)return!1;const{treeData:t}=e.states,n=t.value;return n&&Object.keys(n).length>0})),p=(0,n.ref)(bk(e.width)),h=(0,n.ref)(yk(e.minWidth)),f=e=>(p.value&&(e.width=p.value),h.value&&(e.minWidth=h.value),e.minWidth||(e.minWidth=80),e.realWidth=Number(void 0===e.width?e.minWidth:e.width),e),g=e=>{const t=e.type,r=Lx[t]||{};Object.keys(r).forEach((t=>{const n=r[t];"className"!==t&&void 0!==n&&(e[t]=n)}));const o=Mx(t);if(o){const t=`${(0,n.unref)(c.namespace)}-${o}`;e.className=e.className?`${e.className} ${t}`:t}return e},m=e=>{function t(e){var t;"ElTableColumn"===(null==(t=null==e?void 0:e.type)?void 0:t.name)&&(e.vParent=o)}Array.isArray(e)?e.forEach((e=>t(e))):t(e)},v=s=>{e.renderHeader?Bn("TableColumn","Comparing to render-header, scoped-slot header is easier to use. We recommend users to use scoped-slot header."):"selection"!==s.type&&(s.renderHeader=e=>{o.columnConfig.value["label"];const n=t.header;return n?n(e):s.label});let i=s.renderCell;const a=d.value;return"expand"===s.type?(s.renderCell=e=>(0,n.h)("div",{class:"cell"},[i(e)]),r.value.renderExpanded=e=>t.default?t.default(e):t.default):(i=i||$x,s.renderCell=e=>{let r=null;if(t.default){const o=t.default(e);r=o.some((e=>e.type!==n.Comment))?o:i(e)}else r=i(e);const o=a&&0===e.cellIndex,l=Bx(e,o),u={class:"cell",style:{}};return s.showOverflowTooltip&&(u.class=`${u.class} ${(0,n.unref)(c.namespace)}-tooltip`,u.style={width:(e.column.realWidth||Number(e.column.width))-1+"px"}),m(r),(0,n.h)("div",u,[l,r])}),s},b=(...t)=>t.reduce(((t,n)=>(Array.isArray(n)&&n.forEach((n=>{t[n]=e[n]})),t)),{}),y=(e,t)=>Array.prototype.indexOf.call(e,t);return{columnId:s,realAlign:a,isSubColumn:i,realHeaderAlign:l,columnOrTableParent:u,setColumnWidth:f,setColumnForcedProps:g,setColumnRenders:v,getPropsData:b,getColumnElIndex:y}}var Fx={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every((e=>["ascending","descending",null].includes(e)))}};let qx=1;var zx=(0,n.defineComponent)({name:"ElTableColumn",components:{ElCheckbox:gT},props:Fx,setup(e,{slots:t}){const r=(0,n.getCurrentInstance)(),o=(0,n.ref)({}),s=(0,n.computed)((()=>{let e=r.parent;while(e&&!e.tableId)e=e.parent;return e})),{registerNormalWatchers:i,registerComplexWatchers:a}=Ux(s,e),{columnId:l,isSubColumn:c,realHeaderAlign:u,columnOrTableParent:d,setColumnWidth:p,setColumnForcedProps:h,setColumnRenders:f,getPropsData:g,getColumnElIndex:m,realAlign:v}=Vx(e,t,s),b=d.value;l.value=`${b.tableId||b.columnId}_column_${qx++}`,(0,n.onBeforeMount)((()=>{c.value=s.value!==b;const t=e.type||"default",n=""===e.sortable||e.sortable,d={...Px[t],id:l.value,type:t,property:e.prop||e.property,align:v,headerAlign:u,showOverflowTooltip:e.showOverflowTooltip||e.showTooltipWhenOverflow,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:n,index:e.index,rawColumnKey:r.vnode.key},m=["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],y=["sortMethod","sortBy","sortOrders"],w=["selectable","reserveSelection"],S=["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"];let C=g(m,y,w,S);C=vk(d,C);const _=Sk(f,p,h);C=_(C),o.value=C,i(),a()})),(0,n.onMounted)((()=>{var e;const t=d.value,n=c.value?t.vnode.el.children:null==(e=t.refs.hiddenColumns)?void 0:e.children,i=()=>m(n||[],r.vnode.el);o.value.getColumnIndex=i;const a=i();a>-1&&s.value.store.commit("insertColumn",o.value,c.value?t.columnConfig.value:null)})),(0,n.onBeforeUnmount)((()=>{s.value.store.commit("removeColumn",o.value,c.value?b.columnConfig.value:null)})),r.columnId=l.value,r.columnConfig=o},render(){var e,t,r;try{const o=null==(t=(e=this.$slots).default)?void 0:t.call(e,{row:{},column:{},$index:-1}),s=[];if(Array.isArray(o))for(const e of o)"ElTableColumn"===(null==(r=e.type)?void 0:r.name)||2&e.shapeFlag?s.push(e):e.type===n.Fragment&&Array.isArray(e.children)&&e.children.forEach((e=>{1024===(null==e?void 0:e.patchFlag)||f(null==e?void 0:e.children)||s.push(e)}));const i=(0,n.h)("div",s);return i}catch(o){return(0,n.h)("div",[])}}});const Wx=k(Ox,{TableColumn:zx}),Yx=x(zx),Gx={class:"page-table"};function Kx(e,t,r,o,s,i){const a=Wx,l=ak,c=z_;return(0,n.openBlock)(),(0,n.createElementBlock)("div",Gx,[(0,n.createVNode)(c,{locale:o.locale},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(a,{ref:"tableRef",data:r.tableData,style:{width:"100%"},"scrollbar-always-on":"",size:"large","header-row-class-name":"page-table-header",onSelectionChange:o.handleSelectionChange,"row-key":r.rowKey,"max-height":1==r.tableHeight?400:"100%"},{default:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"default",{},void 0,!0)])),_:3},8,["data","onSelectionChange","row-key","max-height"]),(0,n.createVNode)(l,{class:"nx-cc-pagination",background:"","current-page":r.currentPage,"page-sizes":r.pageSizes,"page-size":r.pageSize,layout:r.layout,total:r.total,onSizeChange:o.handleSizeChange,onCurrentChange:o.handleCurrentChange},null,8,["current-page","page-sizes","page-size","layout","total","onSizeChange","onCurrentChange"])])),_:3},8,["locale"])])}
/*! Element Plus v2.2.0 */
var Xx={name:"zh-cn",el:{colorpicker:{confirm:"确定",clear:"清空"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页",deprecationWarning:"你使用了一些已被废弃的用法，请参考 el-pagination 的官方文档"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"}}},Jx={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}},Zx={props:{tableData:Array,currentPage:{type:Number,default:0},pageSizes:{type:Array,default(){return[10,20,30,40]}},pageSize:{type:Number,default(){return 10}},layout:{type:String,default(){return"total, prev, pager, next, sizes"}},total:{type:Number,default(){return 0}},rowKey:{type:Function},tableHeight:{type:Number,default(){return 0}}},setup(e,t){const r=(0,n.ref)("en"),o=(0,n.computed)((()=>"zh-cn"===r.value?Xx:Jx));(0,n.onMounted)((()=>{r.value="zh-CN"==py.get("locale")?"zh-cn":"en"})),(0,n.watch)((()=>[py.get("locale")]),(e=>{r.value="zh"==e[0]?"zh-cn":"en"}));const s=(0,n.ref)(null),i=e=>{t.emit("sizeChange",e)},a=e=>{t.emit("pageChange",e)},l=e=>{t.emit("selectionChange",e)},c=()=>{s.value.clearSelection()};return{tableRef:s,handleSizeChange:i,handleCurrentChange:a,handleSelectionChange:l,clearSelection:c,locale:o}}};const Qx=(0,nS.Z)(Zx,[["render",Kx],["__scopeId","data-v-4c4a3aee"]]);var eR=Qx;const tR=oe({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},icon:{type:Za,default:""}}),nR={click:e=>e instanceof MouseEvent},rR=["href"],oR={name:"ElLink"},sR=(0,n.defineComponent)({...oR,props:tR,emits:nR,setup(e,{emit:t}){const r=e,o=Qs("link");function s(e){r.disabled||t("click",e)}return(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("a",{class:(0,n.normalizeClass)([(0,n.unref)(o).b(),(0,n.unref)(o).m(e.type),(0,n.unref)(o).is("disabled",e.disabled),(0,n.unref)(o).is("underline",e.underline&&!e.disabled)]),href:e.disabled||!e.href?void 0:e.href,onClick:s},[e.icon?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(Jl),{key:0},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(e.icon)))])),_:1})):(0,n.createCommentVNode)("v-if",!0),e.$slots.default?((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:1,class:(0,n.normalizeClass)((0,n.unref)(o).e("inner"))},[(0,n.renderSlot)(e.$slots,"default")],2)):(0,n.createCommentVNode)("v-if",!0),e.$slots.icon?(0,n.renderSlot)(e.$slots,"icon",{key:2}):(0,n.createCommentVNode)("v-if",!0)],10,rR))}});var iR=r(sR,[["__file","/home/runner/work/element-plus/element-plus/packages/components/link/src/link.vue"]]);const aR=k(iR),lR=oe({model:Object,rules:{type:se(Object)},labelPosition:String,labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:{type:String,values:vc},disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean}),cR={validate:(e,t,n)=>(p(e)||f(e))&&I(t)&&f(n)};function uR(){if(!arguments.length)return[];var e=arguments[0];return Un(e)?e:[e]}var dR=uR;const pR="ElForm";function hR(){const e=(0,n.ref)([]),t=(0,n.computed)((()=>{if(!e.value.length)return"0";const t=Math.max(...e.value);return t?`${t}px`:""}));function r(t){const n=e.value.indexOf(t);return-1===n&&Bn(pR,`unexpected width ${t}`),n}function o(t,n){if(t&&n){const o=r(n);e.value.splice(o,1,t)}else t&&e.value.push(t)}function s(t){const n=r(t);n>-1&&e.value.splice(n,1)}return{autoLabelWidth:t,registerLabelWidth:o,deregisterLabelWidth:s}}const fR=(e,t)=>{const n=dR(t);return n.length>0?e.filter((e=>e.prop&&n.includes(e.prop))):e},gR={name:"ElForm"},mR=(0,n.defineComponent)({...gR,props:lR,emits:cR,setup(e,{expose:t,emit:r}){const o=e,s="ElForm",i=[],a=wc(),l=Qs("form"),c=(0,n.computed)((()=>{const{labelPosition:e,inline:t}=o;return[l.b(),l.m(a.value||"default"),{[l.m(`label-${e}`)]:e,[l.m("inline")]:t}]})),u=e=>{i.push(e)},d=e=>{e.prop&&i.splice(i.indexOf(e),1)},p=(e=[])=>{o.model?fR(i,e).forEach((e=>e.resetField())):Bn(s,"model is required for resetFields to work.")},f=(e=[])=>{fR(i,e).forEach((e=>e.clearValidate()))},g=(0,n.computed)((()=>{const e=!!o.model;return e||Bn(s,"model is required for validate to work."),e})),m=e=>{if(0===i.length)return[];const t=fR(i,e);return t.length?t:(Bn(s,"please pass correct props!"),[])},v=async e=>y(void 0,e),b=async(e=[])=>{if(!g.value)return!1;const t=m(e);if(0===t.length)return!0;let n={};for(const o of t)try{await o.validate("")}catch(r){n={...n,...r}}return 0===Object.keys(n).length||Promise.reject(n)},y=async(e=[],t)=>{const n=!h(t);try{const n=await b(e);return!0===n&&(null==t||t(n)),n}catch(r){const e=r;return o.scrollToError&&w(Object.keys(e)[0]),null==t||t(!1,e),n&&Promise.reject(e)}},w=e=>{var t;const n=fR(i,e)[0];n&&(null==(t=n.$el)||t.scrollIntoView())};return(0,n.watch)((()=>o.rules),(()=>{o.validateOnRuleChange&&v()}),{deep:!0}),(0,n.provide)(Dn,(0,n.reactive)({...(0,n.toRefs)(o),emit:r,resetFields:p,clearValidate:f,validateField:y,addField:u,removeField:d,...hR()})),t({validate:v,validateField:y,resetFields:p,clearValidate:f,scrollToField:w}),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("form",{class:(0,n.normalizeClass)((0,n.unref)(c))},[(0,n.renderSlot)(e.$slots,"default")],2))}});var vR=r(mR,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function bR(){return bR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bR.apply(this,arguments)}function yR(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,SR(e,t)}function wR(e){return wR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wR(e)}function SR(e,t){return SR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},SR(e,t)}function CR(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _R(e,t,n){return _R=CR()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=Function.bind.apply(e,r),s=new o;return n&&SR(s,n.prototype),s},_R.apply(null,arguments)}function ER(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function kR(e){var t="function"===typeof Map?new Map:void 0;return kR=function(e){if(null===e||!ER(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _R(e,arguments,wR(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),SR(n,e)},kR(e)}var TR=/%[sdj%]/g,xR=function(){};function RR(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function AR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,s=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var i=e.replace(TR,(function(e){if("%%"===e)return"%";if(o>=s)return e;switch(e){case"%s":return String(n[o++]);case"%d":return Number(n[o++]);case"%j":try{return JSON.stringify(n[o++])}catch(fx){return"[Circular]"}break;default:return e}}));return i}return e}function jR(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}function IR(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!jR(t)||"string"!==typeof e||e))}function NR(e,t,n){var r=[],o=0,s=e.length;function i(e){r.push.apply(r,e||[]),o++,o===s&&n(r)}e.forEach((function(e){t(e,i)}))}function OR(e,t,n){var r=0,o=e.length;function s(i){if(i&&i.length)n(i);else{var a=r;r+=1,a<o?t(e[a],s):n([])}}s([])}function DR(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}var PR=function(e){function t(t,n){var r;return r=e.call(this,"Async Validation Error")||this,r.errors=t,r.fields=n,r}return yR(t,e),t}(kR(Error));function MR(e,t,n,r,o){if(t.first){var s=new Promise((function(t,s){var i=function(e){return r(e),e.length?s(new PR(e,RR(e))):t(o)},a=DR(e);OR(a,n,i)}));return s["catch"]((function(e){return e})),s}var i=!0===t.firstFields?Object.keys(e):t.firstFields||[],a=Object.keys(e),l=a.length,c=0,u=[],d=new Promise((function(t,s){var d=function(e){if(u.push.apply(u,e),c++,c===l)return r(u),u.length?s(new PR(u,RR(u))):t(o)};a.length||(r(u),t(o)),a.forEach((function(t){var r=e[t];-1!==i.indexOf(t)?OR(r,n,d):NR(r,n,d)}))}));return d["catch"]((function(e){return e})),d}function LR(e){return!(!e||void 0===e.message)}function $R(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}function BR(e,t){return function(n){var r;return r=e.fullFields?$R(t,e.fullFields):t[n.field||e.fullField],LR(n)?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function HR(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===typeof r&&"object"===typeof e[n]?e[n]=bR({},e[n],r):e[n]=r}return e}var UR,VR=function(e,t,n,r,o,s){!e.required||n.hasOwnProperty(e.field)&&!IR(t,s||e.type)||r.push(AR(o.messages.required,e.fullField))},FR=function(e,t,n,r,o){(/^\s+$/.test(t)||""===t)&&r.push(AR(o.messages.whitespace,e.fullField))},qR=function(){if(UR)return UR;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",o=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+n+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),s=new RegExp("(?:^"+n+"$)|(?:^"+o+"$)"),i=new RegExp("^"+n+"$"),a=new RegExp("^"+o+"$"),l=function(e){return e&&e.exact?s:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+o+t(e)+")","g")};l.v4=function(e){return e&&e.exact?i:new RegExp(""+t(e)+n+t(e),"g")},l.v6=function(e){return e&&e.exact?a:new RegExp(""+t(e)+o+t(e),"g")};var c="(?:(?:[a-z]+:)?//)",u="(?:\\S+(?::\\S*)?@)?",d=l.v4().source,p=l.v6().source,h="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",f="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",g="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",m="(?::\\d{2,5})?",v='(?:[/?#][^\\s"]*)?',b="(?:"+c+"|www\\.)"+u+"(?:localhost|"+d+"|"+p+"|"+h+f+g+")"+m+v;return UR=new RegExp("(?:^"+b+"$)","i"),UR},zR={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},WR={integer:function(e){return WR.number(e)&&parseInt(e,10)===e},float:function(e){return WR.number(e)&&!WR.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!WR.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(zR.email)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(qR())},hex:function(e){return"string"===typeof e&&!!e.match(zR.hex)}},YR=function(e,t,n,r,o){if(e.required&&void 0===t)VR(e,t,n,r,o);else{var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],i=e.type;s.indexOf(i)>-1?WR[i](t)||r.push(AR(o.messages.types[i],e.fullField,e.type)):i&&typeof t!==e.type&&r.push(AR(o.messages.types[i],e.fullField,e.type))}},GR=function(e,t,n,r,o){var s="number"===typeof e.len,i="number"===typeof e.min,a="number"===typeof e.max,l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=t,u=null,d="number"===typeof t,p="string"===typeof t,h=Array.isArray(t);if(d?u="number":p?u="string":h&&(u="array"),!u)return!1;h&&(c=t.length),p&&(c=t.replace(l,"_").length),s?c!==e.len&&r.push(AR(o.messages[u].len,e.fullField,e.len)):i&&!a&&c<e.min?r.push(AR(o.messages[u].min,e.fullField,e.min)):a&&!i&&c>e.max?r.push(AR(o.messages[u].max,e.fullField,e.max)):i&&a&&(c<e.min||c>e.max)&&r.push(AR(o.messages[u].range,e.fullField,e.min,e.max))},KR="enum",XR=function(e,t,n,r,o){e[KR]=Array.isArray(e[KR])?e[KR]:[],-1===e[KR].indexOf(t)&&r.push(AR(o.messages[KR],e.fullField,e[KR].join(", ")))},JR=function(e,t,n,r,o){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(AR(o.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){var s=new RegExp(e.pattern);s.test(t)||r.push(AR(o.messages.pattern.mismatch,e.fullField,t,e.pattern))}},ZR={required:VR,whitespace:FR,type:YR,range:GR,enum:XR,pattern:JR},QR=function(e,t,n,r,o){var s=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(IR(t,"string")&&!e.required)return n();ZR.required(e,t,r,s,o,"string"),IR(t,"string")||(ZR.type(e,t,r,s,o),ZR.range(e,t,r,s,o),ZR.pattern(e,t,r,s,o),!0===e.whitespace&&ZR.whitespace(e,t,r,s,o))}n(s)},eA=function(e,t,n,r,o){var s=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(IR(t)&&!e.required)return n();ZR.required(e,t,r,s,o),void 0!==t&&ZR.type(e,t,r,s,o)}n(s)},tA=function(e,t,n,r,o){var s=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(""===t&&(t=void 0),IR(t)&&!e.required)return n();ZR.required(e,t,r,s,o),void 0!==t&&(ZR.type(e,t,r,s,o),ZR.range(e,t,r,s,o))}n(s)},nA=function(e,t,n,r,o){var s=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(IR(t)&&!e.required)return n();ZR.required(e,t,r,s,o),void 0!==t&&ZR.type(e,t,r,s,o)}n(s)},rA=function(e,t,n,r,o){var s=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(IR(t)&&!e.required)return n();ZR.required(e,t,r,s,o),IR(t)||ZR.type(e,t,r,s,o)}n(s)},oA=function(e,t,n,r,o){var s=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(IR(t)&&!e.required)return n();ZR.required(e,t,r,s,o),void 0!==t&&(ZR.type(e,t,r,s,o),ZR.range(e,t,r,s,o))}n(s)},sA=function(e,t,n,r,o){var s=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(IR(t)&&!e.required)return n();ZR.required(e,t,r,s,o),void 0!==t&&(ZR.type(e,t,r,s,o),ZR.range(e,t,r,s,o))}n(s)},iA=function(e,t,n,r,o){var s=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if((void 0===t||null===t)&&!e.required)return n();ZR.required(e,t,r,s,o,"array"),void 0!==t&&null!==t&&(ZR.type(e,t,r,s,o),ZR.range(e,t,r,s,o))}n(s)},aA=function(e,t,n,r,o){var s=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(IR(t)&&!e.required)return n();ZR.required(e,t,r,s,o),void 0!==t&&ZR.type(e,t,r,s,o)}n(s)},lA="enum",cA=function(e,t,n,r,o){var s=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(IR(t)&&!e.required)return n();ZR.required(e,t,r,s,o),void 0!==t&&ZR[lA](e,t,r,s,o)}n(s)},uA=function(e,t,n,r,o){var s=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(IR(t,"string")&&!e.required)return n();ZR.required(e,t,r,s,o),IR(t,"string")||ZR.pattern(e,t,r,s,o)}n(s)},dA=function(e,t,n,r,o){var s=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(IR(t,"date")&&!e.required)return n();var a;if(ZR.required(e,t,r,s,o),!IR(t,"date"))a=t instanceof Date?t:new Date(t),ZR.type(e,a,r,s,o),a&&ZR.range(e,a.getTime(),r,s,o)}n(s)},pA=function(e,t,n,r,o){var s=[],i=Array.isArray(t)?"array":typeof t;ZR.required(e,t,r,s,o,i),n(s)},hA=function(e,t,n,r,o){var s=e.type,i=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(IR(t,s)&&!e.required)return n();ZR.required(e,t,r,i,o,s),IR(t,s)||ZR.type(e,t,r,i,o)}n(i)},fA=function(e,t,n,r,o){var s=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(IR(t)&&!e.required)return n();ZR.required(e,t,r,s,o)}n(s)},gA={string:QR,method:eA,number:tA,boolean:nA,regexp:rA,integer:oA,float:sA,array:iA,object:aA,enum:cA,pattern:uA,date:dA,url:hA,hex:hA,email:hA,required:pA,any:fA};function mA(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var vA=mA(),bA=function(){function e(e){this.rules=null,this._messages=vA,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=HR(mA(),e)),this._messages},t.validate=function(t,n,r){var o=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var s=t,i=n,a=r;if("function"===typeof i&&(a=i,i={}),!this.rules||0===Object.keys(this.rules).length)return a&&a(null,s),Promise.resolve(s);function l(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var o=0;o<e.length;o++)r(e[o]);t.length?(n=RR(t),a(t,n)):a(null,s)}if(i.messages){var c=this.messages();c===vA&&(c=mA()),HR(c,i.messages),i.messages=c}else i.messages=this.messages();var u={},d=i.keys||Object.keys(this.rules);d.forEach((function(e){var n=o.rules[e],r=s[e];n.forEach((function(n){var i=n;"function"===typeof i.transform&&(s===t&&(s=bR({},s)),r=s[e]=i.transform(r)),i="function"===typeof i?{validator:i}:bR({},i),i.validator=o.getValidationMethod(i),i.validator&&(i.field=e,i.fullField=i.fullField||e,i.type=o.getType(i),u[e]=u[e]||[],u[e].push({rule:i,value:r,source:s,field:e}))}))}));var p={};return MR(u,i,(function(t,n){var r,o=t.rule,a=("object"===o.type||"array"===o.type)&&("object"===typeof o.fields||"object"===typeof o.defaultField);function l(e,t){return bR({},t,{fullField:o.fullField+"."+e,fullFields:o.fullFields?[].concat(o.fullFields,[e]):[e]})}function c(r){void 0===r&&(r=[]);var c=Array.isArray(r)?r:[r];!i.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==o.message&&(c=[].concat(o.message));var u=c.map(BR(o,s));if(i.first&&u.length)return p[o.field]=1,n(u);if(a){if(o.required&&!t.value)return void 0!==o.message?u=[].concat(o.message).map(BR(o,s)):i.error&&(u=[i.error(o,AR(i.messages.required,o.field))]),n(u);var d={};o.defaultField&&Object.keys(t.value).map((function(e){d[e]=o.defaultField})),d=bR({},d,t.rule.fields);var h={};Object.keys(d).forEach((function(e){var t=d[e],n=Array.isArray(t)?t:[t];h[e]=n.map(l.bind(null,e))}));var f=new e(h);f.messages(i.messages),t.rule.options&&(t.rule.options.messages=i.messages,t.rule.options.error=i.error),f.validate(t.value,t.rule.options||i,(function(e){var t=[];u&&u.length&&t.push.apply(t,u),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(u)}if(a=a&&(o.required||!o.required&&t.value),o.field=t.field,o.asyncValidator)r=o.asyncValidator(o,t.value,c,t.source,i);else if(o.validator){try{r=o.validator(o,t.value,c,t.source,i)}catch(u){null==console.error||console.error(u),i.suppressValidatorError||setTimeout((function(){throw u}),0),c(u.message)}!0===r?c():!1===r?c("function"===typeof o.message?o.message(o.fullField||o.field):o.message||(o.fullField||o.field)+" fails"):r instanceof Array?c(r):r instanceof Error&&c(r.message)}r&&r.then&&r.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){l(e)}),s)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!gA.hasOwnProperty(e.type))throw new Error(AR("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?gA.required:gA[this.getType(e)]||void 0},e}();function yA(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(!1===t(e[n],n,e))break;return e}bA.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");gA[e]=t},bA.warning=xR,bA.messages=vA,bA.validators=gA;var wA=yA;function SA(e,t,n,r){var o=!n;n||(n={});var s=-1,i=t.length;while(++s<i){var a=t[s],l=r?r(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),o?As(n,a,l):Os(n,a,l)}return n}var CA=SA;function _A(e,t){return e&&CA(t,lh(t),e)}var EA=_A;function kA(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}var TA=kA,xA=Object.prototype,RA=xA.hasOwnProperty;function AA(e){if(!wr(e))return TA(e);var t=Xp(e),n=[];for(var r in e)("constructor"!=r||!t&&RA.call(e,r))&&n.push(r);return n}var jA=AA;function IA(e){return ih(e)?Yp(e,!0):jA(e)}var NA=IA;function OA(e,t){return e&&CA(t,NA(t),e)}var DA=OA,PA="object"==typeof exports&&exports&&!exports.nodeType&&exports,MA=PA&&"object"==typeof module&&module&&!module.nodeType&&module,LA=MA&&MA.exports===PA,$A=LA?Wn.Buffer:void 0,BA=$A?$A.allocUnsafe:void 0;function HA(e,t){if(t)return e.slice();var n=e.length,r=BA?BA(n):new e.constructor(n);return e.copy(r),r}var UA=HA;function VA(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}var FA=VA;function qA(e,t){return CA(e,Ld(e),t)}var zA=qA,WA=Zp(Object.getPrototypeOf,Object),YA=WA,GA=Object.getOwnPropertySymbols,KA=GA?function(e){var t=[];while(e)Td(t,Ld(e)),e=YA(e);return t}:Nd,XA=KA;function JA(e,t){return CA(e,XA(e),t)}var ZA=JA;function QA(e){return Rd(e,NA,XA)}var ej=QA,tj=Object.prototype,nj=tj.hasOwnProperty;function rj(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&nj.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var oj=rj;function sj(e){var t=new e.constructor(e.byteLength);return new rd(t).set(new rd(e)),t}var ij=sj;function aj(e,t){var n=t?ij(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var lj=aj,cj=/\w*$/;function uj(e){var t=new e.constructor(e.source,cj.exec(e));return t.lastIndex=e.lastIndex,t}var dj=uj,pj=Gn?Gn.prototype:void 0,hj=pj?pj.valueOf:void 0;function fj(e){return hj?Object(hj.call(e)):{}}var gj=fj;function mj(e,t){var n=t?ij(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var vj=mj,bj="[object Boolean]",yj="[object Date]",wj="[object Map]",Sj="[object Number]",Cj="[object RegExp]",_j="[object Set]",Ej="[object String]",kj="[object Symbol]",Tj="[object ArrayBuffer]",xj="[object DataView]",Rj="[object Float32Array]",Aj="[object Float64Array]",jj="[object Int8Array]",Ij="[object Int16Array]",Nj="[object Int32Array]",Oj="[object Uint8Array]",Dj="[object Uint8ClampedArray]",Pj="[object Uint16Array]",Mj="[object Uint32Array]";function Lj(e,t,n){var r=e.constructor;switch(t){case Tj:return ij(e);case bj:case yj:return new r(+e);case xj:return lj(e,n);case Rj:case Aj:case jj:case Ij:case Nj:case Oj:case Dj:case Pj:case Mj:return vj(e,n);case wj:return new r;case Sj:case Ej:return new r(e);case Cj:return dj(e);case _j:return new r;case kj:return gj(e)}}var $j=Lj,Bj=Object.create,Hj=function(){function e(){}return function(t){if(!wr(t))return{};if(Bj)return Bj(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Uj=Hj;function Vj(e){return"function"!=typeof e.constructor||Xp(e)?{}:Uj(YA(e))}var Fj=Vj,qj="[object Map]";function zj(e){return dr(e)&&Mh(e)==qj}var Wj=zj,Yj=Hp&&Hp.isMap,Gj=Yj?Dp(Yj):Wj,Kj=Gj,Xj="[object Set]";function Jj(e){return dr(e)&&Mh(e)==Xj}var Zj=Jj,Qj=Hp&&Hp.isSet,eI=Qj?Dp(Qj):Zj,tI=eI,nI=1,rI=2,oI=4,sI="[object Arguments]",iI="[object Array]",aI="[object Boolean]",lI="[object Date]",cI="[object Error]",uI="[object Function]",dI="[object GeneratorFunction]",pI="[object Map]",hI="[object Number]",fI="[object Object]",gI="[object RegExp]",mI="[object Set]",vI="[object String]",bI="[object Symbol]",yI="[object WeakMap]",wI="[object ArrayBuffer]",SI="[object DataView]",CI="[object Float32Array]",_I="[object Float64Array]",EI="[object Int8Array]",kI="[object Int16Array]",TI="[object Int32Array]",xI="[object Uint8Array]",RI="[object Uint8ClampedArray]",AI="[object Uint16Array]",jI="[object Uint32Array]",II={};function NI(e,t,n,r,o,s){var i,a=t&nI,l=t&rI,c=t&oI;if(n&&(i=o?n(e,r,o,s):n(e)),void 0!==i)return i;if(!wr(e))return e;var u=Un(e);if(u){if(i=oj(e),!a)return FA(e,i)}else{var d=Mh(e),p=d==uI||d==dI;if(np(e))return UA(e,a);if(d==fI||d==sI||p&&!o){if(i=l||p?{}:Fj(e),!a)return l?ZA(e,DA(i,e)):zA(e,EA(i,e))}else{if(!II[d])return o?e:{};i=$j(e,d,a)}}s||(s=new Hu);var h=s.get(e);if(h)return h;s.set(e,i),tI(e)?e.forEach((function(r){i.add(NI(r,t,n,r,e,s))})):Kj(e)&&e.forEach((function(r,o){i.set(o,NI(r,t,n,o,e,s))}));var f=c?l?ej:uh:l?NA:lh,g=u?void 0:f(e);return wA(g||e,(function(r,o){g&&(o=r,r=e[o]),Os(i,o,NI(r,t,n,o,e,s))})),i}II[sI]=II[iI]=II[wI]=II[SI]=II[aI]=II[lI]=II[CI]=II[_I]=II[EI]=II[kI]=II[TI]=II[pI]=II[hI]=II[fI]=II[gI]=II[mI]=II[vI]=II[bI]=II[xI]=II[RI]=II[AI]=II[jI]=!0,II[cI]=II[uI]=II[yI]=!1;var OI=NI,DI=4;function PI(e){return OI(e,DI)}var MI=PI;const LI=["","error","validating","success"],$I=oe({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:se([String,Array])},required:{type:Boolean,default:void 0},rules:{type:se([Object,Array])},error:String,validateStatus:{type:String,values:LI},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:vc}}),BI="ElLabelWrap";var HI=(0,n.defineComponent)({name:BI,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const r=(0,n.inject)(Dn,void 0),o=(0,n.inject)(Pn);o||$n(BI,"usage: <el-form-item><label-wrap /></el-form-item>");const s=Qs("form"),i=(0,n.ref)(),a=(0,n.ref)(0),l=()=>{var e;if(null==(e=i.value)?void 0:e.firstElementChild){const e=window.getComputedStyle(i.value.firstElementChild).width;return Math.ceil(Number.parseFloat(e))}return 0},c=(o="update")=>{(0,n.nextTick)((()=>{t.default&&e.isAutoWidth&&("update"===o?a.value=l():"remove"===o&&(null==r||r.deregisterLabelWidth(a.value)))}))},u=()=>c("update");return(0,n.onMounted)((()=>{u()})),(0,n.onBeforeUnmount)((()=>{c("remove")})),(0,n.onUpdated)((()=>u())),(0,n.watch)(a,((t,n)=>{e.updateAll&&(null==r||r.registerLabelWidth(t,n))})),J((0,n.computed)((()=>{var e,t;return null!=(t=null==(e=i.value)?void 0:e.firstElementChild)?t:null})),u),()=>{var o,l;if(!t)return null;const{isAutoWidth:c}=e;if(c){const e=null==r?void 0:r.autoLabelWidth,l={};if(e&&"auto"!==e){const t=Math.max(0,Number.parseInt(e,10)-a.value),n="left"===r.labelPosition?"marginRight":"marginLeft";t&&(l[n]=`${t}px`)}return(0,n.createVNode)("div",{ref:i,class:[s.be("item","label-wrap")],style:l},[null==(o=t.default)?void 0:o.call(t)])}return(0,n.createVNode)(n.Fragment,{ref:i},[null==(l=t.default)?void 0:l.call(t)])}}});const UI=["role","aria-labelledby"],VI={name:"ElFormItem"},FI=(0,n.defineComponent)({...VI,props:$I,setup(e,{expose:t}){const r=e,o=(0,n.useSlots)(),s=(0,n.inject)(Dn,void 0),i=(0,n.inject)(Pn,void 0),a=wc(void 0,{formItem:!1}),l=Qs("form-item"),c=zi().value,u=(0,n.ref)([]),d=(0,n.ref)(""),p=B(d,100),g=(0,n.ref)(""),m=(0,n.ref)();let v,b=!1;const y=(0,n.computed)((()=>{if("top"===(null==s?void 0:s.labelPosition))return{};const e=Yl(r.labelWidth||(null==s?void 0:s.labelWidth)||"");return e?{width:e}:{}})),w=(0,n.computed)((()=>{if("top"===(null==s?void 0:s.labelPosition)||(null==s?void 0:s.inline))return{};if(!r.label&&!r.labelWidth&&R)return{};const e=Yl(r.labelWidth||(null==s?void 0:s.labelWidth)||"");return r.label||o.label?{}:{marginLeft:e}})),S=(0,n.computed)((()=>[l.b(),l.m(a.value),l.is("error","error"===d.value),l.is("validating","validating"===d.value),l.is("success","success"===d.value),l.is("required",D.value||r.required),l.is("no-asterisk",null==s?void 0:s.hideRequiredAsterisk),{[l.m("feedback")]:null==s?void 0:s.statusIcon}])),C=(0,n.computed)((()=>I(r.inlineMessage)?r.inlineMessage:(null==s?void 0:s.inlineMessage)||!1)),_=(0,n.computed)((()=>[l.e("error"),{[l.em("error","inline")]:C.value}])),E=(0,n.computed)((()=>r.prop?f(r.prop)?r.prop:r.prop.join("."):"")),k=(0,n.computed)((()=>!(!r.label&&!o.label))),T=(0,n.computed)((()=>r.for||1===u.value.length?u.value[0]:void 0)),x=(0,n.computed)((()=>!T.value&&k.value)),R=!!i,A=(0,n.computed)((()=>{const e=null==s?void 0:s.model;if(e&&r.prop)return Fs(e,r.prop).value})),j=(0,n.computed)((()=>{const e=r.rules?dR(r.rules):[],t=null==s?void 0:s.rules;if(t&&r.prop){const n=Fs(t,r.prop).value;n&&e.push(...dR(n))}return void 0!==r.required&&e.push({required:!!r.required}),e})),N=(0,n.computed)((()=>j.value.length>0)),O=e=>{const t=j.value;return t.filter((t=>!t.trigger||!e||(Array.isArray(t.trigger)?t.trigger.includes(e):t.trigger===e))).map((({trigger:e,...t})=>t))},D=(0,n.computed)((()=>j.value.some((e=>!0===e.required)))),P=(0,n.computed)((()=>{var e;return"error"===p.value&&r.showMessage&&(null==(e=null==s?void 0:s.showMessage)||e)})),M=(0,n.computed)((()=>`${r.label||""}${(null==s?void 0:s.labelSuffix)||""}`)),L=e=>{d.value=e},$=e=>{var t,n;const{errors:o,fields:i}=e;o&&i||console.error(e),L("error"),g.value=o?null!=(n=null==(t=null==o?void 0:o[0])?void 0:t.message)?n:`${r.prop} is required`:"",null==s||s.emit("validate",r.prop,!1,g.value)},H=()=>{L("success"),null==s||s.emit("validate",r.prop,!0,"")},U=async e=>{const t=E.value,n=new bA({[t]:e});return n.validate({[t]:A.value},{firstFields:!0}).then((()=>(H(),!0))).catch((e=>($(e),Promise.reject(e))))},V=async(e,t)=>{if(b)return b=!1,!1;const n=h(t);if(!N.value)return null==t||t(!1),!1;const r=O(e);return 0===r.length?(null==t||t(!0),!0):(L("validating"),U(r).then((()=>(null==t||t(!0),!0))).catch((e=>{const{fields:r}=e;return null==t||t(!1,r),!n&&Promise.reject(r)})))},F=()=>{L(""),g.value=""},q=async()=>{const e=null==s?void 0:s.model;if(!e||!r.prop)return;const t=Fs(e,r.prop);Gh(t.value,v)||(b=!0),t.value=v,await(0,n.nextTick)(),F()},z=e=>{u.value.includes(e)||u.value.push(e)},W=e=>{u.value=u.value.filter((t=>t!==e))};(0,n.watch)((()=>r.error),(e=>{g.value=e||"",L(e?"error":"")}),{immediate:!0}),(0,n.watch)((()=>r.validateStatus),(e=>L(e||"")));const Y=(0,n.reactive)({...(0,n.toRefs)(r),$el:m,size:a,validateState:d,labelId:c,inputIds:u,isGroup:x,addInputId:z,removeInputId:W,resetField:q,clearValidate:F,validate:V});return(0,n.provide)(Pn,Y),(0,n.onMounted)((()=>{r.prop&&(null==s||s.addField(Y),v=MI(A.value))})),(0,n.onBeforeUnmount)((()=>{null==s||s.removeField(Y)})),t({size:a,validateMessage:g,validateState:d,validate:V,clearValidate:F,resetField:q}),(e,t)=>{var r;return(0,n.openBlock)(),(0,n.createElementBlock)("div",{ref_key:"formItemRef",ref:m,class:(0,n.normalizeClass)((0,n.unref)(S)),role:(0,n.unref)(x)?"group":void 0,"aria-labelledby":(0,n.unref)(x)?(0,n.unref)(c):void 0},[(0,n.createVNode)((0,n.unref)(HI),{"is-auto-width":"auto"===(0,n.unref)(y).width,"update-all":"auto"===(null==(r=(0,n.unref)(s))?void 0:r.labelWidth)},{default:(0,n.withCtx)((()=>[(0,n.unref)(k)?((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)((0,n.unref)(T)?"label":"div"),{key:0,id:(0,n.unref)(c),for:(0,n.unref)(T),class:(0,n.normalizeClass)((0,n.unref)(l).e("label")),style:(0,n.normalizeStyle)((0,n.unref)(y))},{default:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"label",{label:(0,n.unref)(M)},(()=>[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(M)),1)]))])),_:3},8,["id","for","class","style"])):(0,n.createCommentVNode)("v-if",!0)])),_:3},8,["is-auto-width","update-all"]),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)((0,n.unref)(l).e("content")),style:(0,n.normalizeStyle)((0,n.unref)(w))},[(0,n.renderSlot)(e.$slots,"default"),(0,n.createVNode)(n.Transition,{name:`${(0,n.unref)(l).namespace.value}-zoom-in-top`},{default:(0,n.withCtx)((()=>[(0,n.unref)(P)?(0,n.renderSlot)(e.$slots,"error",{key:0,error:g.value},(()=>[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)((0,n.unref)(_))},(0,n.toDisplayString)(g.value),3)])):(0,n.createCommentVNode)("v-if",!0)])),_:3},8,["name"])],6)],10,UI)}}});var qI=r(FI,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const zI=k(vR,{FormItem:qI}),WI=x(qI);var YI=__webpack_require__(9145),GI=__webpack_require__(1329),KI=__webpack_require__(7423),XI=__webpack_require__(1071),JI=__webpack_require__(1452),ZI=__webpack_require__(7204),QI=__webpack_require__(1873),eN=__webpack_require__(1742);const tN=Symbol();var nN=(0,n.defineComponent)({name:"ElDatePickerCell",props:oe({cell:{type:se(Object)}}),setup(e){const t=(0,n.inject)(tN);return()=>{const r=e.cell;if(null==t?void 0:t.ctx.slots.default){const e=t.ctx.slots.default(r).filter((e=>-2!==e.patchFlag&&"Symbol(Comment)"!==e.type.toString()));if(e.length)return e}return(0,n.h)("div",{class:"el-date-table-cell"},[(0,n.h)("span",{class:"el-date-table-cell__text"},[null==r?void 0:r.text])])}}});const rN=e=>e||0===e?Array.isArray(e)?e:[e]:[],oN=(0,n.defineComponent)({components:{ElDatePickerCell:nN},props:{date:{type:Object},minDate:{type:Object},maxDate:{type:Object},parsedValue:{type:[Object,Array]},selectionMode:{type:String,default:"day"},showWeekNumber:{type:Boolean,default:!1},disabledDate:{type:Function},cellClassName:{type:Function},rangeState:{type:Object,default:()=>({endDate:null,selecting:!1})}},emits:["changerange","pick","select"],setup(e,t){const{t:r,lang:o}=wf(),s=(0,n.ref)(null),i=(0,n.ref)(null),a=(0,n.ref)([[],[],[],[],[],[]]),l=e.date.$locale().weekStart||7,c=e.date.locale("en").localeData().weekdaysShort().map((e=>e.toLowerCase())),u=(0,n.computed)((()=>l>3?7-l:-l)),d=(0,n.computed)((()=>{const t=e.date.startOf("month");return t.subtract(t.day()||7,"day")})),p=(0,n.computed)((()=>c.concat(c).slice(l,l+7))),h=(0,n.computed)((()=>{var t;const n=e.date.startOf("month"),r=n.day()||7,s=n.daysInMonth(),i=n.subtract(1,"month").daysInMonth(),l=u.value,c=a.value;let p=1;const h="dates"===e.selectionMode?rN(e.parsedValue):[],g=Rg().locale(o.value).startOf("day");for(let o=0;o<6;o++){const n=c[o];e.showWeekNumber&&(n[0]||(n[0]={type:"week",text:d.value.add(7*o+1,"day").week()}));for(let a=0;a<7;a++){let c=n[e.showWeekNumber?a+1:a];c||(c={row:o,column:a,type:"normal",inRange:!1,start:!1,end:!1});const u=7*o+a,m=d.value.add(u-l,"day");c.dayjs=m,c.date=m.toDate(),c.timestamp=m.valueOf(),c.type="normal";const v=e.rangeState.endDate||e.maxDate||e.rangeState.selecting&&e.minDate;c.inRange=e.minDate&&m.isSameOrAfter(e.minDate,"day")&&v&&m.isSameOrBefore(v,"day")||e.minDate&&m.isSameOrBefore(e.minDate,"day")&&v&&m.isSameOrAfter(v,"day"),(null==(t=e.minDate)?void 0:t.isSameOrAfter(v))?(c.start=v&&m.isSame(v,"day"),c.end=e.minDate&&m.isSame(e.minDate,"day")):(c.start=e.minDate&&m.isSame(e.minDate,"day"),c.end=v&&m.isSame(v,"day"));const b=m.isSame(g,"day");if(b&&(c.type="today"),o>=0&&o<=1){const e=r+l<0?7+r+l:r+l;a+7*o>=e?c.text=p++:(c.text=i-(e-a%7)+1+7*o,c.type="prev-month")}else p<=s?c.text=p++:(c.text=p++-s,c.type="next-month");const y=m.toDate();c.selected=h.find((e=>e.valueOf()===m.valueOf())),c.isSelected=!!c.selected,c.isCurrent=f(c),c.disabled=e.disabledDate&&e.disabledDate(y),c.customClass=e.cellClassName&&e.cellClassName(y),n[e.showWeekNumber?a+1:a]=c}if("week"===e.selectionMode){const t=e.showWeekNumber?1:0,r=e.showWeekNumber?7:6,o=w(n[t+1]);n[t].inRange=o,n[t].start=o,n[r].inRange=o,n[r].end=o}}return c})),f=t=>"day"===e.selectionMode&&("normal"===t.type||"today"===t.type)&&g(t,e.parsedValue),g=(t,n)=>!!n&&Rg(n).locale(o.value).isSame(e.date.date(Number(t.text)),"day"),m=t=>{const n=[];return"normal"!==t.type&&"today"!==t.type||t.disabled?n.push(t.type):(n.push("available"),"today"===t.type&&n.push("today")),f(t)&&n.push("current"),!t.inRange||"normal"!==t.type&&"today"!==t.type&&"week"!==e.selectionMode||(n.push("in-range"),t.start&&n.push("start-date"),t.end&&n.push("end-date")),t.disabled&&n.push("disabled"),t.selected&&n.push("selected"),t.customClass&&n.push(t.customClass),n.join(" ")},v=(t,n)=>{const r=7*t+(n-(e.showWeekNumber?1:0))-u.value;return d.value.add(r,"day")},b=n=>{if(!e.rangeState.selecting)return;let r=n.target;if("SPAN"===r.tagName&&(r=r.parentNode.parentNode),"DIV"===r.tagName&&(r=r.parentNode),"TD"!==r.tagName)return;const o=r.parentNode.rowIndex-1,a=r.cellIndex;h.value[o][a].disabled||o===s.value&&a===i.value||(s.value=o,i.value=a,t.emit("changerange",{selecting:!0,endDate:v(o,a)}))},y=n=>{let r=n.target;while(r){if("TD"===r.tagName)break;r=r.parentNode}if(!r||"TD"!==r.tagName)return;const o=r.parentNode.rowIndex-1,s=r.cellIndex,i=h.value[o][s];if(i.disabled||"week"===i.type)return;const a=v(o,s);if("range"===e.selectionMode)e.rangeState.selecting?(a>=e.minDate?t.emit("pick",{minDate:e.minDate,maxDate:a}):t.emit("pick",{minDate:a,maxDate:e.minDate}),t.emit("select",!1)):(t.emit("pick",{minDate:a,maxDate:null}),t.emit("select",!0));else if("day"===e.selectionMode)t.emit("pick",a);else if("week"===e.selectionMode){const e=a.week(),n=`${a.year()}w${e}`;t.emit("pick",{year:a.year(),week:e,value:n,date:a.startOf("week")})}else if("dates"===e.selectionMode){const n=i.selected?rN(e.parsedValue).filter((e=>e.valueOf()!==a.valueOf())):rN(e.parsedValue).concat([a]);t.emit("pick",n)}},w=t=>{if("week"!==e.selectionMode)return!1;let n=e.date.startOf("day");if("prev-month"===t.type&&(n=n.subtract(1,"month")),"next-month"===t.type&&(n=n.add(1,"month")),n=n.date(Number.parseInt(t.text,10)),e.parsedValue&&!Array.isArray(e.parsedValue)){const t=(e.parsedValue.day()-l+7)%7-1,r=e.parsedValue.subtract(t,"day");return r.isSame(n,"day")}return!1};return{handleMouseMove:b,t:r,rows:h,isWeekActive:w,getCellClasses:m,WEEKS:p,handleClick:y}}}),sN={key:0};function iN(e,t,r,o,s,i){const a=(0,n.resolveComponent)("el-date-picker-cell");return(0,n.openBlock)(),(0,n.createElementBlock)("table",{cellspacing:"0",cellpadding:"0",class:(0,n.normalizeClass)(["el-date-table",{"is-week-mode":"week"===e.selectionMode}]),onClick:t[0]||(t[0]=(...t)=>e.handleClick&&e.handleClick(...t)),onMousemove:t[1]||(t[1]=(...t)=>e.handleMouseMove&&e.handleMouseMove(...t))},[(0,n.createElementVNode)("tbody",null,[(0,n.createElementVNode)("tr",null,[e.showWeekNumber?((0,n.openBlock)(),(0,n.createElementBlock)("th",sN,(0,n.toDisplayString)(e.t("el.datepicker.week")),1)):(0,n.createCommentVNode)("v-if",!0),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.WEEKS,((t,r)=>((0,n.openBlock)(),(0,n.createElementBlock)("th",{key:r},(0,n.toDisplayString)(e.t("el.datepicker.weeks."+t)),1)))),128))]),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.rows,((t,r)=>((0,n.openBlock)(),(0,n.createElementBlock)("tr",{key:r,class:(0,n.normalizeClass)(["el-date-table__row",{current:e.isWeekActive(t[1])}])},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(t,((t,r)=>((0,n.openBlock)(),(0,n.createElementBlock)("td",{key:r,class:(0,n.normalizeClass)(e.getCellClasses(t))},[(0,n.createVNode)(a,{cell:t},null,8,["cell"])],2)))),128))],2)))),128))])],34)}var aN=r(oN,[["render",iN],["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const lN=e=>Array.from(Array.from({length:e}).keys()),cN=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),uN=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),dN=(e,t,n)=>{const r=Rg().locale(n).startOf("month").month(t).year(e),o=r.daysInMonth();return lN(o).map((e=>r.add(e,"day").toDate()))},pN=(0,n.defineComponent)({props:{disabledDate:{type:Function},selectionMode:{type:String,default:"month"},minDate:{type:Object},maxDate:{type:Object},date:{type:Object},parsedValue:{type:Object},rangeState:{type:Object,default:()=>({endDate:null,selecting:!1})}},emits:["changerange","pick","select"],setup(e,t){const{t:r,lang:o}=wf(),s=(0,n.ref)(e.date.locale("en").localeData().monthsShort().map((e=>e.toLowerCase()))),i=(0,n.ref)([[],[],[]]),a=(0,n.ref)(null),l=(0,n.ref)(null),c=(0,n.computed)((()=>{var t;const n=i.value,r=Rg().locale(o.value).startOf("month");for(let o=0;o<3;o++){const s=n[o];for(let n=0;n<4;n++){let i=s[n];i||(i={row:o,column:n,type:"normal",inRange:!1,start:!1,end:!1}),i.type="normal";const a=4*o+n,l=e.date.startOf("year").month(a),c=e.rangeState.endDate||e.maxDate||e.rangeState.selecting&&e.minDate;i.inRange=e.minDate&&l.isSameOrAfter(e.minDate,"month")&&c&&l.isSameOrBefore(c,"month")||e.minDate&&l.isSameOrBefore(e.minDate,"month")&&c&&l.isSameOrAfter(c,"month"),(null==(t=e.minDate)?void 0:t.isSameOrAfter(c))?(i.start=c&&l.isSame(c,"month"),i.end=e.minDate&&l.isSame(e.minDate,"month")):(i.start=e.minDate&&l.isSame(e.minDate,"month"),i.end=c&&l.isSame(c,"month"));const u=r.isSame(l);u&&(i.type="today"),i.text=a;const d=l.toDate();i.disabled=e.disabledDate&&e.disabledDate(d),s[n]=i}}return n})),u=t=>{const n={},r=e.date.year(),s=new Date,i=t.text;return n.disabled=!!e.disabledDate&&dN(r,i,o.value).every(e.disabledDate),n.current=rN(e.parsedValue).findIndex((e=>e.year()===r&&e.month()===i))>=0,n.today=s.getFullYear()===r&&s.getMonth()===i,t.inRange&&(n["in-range"]=!0,t.start&&(n["start-date"]=!0),t.end&&(n["end-date"]=!0)),n},d=n=>{if(!e.rangeState.selecting)return;let r=n.target;if("A"===r.tagName&&(r=r.parentNode.parentNode),"DIV"===r.tagName&&(r=r.parentNode),"TD"!==r.tagName)return;const o=r.parentNode.rowIndex,s=r.cellIndex;c.value[o][s].disabled||o===a.value&&s===l.value||(a.value=o,l.value=s,t.emit("changerange",{selecting:!0,endDate:e.date.startOf("year").month(4*o+s)}))},p=n=>{let r=n.target;if("A"===r.tagName&&(r=r.parentNode.parentNode),"DIV"===r.tagName&&(r=r.parentNode),"TD"!==r.tagName)return;if(Fl(r,"disabled"))return;const o=r.cellIndex,s=r.parentNode.rowIndex,i=4*s+o,a=e.date.startOf("year").month(i);"range"===e.selectionMode?e.rangeState.selecting?(a>=e.minDate?t.emit("pick",{minDate:e.minDate,maxDate:a}):t.emit("pick",{minDate:a,maxDate:e.minDate}),t.emit("select",!1)):(t.emit("pick",{minDate:a,maxDate:null}),t.emit("select",!0)):t.emit("pick",i)};return{handleMouseMove:d,handleMonthTableClick:p,rows:c,getCellStyle:u,t:r,months:s}}}),hN={class:"cell"};function fN(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createElementBlock)("table",{class:"el-month-table",onClick:t[0]||(t[0]=(...t)=>e.handleMonthTableClick&&e.handleMonthTableClick(...t)),onMousemove:t[1]||(t[1]=(...t)=>e.handleMouseMove&&e.handleMouseMove(...t))},[(0,n.createElementVNode)("tbody",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.rows,((t,r)=>((0,n.openBlock)(),(0,n.createElementBlock)("tr",{key:r},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(t,((t,r)=>((0,n.openBlock)(),(0,n.createElementBlock)("td",{key:r,class:(0,n.normalizeClass)(e.getCellStyle(t))},[(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("a",hN,(0,n.toDisplayString)(e.t("el.datepicker.months."+e.months[t.text])),1)])],2)))),128))])))),128))])],32)}var gN=r(pN,[["render",fN],["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const mN=(e,t)=>{const n=Rg(String(e)).locale(t).startOf("year"),r=n.endOf("year"),o=r.dayOfYear();return lN(o).map((e=>n.add(e,"day").toDate()))},vN=(0,n.defineComponent)({props:{disabledDate:{type:Function},parsedValue:{type:Object},date:{type:Object}},emits:["pick"],setup(e,t){const{lang:r}=wf(),o=(0,n.computed)((()=>10*Math.floor(e.date.year()/10))),s=t=>{const n={},o=Rg().locale(r.value);return n.disabled=!!e.disabledDate&&mN(t,r.value).every(e.disabledDate),n.current=rN(e.parsedValue).findIndex((e=>e.year()===t))>=0,n.today=o.year()===t,n},i=e=>{const n=e.target;if("A"===n.tagName){if(Fl(n.parentNode,"disabled"))return;const e=n.textContent||n.innerText;t.emit("pick",Number(e))}};return{startYear:o,getCellStyle:s,handleYearTableClick:i}}}),bN={class:"cell"},yN={class:"cell"},wN={class:"cell"},SN={class:"cell"},CN={class:"cell"},_N={class:"cell"},EN={class:"cell"},kN={class:"cell"},TN={class:"cell"},xN={class:"cell"},RN=(0,n.createElementVNode)("td",null,null,-1),AN=(0,n.createElementVNode)("td",null,null,-1);function jN(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createElementBlock)("table",{class:"el-year-table",onClick:t[0]||(t[0]=(...t)=>e.handleYearTableClick&&e.handleYearTableClick(...t))},[(0,n.createElementVNode)("tbody",null,[(0,n.createElementVNode)("tr",null,[(0,n.createElementVNode)("td",{class:(0,n.normalizeClass)(["available",e.getCellStyle(e.startYear+0)])},[(0,n.createElementVNode)("a",bN,(0,n.toDisplayString)(e.startYear),1)],2),(0,n.createElementVNode)("td",{class:(0,n.normalizeClass)(["available",e.getCellStyle(e.startYear+1)])},[(0,n.createElementVNode)("a",yN,(0,n.toDisplayString)(e.startYear+1),1)],2),(0,n.createElementVNode)("td",{class:(0,n.normalizeClass)(["available",e.getCellStyle(e.startYear+2)])},[(0,n.createElementVNode)("a",wN,(0,n.toDisplayString)(e.startYear+2),1)],2),(0,n.createElementVNode)("td",{class:(0,n.normalizeClass)(["available",e.getCellStyle(e.startYear+3)])},[(0,n.createElementVNode)("a",SN,(0,n.toDisplayString)(e.startYear+3),1)],2)]),(0,n.createElementVNode)("tr",null,[(0,n.createElementVNode)("td",{class:(0,n.normalizeClass)(["available",e.getCellStyle(e.startYear+4)])},[(0,n.createElementVNode)("a",CN,(0,n.toDisplayString)(e.startYear+4),1)],2),(0,n.createElementVNode)("td",{class:(0,n.normalizeClass)(["available",e.getCellStyle(e.startYear+5)])},[(0,n.createElementVNode)("a",_N,(0,n.toDisplayString)(e.startYear+5),1)],2),(0,n.createElementVNode)("td",{class:(0,n.normalizeClass)(["available",e.getCellStyle(e.startYear+6)])},[(0,n.createElementVNode)("a",EN,(0,n.toDisplayString)(e.startYear+6),1)],2),(0,n.createElementVNode)("td",{class:(0,n.normalizeClass)(["available",e.getCellStyle(e.startYear+7)])},[(0,n.createElementVNode)("a",kN,(0,n.toDisplayString)(e.startYear+7),1)],2)]),(0,n.createElementVNode)("tr",null,[(0,n.createElementVNode)("td",{class:(0,n.normalizeClass)(["available",e.getCellStyle(e.startYear+8)])},[(0,n.createElementVNode)("a",TN,(0,n.toDisplayString)(e.startYear+8),1)],2),(0,n.createElementVNode)("td",{class:(0,n.normalizeClass)(["available",e.getCellStyle(e.startYear+9)])},[(0,n.createElementVNode)("a",xN,(0,n.toDisplayString)(e.startYear+9),1)],2),RN,AN])])])}var IN=r(vN,[["render",jN],["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const NN=(e,t,n)=>{const r=[],o=t&&n();for(let s=0;s<e;s++)r[s]=!!o&&o.includes(s);return r},ON=e=>e.map(((e,t)=>e||t)).filter((e=>!0!==e)),DN=(e,t,n)=>{const r=(t,n)=>NN(24,e,(()=>e(t,n))),o=(e,n,r)=>NN(60,t,(()=>t(e,n,r))),s=(e,t,r,o)=>NN(60,n,(()=>n(e,t,r,o)));return{getHoursList:r,getMinutesList:o,getSecondsList:s}},PN=(e,t,n)=>{const{getHoursList:r,getMinutesList:o,getSecondsList:s}=DN(e,t,n),i=(e,t)=>ON(r(e,t)),a=(e,t,n)=>ON(o(e,t,n)),l=(e,t,n,r)=>ON(s(e,t,n,r));return{getAvailableHours:i,getAvailableMinutes:a,getAvailableSeconds:l}},MN=e=>{const t=(0,n.ref)(e.parsedValue);return(0,n.watch)((()=>e.visible),(n=>{n||(t.value=e.parsedValue)})),t};var LN={beforeMount(e,t){let n,r=null;const o=()=>t.value&&t.value(),s=()=>{Date.now()-n<100&&o(),clearInterval(r),r=null};ai(e,"mousedown",(e=>{0===e.button&&(n=Date.now(),ci(document,"mouseup",s),clearInterval(r),r=setInterval(o,100))}))}};const $N=(0,n.defineComponent)({directives:{repeatClick:LN},components:{ElScrollbar:nu,ElIcon:Jl,ArrowUp:fu,ArrowDown:ST},props:{role:{type:String,required:!0},spinnerDate:{type:Object,required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:String,default:""},disabledHours:{type:Function},disabledMinutes:{type:Function},disabledSeconds:{type:Function}},emits:["change","select-range","set-option"],setup(e,t){const r=Qs("time");let o=!1;const s=gf((e=>{o=!1,T(e)}),200),i=(0,n.ref)(null),a=(0,n.ref)(null),l=(0,n.ref)(null),c=(0,n.ref)(null),u={hours:a,minutes:l,seconds:c},d=(0,n.computed)((()=>{const t=["hours","minutes","seconds"];return e.showSeconds?t:t.slice(0,2)})),p=(0,n.computed)((()=>e.spinnerDate.hour())),h=(0,n.computed)((()=>e.spinnerDate.minute())),f=(0,n.computed)((()=>e.spinnerDate.second())),g=(0,n.computed)((()=>({hours:p,minutes:h,seconds:f}))),m=(0,n.computed)((()=>H(e.role))),v=(0,n.computed)((()=>U(p.value,e.role))),b=(0,n.computed)((()=>V(p.value,h.value,e.role))),y=(0,n.computed)((()=>({hours:m,minutes:v,seconds:b}))),w=(0,n.computed)((()=>{const e=p.value;return[e>0?e-1:void 0,e,e<23?e+1:void 0]})),S=(0,n.computed)((()=>{const e=h.value;return[e>0?e-1:void 0,e,e<59?e+1:void 0]})),C=(0,n.computed)((()=>{const e=f.value;return[e>0?e-1:void 0,e,e<59?e+1:void 0]})),_=(0,n.computed)((()=>({hours:w,minutes:S,seconds:C}))),E=t=>{const n=!!e.amPmMode;if(!n)return"";const r="A"===e.amPmMode;let o=t<12?" am":" pm";return r&&(o=o.toUpperCase()),o},k=e=>{"hours"===e?t.emit("select-range",0,2):"minutes"===e?t.emit("select-range",3,5):"seconds"===e&&t.emit("select-range",6,8),i.value=e},T=e=>{A(e,g.value[e].value)},x=()=>{T("hours"),T("minutes"),T("seconds")},R=e=>e.querySelector(`.${r.namespace.value}-scrollbar__wrap`),A=(t,n)=>{if(e.arrowControl)return;const r=u[t];r&&r.$el&&(R(r.$el).scrollTop=Math.max(0,n*j(t)))},j=e=>{const t=u[e];return t.$el.querySelector("li").offsetHeight},I=()=>{O(1)},N=()=>{O(-1)},O=e=>{i.value||k("hours");const t=i.value;let r=g.value[t].value;const o="hours"===i.value?24:60;r=(r+e+o)%o,D(t,r),A(t,r),(0,n.nextTick)((()=>k(i.value)))},D=(n,r)=>{const o=y.value[n].value,s=o[r];if(!s)switch(n){case"hours":t.emit("change",e.spinnerDate.hour(r).minute(h.value).second(f.value));break;case"minutes":t.emit("change",e.spinnerDate.hour(p.value).minute(r).second(f.value));break;case"seconds":t.emit("change",e.spinnerDate.hour(p.value).minute(h.value).second(r));break}},P=(e,{value:t,disabled:n})=>{n||(D(e,t),k(e),A(e,t))},M=e=>{o=!0,s(e);const t=Math.min(Math.round((R(u[e].$el).scrollTop-(.5*L(e)-10)/j(e)+3)/j(e)),"hours"===e?23:59);D(e,t)},L=e=>u[e].$el.offsetHeight,$=()=>{const e=e=>{u[e]&&u[e].$el&&(R(u[e].$el).onscroll=()=>{M(e)})};e("hours"),e("minutes"),e("seconds")};(0,n.onMounted)((()=>{(0,n.nextTick)((()=>{!e.arrowControl&&$(),x(),"start"===e.role&&k("hours")}))}));const B=(e,t)=>{u[t]=e};t.emit("set-option",[`${e.role}_scrollDown`,O]),t.emit("set-option",[`${e.role}_emitSelectRange`,k]);const{getHoursList:H,getMinutesList:U,getSecondsList:V}=DN(e.disabledHours,e.disabledMinutes,e.disabledSeconds);return(0,n.watch)((()=>e.spinnerDate),(()=>{o||x()})),{ns:r,setRef:B,spinnerItems:d,currentScrollbar:i,hours:p,minutes:h,seconds:f,hoursList:m,minutesList:v,arrowHourList:w,arrowMinuteList:S,arrowSecondList:C,getAmPmFlag:E,emitSelectRange:k,adjustCurrentSpinner:T,typeItemHeight:j,listHoursRef:a,listMinutesRef:l,listSecondsRef:c,onIncreaseClick:I,onDecreaseClick:N,handleClick:P,secondsList:b,timePartsMap:g,arrowListMap:_,listMap:y}}}),BN=["onClick"],HN=["onMouseenter"];function UN(e,t,r,o,s,i){const a=(0,n.resolveComponent)("el-scrollbar"),l=(0,n.resolveComponent)("arrow-up"),c=(0,n.resolveComponent)("el-icon"),u=(0,n.resolveComponent)("arrow-down"),d=(0,n.resolveDirective)("repeat-click");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)([e.ns.b("spinner"),{"has-seconds":e.showSeconds}])},[e.arrowControl?(0,n.createCommentVNode)("v-if",!0):((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,{key:0},(0,n.renderList)(e.spinnerItems,(t=>((0,n.openBlock)(),(0,n.createBlock)(a,{key:t,ref_for:!0,ref:n=>e.setRef(n,t),class:(0,n.normalizeClass)(e.ns.be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":e.ns.be("spinner","list"),noresize:"",tag:"ul",onMouseenter:n=>e.emitSelectRange(t),onMousemove:n=>e.adjustCurrentSpinner(t)},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.listMap[t].value,((r,o)=>((0,n.openBlock)(),(0,n.createElementBlock)("li",{key:o,class:(0,n.normalizeClass)([e.ns.be("spinner","item"),e.ns.is("active",o===e.timePartsMap[t].value),e.ns.is("disabled",r)]),onClick:n=>e.handleClick(t,{value:o,disabled:r})},["hours"===t?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.createTextVNode)((0,n.toDisplayString)(("0"+(e.amPmMode?o%12||12:o)).slice(-2))+(0,n.toDisplayString)(e.getAmPmFlag(o)),1)],2112)):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createTextVNode)((0,n.toDisplayString)(("0"+o).slice(-2)),1)],2112))],10,BN)))),128))])),_:2},1032,["class","view-class","onMouseenter","onMousemove"])))),128)),e.arrowControl?((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,{key:1},(0,n.renderList)(e.spinnerItems,(t=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:t,class:(0,n.normalizeClass)([e.ns.be("spinner","wrapper"),e.ns.is("arrow")]),onMouseenter:n=>e.emitSelectRange(t)},[(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createBlock)(c,{class:(0,n.normalizeClass)(["arrow-up",e.ns.be("spinner","arrow")])},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(l)])),_:1},8,["class"])),[[d,e.onDecreaseClick]]),(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createBlock)(c,{class:(0,n.normalizeClass)(["arrow-down",e.ns.be("spinner","arrow")])},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(u)])),_:1},8,["class"])),[[d,e.onIncreaseClick]]),(0,n.createElementVNode)("ul",{class:(0,n.normalizeClass)(e.ns.be("spinner","list"))},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.arrowListMap[t].value,((r,o)=>((0,n.openBlock)(),(0,n.createElementBlock)("li",{key:o,class:(0,n.normalizeClass)([e.ns.be("spinner","item"),e.ns.is("active",r===e.timePartsMap[t].value),e.ns.is("disabled",e.listMap[t].value[r])])},["number"===typeof r?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},["hours"===t?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.createTextVNode)((0,n.toDisplayString)(("0"+(e.amPmMode?r%12||12:r)).slice(-2))+(0,n.toDisplayString)(e.getAmPmFlag(r)),1)],2112)):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createTextVNode)((0,n.toDisplayString)(("0"+r).slice(-2)),1)],2112))],2112)):(0,n.createCommentVNode)("v-if",!0)],2)))),128))],2)],42,HN)))),128)):(0,n.createCommentVNode)("v-if",!0)],2)}var VN=r($N,[["render",UN],["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const FN=(0,n.defineComponent)({components:{TimeSpinner:VN},props:{visible:Boolean,actualVisible:{type:Boolean,default:void 0},datetimeRole:{type:String},parsedValue:{type:[Object,String]},format:{type:String,default:""}},emits:["pick","select-range","set-picker-option"],setup(e,t){const r=Qs("time"),{t:o,lang:s}=wf(),i=(0,n.ref)([0,2]),a=MN(e),l=(0,n.computed)((()=>wi(e.actualVisible)?`${r.namespace.value}-zoom-in-top`:"")),c=(0,n.computed)((()=>e.format.includes("ss"))),u=(0,n.computed)((()=>e.format.includes("A")?"A":e.format.includes("a")?"a":"")),d=e=>{const t=Rg(e).locale(s.value),n=b(t);return t.isSame(n)},p=()=>{t.emit("pick",a.value,!1)},h=(n=!1,r=!1)=>{r||t.emit("pick",e.parsedValue,n)},f=n=>{if(!e.visible)return;const r=b(n).millisecond(0);t.emit("pick",r,!0)},g=(e,n)=>{t.emit("select-range",e,n),i.value=[e,n]},m=e=>{const t=[0,3].concat(c.value?[6]:[]),n=["hours","minutes"].concat(c.value?["seconds"]:[]),r=t.indexOf(i.value[0]),o=(r+e+t.length)%t.length;C["start_emitSelectRange"](n[o])},v=e=>{const t=e.code;if(t===ii.left||t===ii.right){const n=t===ii.left?-1:1;return m(n),void e.preventDefault()}if(t===ii.up||t===ii.down){const n=t===ii.up?-1:1;return C["start_scrollDown"](n),void e.preventDefault()}},b=t=>{const n={hour:j,minute:I,second:N};let r=t;return["hour","minute","second"].forEach((t=>{if(n[t]){let o;const s=n[t];o="minute"===t?s(r.hour(),e.datetimeRole):"second"===t?s(r.hour(),r.minute(),e.datetimeRole):s(e.datetimeRole),o&&o.length&&!o.includes(r[t]())&&(r=r[t](o[0]))}})),r},y=t=>t?Rg(t,e.format).locale(s.value):null,w=t=>t?t.format(e.format):null,S=()=>Rg(A).locale(s.value);t.emit("set-picker-option",["isValidValue",d]),t.emit("set-picker-option",["formatToString",w]),t.emit("set-picker-option",["parseUserInput",y]),t.emit("set-picker-option",["handleKeydown",v]),t.emit("set-picker-option",["getRangeAvailableTime",b]),t.emit("set-picker-option",["getDefaultValue",S]);const C={},_=e=>{C[e[0]]=e[1]},E=(0,n.inject)("EP_PICKER_BASE"),{arrowControl:k,disabledHours:T,disabledMinutes:x,disabledSeconds:R,defaultValue:A}=E.props,{getAvailableHours:j,getAvailableMinutes:I,getAvailableSeconds:N}=PN(T,x,R);return{ns:r,transitionName:l,arrowControl:k,onSetOption:_,t:o,handleConfirm:h,handleChange:f,setSelectionRange:g,amPmMode:u,showSeconds:c,handleCancel:p,disabledHours:T,disabledMinutes:x,disabledSeconds:R}}});function qN(e,t,r,o,s,i){const a=(0,n.resolveComponent)("time-spinner");return(0,n.openBlock)(),(0,n.createBlock)(n.Transition,{name:e.transitionName},{default:(0,n.withCtx)((()=>[e.actualVisible||e.visible?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:(0,n.normalizeClass)(e.ns.b("panel"))},[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)([e.ns.be("panel","content"),{"has-seconds":e.showSeconds}])},[(0,n.createVNode)(a,{ref:"spinner",role:e.datetimeRole||"start","arrow-control":e.arrowControl,"show-seconds":e.showSeconds,"am-pm-mode":e.amPmMode,"spinner-date":e.parsedValue,"disabled-hours":e.disabledHours,"disabled-minutes":e.disabledMinutes,"disabled-seconds":e.disabledSeconds,onChange:e.handleChange,onSetOption:e.onSetOption,onSelectRange:e.setSelectionRange},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onChange","onSetOption","onSelectRange"])],2),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(e.ns.be("panel","footer"))},[(0,n.createElementVNode)("button",{type:"button",class:(0,n.normalizeClass)([e.ns.be("panel","btn"),"cancel"]),onClick:t[0]||(t[0]=(...t)=>e.handleCancel&&e.handleCancel(...t))},(0,n.toDisplayString)(e.t("el.datepicker.cancel")),3),(0,n.createElementVNode)("button",{type:"button",class:(0,n.normalizeClass)([e.ns.be("panel","btn"),"confirm"]),onClick:t[1]||(t[1]=t=>e.handleConfirm())},(0,n.toDisplayString)(e.t("el.datepicker.confirm")),3)],2)],2)):(0,n.createCommentVNode)("v-if",!0)])),_:1},8,["name"])}var zN=r(FN,[["render",qN],["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]);const WN=(e,t,n)=>!0,YN=(0,n.defineComponent)({components:{DateTable:aN,ElInput:$c,ElButton:qw,ElIcon:Jl,TimePickPanel:zN,MonthTable:gN,YearTable:IN,DArrowLeft:ME,ArrowLeft:J_,DArrowRight:VE,ArrowRight:cE},directives:{clickoutside:jf},props:{visible:{type:Boolean,default:!1},parsedValue:{type:[Object,Array]},format:{type:String,default:""},type:{type:String,required:!0,validator:Of}},emits:["pick","set-picker-option","panel-change"],setup(e,t){const{t:r,lang:o}=wf(),s=(0,n.inject)("EP_PICKER_BASE"),i=(0,n.inject)(Rn),{shortcuts:a,disabledDate:l,cellClassName:c,defaultTime:u,arrowControl:d}=s.props,p=(0,n.toRef)(s.props,"defaultValue"),h=(0,n.ref)(Rg().locale(o.value)),f=(0,n.computed)((()=>Rg(u).locale(o.value))),g=(0,n.computed)((()=>h.value.month())),m=(0,n.computed)((()=>h.value.year())),v=(0,n.ref)([]),b=(0,n.ref)(null),y=(0,n.ref)(null),w=t=>!(v.value.length>0)||WN(t,v.value,e.format||"HH:mm:ss"),S=e=>u&&!F.value?f.value.year(e.year()).month(e.month()).date(e.date()):L.value?e.millisecond(0):e.startOf("day"),C=(e,...n)=>{if(e)if(Array.isArray(e)){const r=e.map(S);t.emit("pick",r,...n)}else t.emit("pick",S(e),...n);else t.emit("pick",e,...n);b.value=null,y.value=null},_=t=>{if("day"===I.value){let n=e.parsedValue?e.parsedValue.year(t.year()).month(t.month()).date(t.date()):t;w(n)||(n=v.value[0][0].year(t.year()).month(t.month()).date(t.date())),h.value=n,C(n,L.value)}else"week"===I.value?C(t.date):"dates"===I.value&&C(t,!0)},E=()=>{h.value=h.value.subtract(1,"month"),re("month")},k=()=>{h.value=h.value.add(1,"month"),re("month")},T=()=>{"year"===R.value?h.value=h.value.subtract(10,"year"):h.value=h.value.subtract(1,"year"),re("year")},x=()=>{"year"===R.value?h.value=h.value.add(10,"year"):h.value=h.value.add(1,"year"),re("year")},R=(0,n.ref)("date"),A=(0,n.computed)((()=>{const e=r("el.datepicker.year");if("year"===R.value){const t=10*Math.floor(m.value/10);return e?`${t} ${e} - ${t+9} ${e}`:`${t} - ${t+9}`}return`${m.value} ${e}`})),j=e=>{const n="function"===typeof e.value?e.value():e.value;n?C(Rg(n).locale(o.value)):e.onClick&&e.onClick(t)},I=(0,n.computed)((()=>["week","month","year","dates"].includes(e.type)?e.type:"day"));(0,n.watch)((()=>I.value),(e=>{["month","year"].includes(e)?R.value=e:R.value="date"}),{immediate:!0}),(0,n.watch)((()=>R.value),(()=>{null==i||i.updatePopper()}));const N=(0,n.computed)((()=>!!a.length)),O=e=>{h.value=h.value.startOf("month").month(e),"month"===I.value?C(h.value):R.value="date",re("month")},D=e=>{"year"===I.value?(h.value=h.value.startOf("year").year(e),C(h.value)):(h.value=h.value.year(e),R.value="month"),re("year")},P=()=>{R.value="month"},M=()=>{R.value="year"},L=(0,n.computed)((()=>"datetime"===e.type||"datetimerange"===e.type)),$=(0,n.computed)((()=>L.value||"dates"===I.value)),B=()=>{if("dates"===I.value)C(e.parsedValue);else{let t=e.parsedValue;if(!t){const e=Rg(u).locale(o.value),n=ee();t=e.year(n.year()).month(n.month()).date(n.date())}h.value=t,C(t)}},H=()=>{const e=Rg().locale(o.value),t=e.toDate();l&&l(t)||!w(t)||(h.value=Rg().locale(o.value),C(h.value))},U=(0,n.computed)((()=>uN(e.format))),V=(0,n.computed)((()=>cN(e.format))),F=(0,n.computed)((()=>y.value?y.value:e.parsedValue||p.value?(e.parsedValue||h.value).format(U.value):void 0)),q=(0,n.computed)((()=>b.value?b.value:e.parsedValue||p.value?(e.parsedValue||h.value).format(V.value):void 0)),z=(0,n.ref)(!1),W=()=>{z.value=!0},Y=()=>{z.value=!1},G=(t,n,r)=>{const o=e.parsedValue?e.parsedValue.hour(t.hour()).minute(t.minute()).second(t.second()):t;h.value=o,C(h.value,!0),r||(z.value=n)},K=e=>{const t=Rg(e,U.value).locale(o.value);t.isValid()&&w(t)&&(h.value=t.year(h.value.year()).month(h.value.month()).date(h.value.date()),y.value=null,z.value=!1,C(h.value,!0))},X=e=>{const t=Rg(e,V.value).locale(o.value);if(t.isValid()){if(l&&l(t.toDate()))return;h.value=t.hour(h.value.hour()).minute(h.value.minute()).second(h.value.second()),b.value=null,C(h.value,!0)}},J=e=>Rg.isDayjs(e)&&e.isValid()&&(!l||!l(e.toDate())),Z=t=>"dates"===I.value?t.map((t=>t.format(e.format))):t.format(e.format),Q=t=>Rg(t,e.format).locale(o.value),ee=()=>{const e=Rg(p.value).locale(o.value);if(!p.value){const e=f.value;return Rg().hour(e.hour()).minute(e.minute()).second(e.second()).locale(o.value)}return e},te=t=>{const{code:n,keyCode:r}=t,o=[ii.up,ii.down,ii.left,ii.right];e.visible&&!z.value&&(o.includes(n)&&(ne(r),t.stopPropagation(),t.preventDefault()),n===ii.enter&&null===b.value&&null===y.value&&C(h,!1))},ne=e=>{const n={year:{38:-4,40:4,37:-1,39:1,offset:(e,t)=>e.setFullYear(e.getFullYear()+t)},month:{38:-4,40:4,37:-1,39:1,offset:(e,t)=>e.setMonth(e.getMonth()+t)},week:{38:-1,40:1,37:-1,39:1,offset:(e,t)=>e.setDate(e.getDate()+7*t)},day:{38:-7,40:7,37:-1,39:1,offset:(e,t)=>e.setDate(e.getDate()+t)}},r=h.value.toDate();while(Math.abs(h.value.diff(r,"year",!0))<1){const s=n[I.value];if(s.offset(r,s[e]),l&&l(r))continue;const i=Rg(r).locale(o.value);h.value=i,t.emit("pick",i,!0);break}},re=e=>{t.emit("panel-change",h.value.toDate(),e,R.value)};return t.emit("set-picker-option",["isValidValue",J]),t.emit("set-picker-option",["formatToString",Z]),t.emit("set-picker-option",["parseUserInput",Q]),t.emit("set-picker-option",["handleKeydown",te]),(0,n.watch)((()=>p.value),(e=>{e&&(h.value=ee())}),{immediate:!0}),(0,n.watch)((()=>e.parsedValue),(e=>{if(e){if("dates"===I.value)return;if(Array.isArray(e))return;h.value=e}else h.value=ee()}),{immediate:!0}),{handleTimePick:G,handleTimePickClose:Y,onTimePickerInputFocus:W,timePickerVisible:z,visibleTime:F,visibleDate:q,showTime:L,changeToNow:H,onConfirm:B,footerVisible:$,handleYearPick:D,showMonthPicker:P,showYearPicker:M,handleMonthPick:O,hasShortcuts:N,shortcuts:a,arrowControl:d,disabledDate:l,cellClassName:c,selectionMode:I,handleShortcutClick:j,prevYear_:T,nextYear_:x,prevMonth_:E,nextMonth_:k,innerDate:h,t:r,yearLabel:A,currentView:R,month:g,handleDatePick:_,handleVisibleTimeChange:K,handleVisibleDateChange:X,timeFormat:U,userInputTime:y,userInputDate:b}}}),GN={class:"el-picker-panel__body-wrapper"},KN={key:0,class:"el-picker-panel__sidebar"},XN=["onClick"],JN={class:"el-picker-panel__body"},ZN={key:0,class:"el-date-picker__time-header"},QN={class:"el-date-picker__editor-wrap"},eO={class:"el-date-picker__editor-wrap"},tO=["aria-label"],nO=["aria-label"],rO=["aria-label"],oO=["aria-label"],sO={class:"el-picker-panel__content"},iO={class:"el-picker-panel__footer"};function aO(e,t,r,o,s,i){const a=(0,n.resolveComponent)("el-input"),l=(0,n.resolveComponent)("time-pick-panel"),c=(0,n.resolveComponent)("d-arrow-left"),u=(0,n.resolveComponent)("el-icon"),d=(0,n.resolveComponent)("arrow-left"),p=(0,n.resolveComponent)("d-arrow-right"),h=(0,n.resolveComponent)("arrow-right"),f=(0,n.resolveComponent)("date-table"),g=(0,n.resolveComponent)("year-table"),m=(0,n.resolveComponent)("month-table"),v=(0,n.resolveComponent)("el-button"),b=(0,n.resolveDirective)("clickoutside");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["el-picker-panel el-date-picker",[{"has-sidebar":e.$slots.sidebar||e.hasShortcuts,"has-time":e.showTime}]])},[(0,n.createElementVNode)("div",GN,[(0,n.renderSlot)(e.$slots,"sidebar",{class:"el-picker-panel__sidebar"}),e.hasShortcuts?((0,n.openBlock)(),(0,n.createElementBlock)("div",KN,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.shortcuts,((t,r)=>((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:r,type:"button",class:"el-picker-panel__shortcut",onClick:n=>e.handleShortcutClick(t)},(0,n.toDisplayString)(t.text),9,XN)))),128))])):(0,n.createCommentVNode)("v-if",!0),(0,n.createElementVNode)("div",JN,[e.showTime?((0,n.openBlock)(),(0,n.createElementBlock)("div",ZN,[(0,n.createElementVNode)("span",QN,[(0,n.createVNode)(a,{placeholder:e.t("el.datepicker.selectDate"),"model-value":e.visibleDate,size:"small",onInput:t[0]||(t[0]=t=>e.userInputDate=t),onChange:e.handleVisibleDateChange},null,8,["placeholder","model-value","onChange"])]),(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("span",eO,[(0,n.createVNode)(a,{placeholder:e.t("el.datepicker.selectTime"),"model-value":e.visibleTime,size:"small",onFocus:e.onTimePickerInputFocus,onInput:t[1]||(t[1]=t=>e.userInputTime=t),onChange:e.handleVisibleTimeChange},null,8,["placeholder","model-value","onFocus","onChange"]),(0,n.createVNode)(l,{visible:e.timePickerVisible,format:e.timeFormat,"time-arrow-control":e.arrowControl,"parsed-value":e.innerDate,onPick:e.handleTimePick},null,8,["visible","format","time-arrow-control","parsed-value","onPick"])])),[[b,e.handleTimePickClose]])])):(0,n.createCommentVNode)("v-if",!0),(0,n.withDirectives)((0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["el-date-picker__header",{"el-date-picker__header--bordered":"year"===e.currentView||"month"===e.currentView}])},[(0,n.createElementVNode)("button",{type:"button","aria-label":e.t("el.datepicker.prevYear"),class:"el-picker-panel__icon-btn el-date-picker__prev-btn d-arrow-left",onClick:t[2]||(t[2]=(...t)=>e.prevYear_&&e.prevYear_(...t))},[(0,n.createVNode)(u,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(c)])),_:1})],8,tO),(0,n.withDirectives)((0,n.createElementVNode)("button",{type:"button","aria-label":e.t("el.datepicker.prevMonth"),class:"el-picker-panel__icon-btn el-date-picker__prev-btn arrow-left",onClick:t[3]||(t[3]=(...t)=>e.prevMonth_&&e.prevMonth_(...t))},[(0,n.createVNode)(u,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(d)])),_:1})],8,nO),[[n.vShow,"date"===e.currentView]]),(0,n.createElementVNode)("span",{role:"button",class:"el-date-picker__header-label",onClick:t[4]||(t[4]=(...t)=>e.showYearPicker&&e.showYearPicker(...t))},(0,n.toDisplayString)(e.yearLabel),1),(0,n.withDirectives)((0,n.createElementVNode)("span",{role:"button",class:(0,n.normalizeClass)(["el-date-picker__header-label",{active:"month"===e.currentView}]),onClick:t[5]||(t[5]=(...t)=>e.showMonthPicker&&e.showMonthPicker(...t))},(0,n.toDisplayString)(e.t(`el.datepicker.month${e.month+1}`)),3),[[n.vShow,"date"===e.currentView]]),(0,n.createElementVNode)("button",{type:"button","aria-label":e.t("el.datepicker.nextYear"),class:"el-picker-panel__icon-btn el-date-picker__next-btn d-arrow-right",onClick:t[6]||(t[6]=(...t)=>e.nextYear_&&e.nextYear_(...t))},[(0,n.createVNode)(u,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(p)])),_:1})],8,rO),(0,n.withDirectives)((0,n.createElementVNode)("button",{type:"button","aria-label":e.t("el.datepicker.nextMonth"),class:"el-picker-panel__icon-btn el-date-picker__next-btn arrow-right",onClick:t[7]||(t[7]=(...t)=>e.nextMonth_&&e.nextMonth_(...t))},[(0,n.createVNode)(u,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(h)])),_:1})],8,oO),[[n.vShow,"date"===e.currentView]])],2),[[n.vShow,"time"!==e.currentView]]),(0,n.createElementVNode)("div",sO,["date"===e.currentView?((0,n.openBlock)(),(0,n.createBlock)(f,{key:0,"selection-mode":e.selectionMode,date:e.innerDate,"parsed-value":e.parsedValue,"disabled-date":e.disabledDate,"cell-class-name":e.cellClassName,onPick:e.handleDatePick},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name","onPick"])):(0,n.createCommentVNode)("v-if",!0),"year"===e.currentView?((0,n.openBlock)(),(0,n.createBlock)(g,{key:1,date:e.innerDate,"disabled-date":e.disabledDate,"parsed-value":e.parsedValue,onPick:e.handleYearPick},null,8,["date","disabled-date","parsed-value","onPick"])):(0,n.createCommentVNode)("v-if",!0),"month"===e.currentView?((0,n.openBlock)(),(0,n.createBlock)(m,{key:2,date:e.innerDate,"parsed-value":e.parsedValue,"disabled-date":e.disabledDate,onPick:e.handleMonthPick},null,8,["date","parsed-value","disabled-date","onPick"])):(0,n.createCommentVNode)("v-if",!0)])])]),(0,n.withDirectives)((0,n.createElementVNode)("div",iO,[(0,n.withDirectives)((0,n.createVNode)(v,{text:"",size:"small",class:"el-picker-panel__link-btn",onClick:e.changeToNow},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.t("el.datepicker.now")),1)])),_:1},8,["onClick"]),[[n.vShow,"dates"!==e.selectionMode]]),(0,n.createVNode)(v,{plain:"",size:"small",class:"el-picker-panel__link-btn",onClick:e.onConfirm},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.t("el.datepicker.confirm")),1)])),_:1},8,["onClick"])],512),[[n.vShow,e.footerVisible&&"date"===e.currentView]])],2)}var lO=r(YN,[["render",aO],["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const cO=(0,n.defineComponent)({directives:{clickoutside:jf},components:{TimePickPanel:zN,DateTable:aN,ElInput:$c,ElButton:qw,ElIcon:Jl,DArrowLeft:ME,ArrowLeft:J_,DArrowRight:VE,ArrowRight:cE},props:{unlinkPanels:Boolean,parsedValue:{type:Array},type:{type:String,required:!0,validator:Of}},emits:["pick","set-picker-option","calendar-change","panel-change"],setup(e,t){const{t:r,lang:o}=wf(),s=(0,n.ref)(Rg().locale(o.value)),i=(0,n.ref)(Rg().locale(o.value).add(1,"month")),a=(0,n.ref)(null),l=(0,n.ref)(null),c=(0,n.ref)({min:null,max:null}),u=(0,n.ref)({min:null,max:null}),d=(0,n.computed)((()=>`${s.value.year()} ${r("el.datepicker.year")} ${r(`el.datepicker.month${s.value.month()+1}`)}`)),p=(0,n.computed)((()=>`${i.value.year()} ${r("el.datepicker.year")} ${r(`el.datepicker.month${i.value.month()+1}`)}`)),h=(0,n.computed)((()=>s.value.year())),f=(0,n.computed)((()=>s.value.month())),g=(0,n.computed)((()=>i.value.year())),m=(0,n.computed)((()=>i.value.month())),v=(0,n.computed)((()=>!!ie.length)),b=(0,n.computed)((()=>null!==c.value.min?c.value.min:a.value?a.value.format(_.value):"")),y=(0,n.computed)((()=>null!==c.value.max?c.value.max:l.value||a.value?(l.value||a.value).format(_.value):"")),w=(0,n.computed)((()=>null!==u.value.min?u.value.min:a.value?a.value.format(C.value):"")),S=(0,n.computed)((()=>null!==u.value.max?u.value.max:l.value||a.value?(l.value||a.value).format(C.value):"")),C=(0,n.computed)((()=>uN(ce))),_=(0,n.computed)((()=>cN(ce))),E=()=>{s.value=s.value.subtract(1,"year"),e.unlinkPanels||(i.value=s.value.add(1,"month")),N("year")},k=()=>{s.value=s.value.subtract(1,"month"),e.unlinkPanels||(i.value=s.value.add(1,"month")),N("month")},T=()=>{e.unlinkPanels?i.value=i.value.add(1,"year"):(s.value=s.value.add(1,"year"),i.value=s.value.add(1,"month")),N("year")},x=()=>{e.unlinkPanels?i.value=i.value.add(1,"month"):(s.value=s.value.add(1,"month"),i.value=s.value.add(1,"month")),N("month")},R=()=>{s.value=s.value.add(1,"year"),N("year")},A=()=>{s.value=s.value.add(1,"month"),N("month")},j=()=>{i.value=i.value.subtract(1,"year"),N("year")},I=()=>{i.value=i.value.subtract(1,"month"),N("month")},N=e=>{t.emit("panel-change",[s.value.toDate(),i.value.toDate()],e)},O=(0,n.computed)((()=>{const t=(f.value+1)%12,n=f.value+1>=12?1:0;return e.unlinkPanels&&new Date(h.value+n,t)<new Date(g.value,m.value)})),D=(0,n.computed)((()=>e.unlinkPanels&&12*g.value+m.value-(12*h.value+f.value+1)>=12)),P=e=>Array.isArray(e)&&e[0]&&e[1]&&e[0].valueOf()<=e[1].valueOf(),M=(0,n.ref)({endDate:null,selecting:!1}),L=(0,n.computed)((()=>!(a.value&&l.value&&!M.value.selecting&&P([a.value,l.value])))),$=e=>{M.value=e},B=e=>{M.value.selecting=e,e||(M.value.endDate=null)},H=(0,n.computed)((()=>"datetime"===e.type||"datetimerange"===e.type)),U=(e=!1)=>{P([a.value,l.value])&&t.emit("pick",[a.value,l.value],e)},V=(e,t)=>{if(e){if(ue){const n=Rg(ue[t]||ue).locale(o.value);return n.year(e.year()).month(e.month()).date(e.date())}return e}},F=(e,n=!0)=>{const r=e.minDate,o=e.maxDate,s=V(r,0),i=V(o,1);l.value===i&&a.value===s||(t.emit("calendar-change",[r.toDate(),o&&o.toDate()]),l.value=i,a.value=s,n&&!H.value&&U())},q=e=>{const n="function"===typeof e.value?e.value():e.value;n?t.emit("pick",[Rg(n[0]).locale(o.value),Rg(n[1]).locale(o.value)]):e.onClick&&e.onClick(t)},z=(0,n.ref)(!1),W=(0,n.ref)(!1),Y=()=>{z.value=!1},G=()=>{W.value=!1},K=(t,n)=>{c.value[n]=t;const r=Rg(t,_.value).locale(o.value);if(r.isValid()){if(ae&&ae(r.toDate()))return;"min"===n?(s.value=r,a.value=(a.value||s.value).year(r.year()).month(r.month()).date(r.date()),e.unlinkPanels||(i.value=r.add(1,"month"),l.value=a.value.add(1,"month"))):(i.value=r,l.value=(l.value||i.value).year(r.year()).month(r.month()).date(r.date()),e.unlinkPanels||(s.value=r.subtract(1,"month"),a.value=l.value.subtract(1,"month")))}},X=(e,t)=>{c.value[t]=null},J=(e,t)=>{u.value[t]=e;const n=Rg(e,C.value).locale(o.value);n.isValid()&&("min"===t?(z.value=!0,a.value=(a.value||s.value).hour(n.hour()).minute(n.minute()).second(n.second()),l.value&&!l.value.isBefore(a.value)||(l.value=a.value)):(W.value=!0,l.value=(l.value||i.value).hour(n.hour()).minute(n.minute()).second(n.second()),i.value=l.value,l.value&&l.value.isBefore(a.value)&&(a.value=l.value)))},Z=(e,t)=>{u.value[t]=null,"min"===t?(s.value=a.value,z.value=!1):(i.value=l.value,W.value=!1)},Q=(e,t,n)=>{u.value.min||(e&&(s.value=e,a.value=(a.value||s.value).hour(e.hour()).minute(e.minute()).second(e.second())),n||(z.value=t),l.value&&!l.value.isBefore(a.value)||(l.value=a.value,i.value=e))},ee=(e,t,n)=>{u.value.max||(e&&(i.value=e,l.value=(l.value||i.value).hour(e.hour()).minute(e.minute()).second(e.second())),n||(W.value=t),l.value&&l.value.isBefore(a.value)&&(a.value=l.value))},te=()=>{s.value=oe()[0],i.value=s.value.add(1,"month"),t.emit("pick",null)},ne=e=>Array.isArray(e)?e.map((e=>e.format(ce))):e.format(ce),re=e=>Array.isArray(e)?e.map((e=>Rg(e,ce).locale(o.value))):Rg(e,ce).locale(o.value),oe=()=>{let t;if(Array.isArray(he.value)){const t=Rg(he.value[0]);let n=Rg(he.value[1]);return e.unlinkPanels||(n=t.add(1,"month")),[t,n]}return t=he.value?Rg(he.value):Rg(),t=t.locale(o.value),[t,t.add(1,"month")]};t.emit("set-picker-option",["isValidValue",P]),t.emit("set-picker-option",["parseUserInput",re]),t.emit("set-picker-option",["formatToString",ne]),t.emit("set-picker-option",["handleClear",te]);const se=(0,n.inject)("EP_PICKER_BASE"),{shortcuts:ie,disabledDate:ae,cellClassName:le,format:ce,defaultTime:ue,arrowControl:de,clearable:pe}=se.props,he=(0,n.toRef)(se.props,"defaultValue");return(0,n.watch)((()=>he.value),(e=>{if(e){const e=oe();a.value=null,l.value=null,s.value=e[0],i.value=e[1]}}),{immediate:!0}),(0,n.watch)((()=>e.parsedValue),(t=>{if(t&&2===t.length)if(a.value=t[0],l.value=t[1],s.value=a.value,e.unlinkPanels&&l.value){const e=a.value.year(),t=a.value.month(),n=l.value.year(),r=l.value.month();i.value=e===n&&t===r?l.value.add(1,"month"):l.value}else i.value=s.value.add(1,"month"),l.value&&(i.value=i.value.hour(l.value.hour()).minute(l.value.minute()).second(l.value.second()));else{const e=oe();a.value=null,l.value=null,s.value=e[0],i.value=e[1]}}),{immediate:!0}),{shortcuts:ie,disabledDate:ae,cellClassName:le,minTimePickerVisible:z,maxTimePickerVisible:W,handleMinTimeClose:Y,handleMaxTimeClose:G,handleShortcutClick:q,rangeState:M,minDate:a,maxDate:l,handleRangePick:F,onSelect:B,handleChangeRange:$,btnDisabled:L,enableYearArrow:D,enableMonthArrow:O,rightPrevMonth:I,rightPrevYear:j,rightNextMonth:x,rightNextYear:T,leftPrevMonth:k,leftPrevYear:E,leftNextMonth:A,leftNextYear:R,hasShortcuts:v,leftLabel:d,rightLabel:p,leftDate:s,rightDate:i,showTime:H,t:r,minVisibleDate:b,maxVisibleDate:y,minVisibleTime:w,maxVisibleTime:S,arrowControl:de,handleDateInput:K,handleDateChange:X,handleTimeInput:J,handleTimeChange:Z,handleMinTimePick:Q,handleMaxTimePick:ee,handleClear:te,handleConfirm:U,timeFormat:C,clearable:pe}}}),uO={class:"el-picker-panel__body-wrapper"},dO={key:0,class:"el-picker-panel__sidebar"},pO=["onClick"],hO={class:"el-picker-panel__body"},fO={key:0,class:"el-date-range-picker__time-header"},gO={class:"el-date-range-picker__editors-wrap"},mO={class:"el-date-range-picker__time-picker-wrap"},vO={class:"el-date-range-picker__time-picker-wrap"},bO={class:"el-date-range-picker__editors-wrap is-right"},yO={class:"el-date-range-picker__time-picker-wrap"},wO={class:"el-date-range-picker__time-picker-wrap"},SO={class:"el-picker-panel__content el-date-range-picker__content is-left"},CO={class:"el-date-range-picker__header"},_O=["disabled"],EO=["disabled"],kO={class:"el-picker-panel__content el-date-range-picker__content is-right"},TO={class:"el-date-range-picker__header"},xO=["disabled"],RO=["disabled"],AO={key:0,class:"el-picker-panel__footer"};function jO(e,t,r,o,s,i){const a=(0,n.resolveComponent)("el-input"),l=(0,n.resolveComponent)("time-pick-panel"),c=(0,n.resolveComponent)("arrow-right"),u=(0,n.resolveComponent)("el-icon"),d=(0,n.resolveComponent)("d-arrow-left"),p=(0,n.resolveComponent)("arrow-left"),h=(0,n.resolveComponent)("d-arrow-right"),f=(0,n.resolveComponent)("date-table"),g=(0,n.resolveComponent)("el-button"),m=(0,n.resolveDirective)("clickoutside");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["el-picker-panel el-date-range-picker",[{"has-sidebar":e.$slots.sidebar||e.hasShortcuts,"has-time":e.showTime}]])},[(0,n.createElementVNode)("div",uO,[(0,n.renderSlot)(e.$slots,"sidebar",{class:"el-picker-panel__sidebar"}),e.hasShortcuts?((0,n.openBlock)(),(0,n.createElementBlock)("div",dO,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.shortcuts,((t,r)=>((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:r,type:"button",class:"el-picker-panel__shortcut",onClick:n=>e.handleShortcutClick(t)},(0,n.toDisplayString)(t.text),9,pO)))),128))])):(0,n.createCommentVNode)("v-if",!0),(0,n.createElementVNode)("div",hO,[e.showTime?((0,n.openBlock)(),(0,n.createElementBlock)("div",fO,[(0,n.createElementVNode)("span",gO,[(0,n.createElementVNode)("span",mO,[(0,n.createVNode)(a,{size:"small",disabled:e.rangeState.selecting,placeholder:e.t("el.datepicker.startDate"),class:"el-date-range-picker__editor","model-value":e.minVisibleDate,onInput:t[0]||(t[0]=t=>e.handleDateInput(t,"min")),onChange:t[1]||(t[1]=t=>e.handleDateChange(t,"min"))},null,8,["disabled","placeholder","model-value"])]),(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("span",vO,[(0,n.createVNode)(a,{size:"small",class:"el-date-range-picker__editor",disabled:e.rangeState.selecting,placeholder:e.t("el.datepicker.startTime"),"model-value":e.minVisibleTime,onFocus:t[2]||(t[2]=t=>e.minTimePickerVisible=!0),onInput:t[3]||(t[3]=t=>e.handleTimeInput(t,"min")),onChange:t[4]||(t[4]=t=>e.handleTimeChange(t,"min"))},null,8,["disabled","placeholder","model-value"]),(0,n.createVNode)(l,{visible:e.minTimePickerVisible,format:e.timeFormat,"datetime-role":"start","time-arrow-control":e.arrowControl,"parsed-value":e.leftDate,onPick:e.handleMinTimePick},null,8,["visible","format","time-arrow-control","parsed-value","onPick"])])),[[m,e.handleMinTimeClose]])]),(0,n.createElementVNode)("span",null,[(0,n.createVNode)(u,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(c)])),_:1})]),(0,n.createElementVNode)("span",bO,[(0,n.createElementVNode)("span",yO,[(0,n.createVNode)(a,{size:"small",class:"el-date-range-picker__editor",disabled:e.rangeState.selecting,placeholder:e.t("el.datepicker.endDate"),"model-value":e.maxVisibleDate,readonly:!e.minDate,onInput:t[5]||(t[5]=t=>e.handleDateInput(t,"max")),onChange:t[6]||(t[6]=t=>e.handleDateChange(t,"max"))},null,8,["disabled","placeholder","model-value","readonly"])]),(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("span",wO,[(0,n.createVNode)(a,{size:"small",class:"el-date-range-picker__editor",disabled:e.rangeState.selecting,placeholder:e.t("el.datepicker.endTime"),"model-value":e.maxVisibleTime,readonly:!e.minDate,onFocus:t[7]||(t[7]=t=>e.minDate&&(e.maxTimePickerVisible=!0)),onInput:t[8]||(t[8]=t=>e.handleTimeInput(t,"max")),onChange:t[9]||(t[9]=t=>e.handleTimeChange(t,"max"))},null,8,["disabled","placeholder","model-value","readonly"]),(0,n.createVNode)(l,{"datetime-role":"end",visible:e.maxTimePickerVisible,format:e.timeFormat,"time-arrow-control":e.arrowControl,"parsed-value":e.rightDate,onPick:e.handleMaxTimePick},null,8,["visible","format","time-arrow-control","parsed-value","onPick"])])),[[m,e.handleMaxTimeClose]])])])):(0,n.createCommentVNode)("v-if",!0),(0,n.createElementVNode)("div",SO,[(0,n.createElementVNode)("div",CO,[(0,n.createElementVNode)("button",{type:"button",class:"el-picker-panel__icon-btn d-arrow-left",onClick:t[10]||(t[10]=(...t)=>e.leftPrevYear&&e.leftPrevYear(...t))},[(0,n.createVNode)(u,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(d)])),_:1})]),(0,n.createElementVNode)("button",{type:"button",class:"el-picker-panel__icon-btn arrow-left",onClick:t[11]||(t[11]=(...t)=>e.leftPrevMonth&&e.leftPrevMonth(...t))},[(0,n.createVNode)(u,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(p)])),_:1})]),e.unlinkPanels?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,type:"button",disabled:!e.enableYearArrow,class:(0,n.normalizeClass)([{"is-disabled":!e.enableYearArrow},"el-picker-panel__icon-btn d-arrow-right"]),onClick:t[12]||(t[12]=(...t)=>e.leftNextYear&&e.leftNextYear(...t))},[(0,n.createVNode)(u,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(h)])),_:1})],10,_O)):(0,n.createCommentVNode)("v-if",!0),e.unlinkPanels?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,type:"button",disabled:!e.enableMonthArrow,class:(0,n.normalizeClass)([{"is-disabled":!e.enableMonthArrow},"el-picker-panel__icon-btn arrow-right"]),onClick:t[13]||(t[13]=(...t)=>e.leftNextMonth&&e.leftNextMonth(...t))},[(0,n.createVNode)(u,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(c)])),_:1})],10,EO)):(0,n.createCommentVNode)("v-if",!0),(0,n.createElementVNode)("div",null,(0,n.toDisplayString)(e.leftLabel),1)]),(0,n.createVNode)(f,{"selection-mode":"range",date:e.leftDate,"min-date":e.minDate,"max-date":e.maxDate,"range-state":e.rangeState,"disabled-date":e.disabledDate,"cell-class-name":e.cellClassName,onChangerange:e.handleChangeRange,onPick:e.handleRangePick,onSelect:e.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onPick","onSelect"])]),(0,n.createElementVNode)("div",kO,[(0,n.createElementVNode)("div",TO,[e.unlinkPanels?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,type:"button",disabled:!e.enableYearArrow,class:(0,n.normalizeClass)([{"is-disabled":!e.enableYearArrow},"el-picker-panel__icon-btn d-arrow-left"]),onClick:t[14]||(t[14]=(...t)=>e.rightPrevYear&&e.rightPrevYear(...t))},[(0,n.createVNode)(u,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(d)])),_:1})],10,xO)):(0,n.createCommentVNode)("v-if",!0),e.unlinkPanels?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,type:"button",disabled:!e.enableMonthArrow,class:(0,n.normalizeClass)([{"is-disabled":!e.enableMonthArrow},"el-picker-panel__icon-btn arrow-left"]),onClick:t[15]||(t[15]=(...t)=>e.rightPrevMonth&&e.rightPrevMonth(...t))},[(0,n.createVNode)(u,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(p)])),_:1})],10,RO)):(0,n.createCommentVNode)("v-if",!0),(0,n.createElementVNode)("button",{type:"button",class:"el-picker-panel__icon-btn d-arrow-right",onClick:t[16]||(t[16]=(...t)=>e.rightNextYear&&e.rightNextYear(...t))},[(0,n.createVNode)(u,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(h)])),_:1})]),(0,n.createElementVNode)("button",{type:"button",class:"el-picker-panel__icon-btn arrow-right",onClick:t[17]||(t[17]=(...t)=>e.rightNextMonth&&e.rightNextMonth(...t))},[(0,n.createVNode)(u,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(c)])),_:1})]),(0,n.createElementVNode)("div",null,(0,n.toDisplayString)(e.rightLabel),1)]),(0,n.createVNode)(f,{"selection-mode":"range",date:e.rightDate,"min-date":e.minDate,"max-date":e.maxDate,"range-state":e.rangeState,"disabled-date":e.disabledDate,"cell-class-name":e.cellClassName,onChangerange:e.handleChangeRange,onPick:e.handleRangePick,onSelect:e.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onPick","onSelect"])])])]),e.showTime?((0,n.openBlock)(),(0,n.createElementBlock)("div",AO,[e.clearable?((0,n.openBlock)(),(0,n.createBlock)(g,{key:0,text:"",size:"small",class:"el-picker-panel__link-btn",onClick:e.handleClear},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.t("el.datepicker.clear")),1)])),_:1},8,["onClick"])):(0,n.createCommentVNode)("v-if",!0),(0,n.createVNode)(g,{plain:"",size:"small",class:"el-picker-panel__link-btn",disabled:e.btnDisabled,onClick:t[18]||(t[18]=t=>e.handleConfirm(!1))},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.t("el.datepicker.confirm")),1)])),_:1},8,["disabled"])])):(0,n.createCommentVNode)("v-if",!0)],2)}var IO=r(cO,[["render",jO],["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const NO=(0,n.defineComponent)({components:{MonthTable:gN,ElIcon:Jl,DArrowLeft:ME,DArrowRight:VE},props:{unlinkPanels:Boolean,parsedValue:{type:Array}},emits:["pick","set-picker-option"],setup(e,t){const{t:r,lang:o}=wf(),s=(0,n.ref)(Rg().locale(o.value)),i=(0,n.ref)(Rg().locale(o.value).add(1,"year")),a=(0,n.computed)((()=>!!A.length)),l=e=>{const n="function"===typeof e.value?e.value():e.value;n?t.emit("pick",[Rg(n[0]).locale(o.value),Rg(n[1]).locale(o.value)]):e.onClick&&e.onClick(t)},c=()=>{s.value=s.value.subtract(1,"year"),e.unlinkPanels||(i.value=i.value.subtract(1,"year"))},u=()=>{e.unlinkPanels||(s.value=s.value.add(1,"year")),i.value=i.value.add(1,"year")},d=()=>{s.value=s.value.add(1,"year")},p=()=>{i.value=i.value.subtract(1,"year")},h=(0,n.computed)((()=>`${s.value.year()} ${r("el.datepicker.year")}`)),f=(0,n.computed)((()=>`${i.value.year()} ${r("el.datepicker.year")}`)),g=(0,n.computed)((()=>s.value.year())),m=(0,n.computed)((()=>i.value.year()===s.value.year()?s.value.year()+1:i.value.year())),v=(0,n.computed)((()=>e.unlinkPanels&&m.value>g.value+1)),b=(0,n.ref)(null),y=(0,n.ref)(null),w=(0,n.ref)({endDate:null,selecting:!1}),S=e=>{w.value=e},C=(e,t=!0)=>{const n=e.minDate,r=e.maxDate;y.value===r&&b.value===n||(y.value=r,b.value=n,t&&E())},_=e=>Array.isArray(e)&&e&&e[0]&&e[1]&&e[0].valueOf()<=e[1].valueOf(),E=(e=!1)=>{_([b.value,y.value])&&t.emit("pick",[b.value,y.value],e)},k=e=>{w.value.selecting=e,e||(w.value.endDate=null)},T=e=>e.map((e=>e.format(I))),x=()=>{let t;if(Array.isArray(N.value)){const t=Rg(N.value[0]);let n=Rg(N.value[1]);return e.unlinkPanels||(n=t.add(1,"year")),[t,n]}return t=N.value?Rg(N.value):Rg(),t=t.locale(o.value),[t,t.add(1,"year")]};t.emit("set-picker-option",["formatToString",T]);const R=(0,n.inject)("EP_PICKER_BASE"),{shortcuts:A,disabledDate:j,format:I}=R.props,N=(0,n.toRef)(R.props,"defaultValue");return(0,n.watch)((()=>N.value),(e=>{if(e){const e=x();s.value=e[0],i.value=e[1]}}),{immediate:!0}),(0,n.watch)((()=>e.parsedValue),(t=>{if(t&&2===t.length)if(b.value=t[0],y.value=t[1],s.value=b.value,e.unlinkPanels&&y.value){const e=b.value.year(),t=y.value.year();i.value=e===t?y.value.add(1,"year"):y.value}else i.value=s.value.add(1,"year");else{const e=x();b.value=null,y.value=null,s.value=e[0],i.value=e[1]}}),{immediate:!0}),{shortcuts:A,disabledDate:j,onSelect:k,handleRangePick:C,rangeState:w,handleChangeRange:S,minDate:b,maxDate:y,enableYearArrow:v,leftLabel:h,rightLabel:f,leftNextYear:d,leftPrevYear:c,rightNextYear:u,rightPrevYear:p,t:r,leftDate:s,rightDate:i,hasShortcuts:a,handleShortcutClick:l}}}),OO={class:"el-picker-panel__body-wrapper"},DO={key:0,class:"el-picker-panel__sidebar"},PO=["onClick"],MO={class:"el-picker-panel__body"},LO={class:"el-picker-panel__content el-date-range-picker__content is-left"},$O={class:"el-date-range-picker__header"},BO=["disabled"],HO={class:"el-picker-panel__content el-date-range-picker__content is-right"},UO={class:"el-date-range-picker__header"},VO=["disabled"];function FO(e,t,r,o,s,i){const a=(0,n.resolveComponent)("d-arrow-left"),l=(0,n.resolveComponent)("el-icon"),c=(0,n.resolveComponent)("d-arrow-right"),u=(0,n.resolveComponent)("month-table");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["el-picker-panel el-date-range-picker",[{"has-sidebar":e.$slots.sidebar||e.hasShortcuts}]])},[(0,n.createElementVNode)("div",OO,[(0,n.renderSlot)(e.$slots,"sidebar",{class:"el-picker-panel__sidebar"}),e.hasShortcuts?((0,n.openBlock)(),(0,n.createElementBlock)("div",DO,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.shortcuts,((t,r)=>((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:r,type:"button",class:"el-picker-panel__shortcut",onClick:n=>e.handleShortcutClick(t)},(0,n.toDisplayString)(t.text),9,PO)))),128))])):(0,n.createCommentVNode)("v-if",!0),(0,n.createElementVNode)("div",MO,[(0,n.createElementVNode)("div",LO,[(0,n.createElementVNode)("div",$O,[(0,n.createElementVNode)("button",{type:"button",class:"el-picker-panel__icon-btn d-arrow-left",onClick:t[0]||(t[0]=(...t)=>e.leftPrevYear&&e.leftPrevYear(...t))},[(0,n.createVNode)(l,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(a)])),_:1})]),e.unlinkPanels?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,type:"button",disabled:!e.enableYearArrow,class:(0,n.normalizeClass)([{"is-disabled":!e.enableYearArrow},"el-picker-panel__icon-btn d-arrow-right"]),onClick:t[1]||(t[1]=(...t)=>e.leftNextYear&&e.leftNextYear(...t))},[(0,n.createVNode)(l,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(c)])),_:1})],10,BO)):(0,n.createCommentVNode)("v-if",!0),(0,n.createElementVNode)("div",null,(0,n.toDisplayString)(e.leftLabel),1)]),(0,n.createVNode)(u,{"selection-mode":"range",date:e.leftDate,"min-date":e.minDate,"max-date":e.maxDate,"range-state":e.rangeState,"disabled-date":e.disabledDate,onChangerange:e.handleChangeRange,onPick:e.handleRangePick,onSelect:e.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onPick","onSelect"])]),(0,n.createElementVNode)("div",HO,[(0,n.createElementVNode)("div",UO,[e.unlinkPanels?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,type:"button",disabled:!e.enableYearArrow,class:(0,n.normalizeClass)([{"is-disabled":!e.enableYearArrow},"el-picker-panel__icon-btn d-arrow-left"]),onClick:t[2]||(t[2]=(...t)=>e.rightPrevYear&&e.rightPrevYear(...t))},[(0,n.createVNode)(l,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(a)])),_:1})],10,VO)):(0,n.createCommentVNode)("v-if",!0),(0,n.createElementVNode)("button",{type:"button",class:"el-picker-panel__icon-btn d-arrow-right",onClick:t[3]||(t[3]=(...t)=>e.rightNextYear&&e.rightNextYear(...t))},[(0,n.createVNode)(l,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(c)])),_:1})]),(0,n.createElementVNode)("div",null,(0,n.toDisplayString)(e.rightLabel),1)]),(0,n.createVNode)(u,{"selection-mode":"range",date:e.rightDate,"min-date":e.minDate,"max-date":e.maxDate,"range-state":e.rangeState,"disabled-date":e.disabledDate,onChangerange:e.handleChangeRange,onPick:e.handleRangePick,onSelect:e.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onPick","onSelect"])])])])],2)}var qO=r(NO,[["render",FO],["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const zO={id:{type:[Array,String]},name:{type:[Array,String],default:""},popperClass:{type:String,default:""},format:{type:String},valueFormat:{type:String},type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:[String,Object],default:Ja},editable:{type:Boolean,default:!0},prefixIcon:{type:[String,Object],default:""},size:{type:String,validator:Nf},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},modelValue:{type:[Date,Array,String,Number],default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:[Date,Array]},defaultTime:{type:[Date,Array]},isRange:{type:Boolean,default:!1},disabledHours:{type:Function},disabledMinutes:{type:Function},disabledSeconds:{type:Function},disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean},WO="HH:mm:ss",YO="YYYY-MM-DD",GO={date:YO,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${YO} ${WO}`,monthrange:"YYYY-MM",daterange:YO,datetimerange:`${YO} ${WO}`},KO=(0,n.defineComponent)({name:"Clock"}),XO={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},JO=(0,n.createElementVNode)("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),ZO=(0,n.createElementVNode)("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1),QO=(0,n.createElementVNode)("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32z"},null,-1),eD=[JO,ZO,QO];function tD(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",XO,eD)}var nD=ta(KO,[["render",tD]]);const rD=(0,n.defineComponent)({name:"Calendar"}),oD={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},sD=(0,n.createElementVNode)("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"},null,-1),iD=[sD];function aD(e,t,r,o,s,i){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",oD,iD)}var lD=ta(rD,[["render",aD]]);const cD=function(e,t){const n=e instanceof Date,r=t instanceof Date;return n&&r?e.getTime()===t.getTime():!n&&!r&&e===t},uD=function(e,t){const n=Array.isArray(e),r=Array.isArray(t);return n&&r?e.length===t.length&&e.every(((e,n)=>cD(e,t[n]))):!n&&!r&&cD(e,t)},dD=function(e,t,n){const r=Si(t)||"x"===t?Rg(e).locale(n):Rg(e,t).locale(n);return r.isValid()?r:void 0},pD=function(e,t,n){return Si(t)?e:"x"===t?+e:Rg(e).locale(n).format(t)},hD=(0,n.defineComponent)({name:"Picker",components:{ElInput:$c,ElTooltip:ea,ElIcon:Jl},props:zO,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change"],setup(e,t){const{lang:r}=wf(),o=Qs("date"),s=Qs("input"),i=Qs("range"),a=(0,n.inject)(Dn,{}),l=(0,n.inject)(Pn,{}),c=(0,n.inject)("ElPopperOptions",{}),u=(0,n.ref)(),d=(0,n.ref)(),p=(0,n.ref)(!1),h=(0,n.ref)(!1),f=(0,n.ref)(null);(0,n.watch)(p,(r=>{var o;r?f.value=e.modelValue:(W.value=null,(0,n.nextTick)((()=>{g(e.modelValue)})),t.emit("blur"),G(),e.validateEvent&&(null==(o=l.validate)||o.call(l,"blur").catch((e=>Bn(e)))))}));const g=(n,r)=>{var o;!r&&uD(n,f.value)||(t.emit("change",n),e.validateEvent&&(null==(o=l.validate)||o.call(l,"change").catch((e=>Bn(e)))))},m=n=>{if(!uD(e.modelValue,n)){let o;Array.isArray(n)?o=n.map((t=>pD(t,e.valueFormat,r.value))):n&&(o=pD(n,e.valueFormat,r.value)),t.emit("update:modelValue",n?o:n,r.value)}},v=(0,n.computed)((()=>{if(d.value){const e=H.value?d.value:d.value.$el;return Array.from(e.querySelectorAll("input"))}return[]})),b=(0,n.computed)((()=>null==v?void 0:v.value[0])),y=(0,n.computed)((()=>null==v?void 0:v.value[1])),w=(e,t,n)=>{const r=v.value;r.length&&(n&&"min"!==n?"max"===n&&(r[1].setSelectionRange(e,t),r[1].focus()):(r[0].setSelectionRange(e,t),r[0].focus()))},S=(e="",t=!1)=>{let n;p.value=t,n=Array.isArray(e)?e.map((e=>e.toDate())):e?e.toDate():e,W.value=null,m(n)},C=()=>{h.value=!0},_=()=>{t.emit("visible-change",!0)},E=()=>{h.value=!1,t.emit("visible-change",!1)},k=(e=!0)=>{let t=b.value;!e&&H.value&&(t=y.value),t&&t.focus()},T=n=>{e.readonly||R.value||p.value||(p.value=!0,t.emit("focus",n))},x=()=>{var e;null==(e=u.value)||e.onClose(),G()},R=(0,n.computed)((()=>e.disabled||a.disabled)),A=(0,n.computed)((()=>{let t;if(L.value?oe.value.getDefaultValue&&(t=oe.value.getDefaultValue()):t=Array.isArray(e.modelValue)?e.modelValue.map((t=>dD(t,e.valueFormat,r.value))):dD(e.modelValue,e.valueFormat,r.value),oe.value.getRangeAvailableTime){const e=oe.value.getRangeAvailableTime(t);Gh(e,t)||(t=e,m(Array.isArray(t)?t.map((e=>e.toDate())):t.toDate()))}return Array.isArray(t)&&t.some((e=>!e))&&(t=[]),t})),j=(0,n.computed)((()=>{if(!oe.value.panelReady)return;const e=X(A.value);return Array.isArray(W.value)?[W.value[0]||e&&e[0]||"",W.value[1]||e&&e[1]||""]:null!==W.value?W.value:!N.value&&L.value||!p.value&&L.value?void 0:e?O.value?e.join(", "):e:""})),I=(0,n.computed)((()=>e.type.includes("time"))),N=(0,n.computed)((()=>e.type.startsWith("time"))),O=(0,n.computed)((()=>"dates"===e.type)),D=(0,n.computed)((()=>e.prefixIcon||(I.value?nD:lD))),P=(0,n.ref)(!1),M=t=>{e.readonly||R.value||P.value&&(t.stopPropagation(),m(null),g(null,!0),P.value=!1,p.value=!1,oe.value.handleClear&&oe.value.handleClear())},L=(0,n.computed)((()=>!e.modelValue||Array.isArray(e.modelValue)&&!e.modelValue.length)),$=()=>{e.readonly||R.value||!L.value&&e.clearable&&(P.value=!0)},B=()=>{P.value=!1},H=(0,n.computed)((()=>e.type.includes("range"))),U=wc(),V=(0,n.computed)((()=>{var e,t;return null==(t=null==(e=u.value)?void 0:e.popperRef)?void 0:t.contentRef})),F=(0,n.computed)((()=>{var e,t;return null==(t=null==(e=(0,n.unref)(u))?void 0:e.popperRef)?void 0:t.contentRef})),z=(0,n.computed)((()=>{var e;return(0,n.unref)(H)?(0,n.unref)(d):null==(e=(0,n.unref)(d))?void 0:e.$el}));q(z,(e=>{const t=(0,n.unref)(F),r=(0,n.unref)(z);t&&(e.target===t||e.composedPath().includes(t))||e.target===r||e.composedPath().includes(r)||(p.value=!1)}));const W=(0,n.ref)(null),Y=()=>{if(W.value){const e=K(j.value);e&&J(e)&&(m(Array.isArray(e)?e.map((e=>e.toDate())):e.toDate()),W.value=null)}""===W.value&&(m(null),g(null),W.value=null)},G=()=>{v.value.forEach((e=>e.blur()))},K=e=>e?oe.value.parseUserInput(e):null,X=e=>e?oe.value.formatToString(e):null,J=e=>oe.value.isValidValue(e),Z=e=>{const t=e.code;return t===ii.esc?(p.value=!1,void e.stopPropagation()):t!==ii.tab?t===ii.enter||t===ii.numpadEnter?((null===W.value||""===W.value||J(K(j.value)))&&(Y(),p.value=!1),void e.stopPropagation()):void(W.value?e.stopPropagation():oe.value.handleKeydown&&oe.value.handleKeydown(e)):void(H.value?setTimeout((()=>{v.value.includes(document.activeElement)||(p.value=!1,G())}),0):(Y(),p.value=!1,e.stopPropagation()))},Q=e=>{W.value=e},ee=e=>{W.value?W.value=[e.target.value,W.value[1]]:W.value=[e.target.value,null]},te=e=>{W.value?W.value=[W.value[0],e.target.value]:W.value=[null,e.target.value]},ne=()=>{const e=K(W.value&&W.value[0]);if(e&&e.isValid()){W.value=[X(e),j.value[1]];const t=[e,A.value&&A.value[1]];J(t)&&(m(t),W.value=null)}},re=()=>{const e=K(W.value&&W.value[1]);if(e&&e.isValid()){W.value=[j.value[0],X(e)];const t=[A.value&&A.value[0],e];J(t)&&(m(t),W.value=null)}},oe=(0,n.ref)({}),se=e=>{oe.value[e[0]]=e[1],oe.value.panelReady=!0},ie=e=>{t.emit("calendar-change",e)},ae=(e,n,r)=>{t.emit("panel-change",e,n,r)};return(0,n.provide)("EP_PICKER_BASE",{props:e}),{nsDate:o,nsInput:s,nsRange:i,elPopperOptions:c,isDatesPicker:O,handleEndChange:re,handleStartChange:ne,handleStartInput:ee,handleEndInput:te,onUserInput:Q,handleChange:Y,handleKeydown:Z,popperPaneRef:V,onClickOutside:q,pickerSize:U,isRangeInput:H,onMouseLeave:B,onMouseEnter:$,onClearIconClick:M,showClose:P,triggerIcon:D,onPick:S,handleFocus:T,handleBlur:x,pickerVisible:p,pickerActualVisible:h,displayValue:j,parsedValue:A,setSelectionRange:w,refPopper:u,inputRef:d,pickerDisabled:R,onSetPickerOption:se,onCalendarChange:ie,onPanelChange:ae,focus:k,onShow:_,onBeforeShow:C,onHide:E}}}),fD=["id","name","placeholder","value","disabled","readonly"],gD=["id","name","placeholder","value","disabled","readonly"];function mD(e,t,r,o,s,i){const a=(0,n.resolveComponent)("el-icon"),l=(0,n.resolveComponent)("el-input"),c=(0,n.resolveComponent)("el-tooltip");return(0,n.openBlock)(),(0,n.createBlock)(c,(0,n.mergeProps)({ref:"refPopper",visible:e.pickerVisible,"onUpdate:visible":t[17]||(t[17]=t=>e.pickerVisible=t),effect:"light",pure:"",trigger:"click"},e.$attrs,{teleported:"",transition:`${e.nsDate.namespace.value}-zoom-in-top`,"popper-class":[`${e.nsDate.namespace.value}-picker__popper`,e.popperClass],"popper-options":e.elPopperOptions,"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:e.onBeforeShow,onShow:e.onShow,onHide:e.onHide}),{default:(0,n.withCtx)((()=>[e.isRangeInput?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,ref:"inputRef",class:(0,n.normalizeClass)([e.nsDate.b("editor"),e.nsDate.bm("editor",e.type),e.nsInput.e("inner"),e.nsDate.is("disabled",e.pickerDisabled),e.nsDate.is("active",e.pickerVisible),e.nsRange.b("editor"),e.pickerSize?e.nsRange.bm("editor",e.pickerSize):"",e.$attrs.class]),style:(0,n.normalizeStyle)(e.$attrs.style),onClick:t[7]||(t[7]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onMouseenter:t[8]||(t[8]=(...t)=>e.onMouseEnter&&e.onMouseEnter(...t)),onMouseleave:t[9]||(t[9]=(...t)=>e.onMouseLeave&&e.onMouseLeave(...t)),onKeydown:t[10]||(t[10]=(...t)=>e.handleKeydown&&e.handleKeydown(...t))},[e.triggerIcon?((0,n.openBlock)(),(0,n.createBlock)(a,{key:0,class:(0,n.normalizeClass)([e.nsInput.e("icon"),e.nsRange.e("icon")]),onClick:e.handleFocus},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(e.triggerIcon)))])),_:1},8,["class","onClick"])):(0,n.createCommentVNode)("v-if",!0),(0,n.createElementVNode)("input",{id:e.id&&e.id[0],autocomplete:"off",name:e.name&&e.name[0],placeholder:e.startPlaceholder,value:e.displayValue&&e.displayValue[0],disabled:e.pickerDisabled,readonly:!e.editable||e.readonly,class:(0,n.normalizeClass)(e.nsRange.b("input")),onInput:t[1]||(t[1]=(...t)=>e.handleStartInput&&e.handleStartInput(...t)),onChange:t[2]||(t[2]=(...t)=>e.handleStartChange&&e.handleStartChange(...t)),onFocus:t[3]||(t[3]=(...t)=>e.handleFocus&&e.handleFocus(...t))},null,42,fD),(0,n.renderSlot)(e.$slots,"range-separator",{},(()=>[(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)(e.nsRange.b("separator"))},(0,n.toDisplayString)(e.rangeSeparator),3)])),(0,n.createElementVNode)("input",{id:e.id&&e.id[1],autocomplete:"off",name:e.name&&e.name[1],placeholder:e.endPlaceholder,value:e.displayValue&&e.displayValue[1],disabled:e.pickerDisabled,readonly:!e.editable||e.readonly,class:(0,n.normalizeClass)(e.nsRange.b("input")),onFocus:t[4]||(t[4]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onInput:t[5]||(t[5]=(...t)=>e.handleEndInput&&e.handleEndInput(...t)),onChange:t[6]||(t[6]=(...t)=>e.handleEndChange&&e.handleEndChange(...t))},null,42,gD),e.clearIcon?((0,n.openBlock)(),(0,n.createBlock)(a,{key:1,class:(0,n.normalizeClass)([e.nsInput.e("icon"),e.nsRange.e("close-icon"),{[e.nsRange.e("close-icon--hidden")]:!e.showClose}]),onClick:e.onClearIconClick},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(e.clearIcon)))])),_:1},8,["class","onClick"])):(0,n.createCommentVNode)("v-if",!0)],38)):((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,id:e.id,ref:"inputRef","model-value":e.displayValue,name:e.name,size:e.pickerSize,disabled:e.pickerDisabled,placeholder:e.placeholder,class:(0,n.normalizeClass)([e.nsDate.b("editor"),e.nsDate.bm("editor",e.type),e.$attrs.class]),style:(0,n.normalizeStyle)(e.$attrs.style),readonly:!e.editable||e.readonly||e.isDatesPicker||"week"===e.type,label:e.label,tabindex:e.tabindex,onInput:e.onUserInput,onFocus:e.handleFocus,onKeydown:e.handleKeydown,onChange:e.handleChange,onMouseenter:e.onMouseEnter,onMouseleave:e.onMouseLeave,onClick:t[0]||(t[0]=(0,n.withModifiers)((()=>{}),["stop"]))},{prefix:(0,n.withCtx)((()=>[e.triggerIcon?((0,n.openBlock)(),(0,n.createBlock)(a,{key:0,class:(0,n.normalizeClass)(e.nsInput.e("icon")),onClick:e.handleFocus},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(e.triggerIcon)))])),_:1},8,["class","onClick"])):(0,n.createCommentVNode)("v-if",!0)])),suffix:(0,n.withCtx)((()=>[e.showClose&&e.clearIcon?((0,n.openBlock)(),(0,n.createBlock)(a,{key:0,class:(0,n.normalizeClass)(`${e.nsInput.e("icon")} clear-icon`),onClick:e.onClearIconClick},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(e.clearIcon)))])),_:1},8,["class","onClick"])):(0,n.createCommentVNode)("v-if",!0)])),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onInput","onFocus","onKeydown","onChange","onMouseenter","onMouseleave"]))])),content:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"default",{visible:e.pickerVisible,actualVisible:e.pickerActualVisible,parsedValue:e.parsedValue,format:e.format,unlinkPanels:e.unlinkPanels,type:e.type,defaultValue:e.defaultValue,onPick:t[11]||(t[11]=(...t)=>e.onPick&&e.onPick(...t)),onSelectRange:t[12]||(t[12]=(...t)=>e.setSelectionRange&&e.setSelectionRange(...t)),onSetPickerOption:t[13]||(t[13]=(...t)=>e.onSetPickerOption&&e.onSetPickerOption(...t)),onCalendarChange:t[14]||(t[14]=(...t)=>e.onCalendarChange&&e.onCalendarChange(...t)),onPanelChange:t[15]||(t[15]=(...t)=>e.onPanelChange&&e.onPanelChange(...t)),onMousedown:t[16]||(t[16]=(0,n.withModifiers)((()=>{}),["stop"]))})])),_:3},16,["visible","transition","popper-class","popper-options","onBeforeShow","onShow","onHide"])}var vD=r(hD,[["render",mD],["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);Rg.extend(KI),Rg.extend(GI),Rg.extend(YI),Rg.extend(XI),Rg.extend(JI),Rg.extend(ZI),Rg.extend(QI),Rg.extend(eN);const bD=function(e){return"daterange"===e||"datetimerange"===e?IO:"monthrange"===e?qO:lO};var yD=(0,n.defineComponent)({name:"ElDatePicker",install:null,props:{...zO,type:{type:String,default:"date"}},emits:["update:modelValue"],setup(e,t){(0,n.provide)("ElPopperOptions",e.popperOptions),(0,n.provide)(tN,{ctx:t});const r=(0,n.ref)(null),o={...e,focus:(e=!0)=>{var t;null==(t=r.value)||t.focus(e)}};return t.expose(o),()=>{var o;const s=null!=(o=e.format)?o:GO[e.type]||YO;return(0,n.h)(vD,{...e,format:s,type:e.type,ref:r,"onUpdate:modelValue":e=>t.emit("update:modelValue",e)},{default:t=>(0,n.h)(bD(e.type),t),"range-separator":()=>(0,n.renderSlot)(t.slots,"range-separator")})}}});const wD=yD;wD.install=e=>{e.component(wD.name,wD)};const SD=wD,CD={class:"search-section"},_D={class:"action-section action-section-sdk"},ED=(0,n.createElementVNode)("img",{src:"https://nxcc-gz-1259196162.cos.ap-guangzhou.myqcloud.com/static/resource/img/download.svg",alt:"",class:"downLoadLogo downLoadLogos"},null,-1),kD={class:"table-section"},TD={key:0},xD={key:1},RD={key:0},AD={key:1},jD=["onPlay"],ID=["src"],ND={class:"recordAct-content"},OD={class:"recordAct-time"},DD={class:"recordAct-time-txt"},PD={class:"recordAct-time-btn"},MD={key:1},LD={class:"hanldChangeEdit"},$D={key:1,style:{color:"#999999",cursor:"not-allowed"}},BD={class:"dialog-footer"};function HD(e,t,r,o,s,i){const a=Wf,l=zf,c=WI,u=Ll,d=$c,p=SD,h=qw,f=Ol,g=zI,m=Yx,v=aR,b=NS,y=eR,w=_S,S=CS,C=Zy,_=q_;return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createElementVNode)("div",CD,[(0,n.createVNode)(g,{ref:"formRef","label-position":"top",model:e.recordSearch},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(f,{gutter:12},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(u,{md:24,lg:4},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(c,{prop:"direction"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(l,{modelValue:e.recordSearch.direction,"onUpdate:modelValue":t[0]||(t[0]=t=>e.recordSearch.direction=t),placeholder:e.i18n.global.t("record.selectType"),clearable:"",style:{width:"100%"}},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)([{value:0,label:e.i18n.global.t("record.inboundCall")},{value:1,label:e.i18n.global.t("record.outboundCall")}],(e=>((0,n.openBlock)(),(0,n.createBlock)(a,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1})])),_:1}),(0,n.createVNode)(u,{md:24,lg:4},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(c,{prop:"group"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(l,{modelValue:e.recordSearch.group,"onUpdate:modelValue":t[1]||(t[1]=t=>e.recordSearch.group=t),filterable:"",remote:"",clearable:"","reserve-keyword":"",placeholder:e.i18n.global.t("record.enterAgentGroupName"),"remote-method":e.remoteMethod,onClear:e.clearGroup,loading:e.queryLoading,style:{width:"100%"}},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.queryOptions,(e=>((0,n.openBlock)(),(0,n.createBlock)(a,{key:e.id,label:e.groupName,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder","remote-method","onClear","loading"])])),_:1})])),_:1}),(0,n.createVNode)(u,{md:24,lg:4},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(c,{prop:"name"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(d,{clearable:"",modelValue:e.recordSearch.name,"onUpdate:modelValue":t[2]||(t[2]=t=>e.recordSearch.name=t),placeholder:e.i18n.global.t("record.enteAgentAccount")},null,8,["modelValue","placeholder"])])),_:1})])),_:1}),(0,n.createVNode)(u,{md:24,lg:4},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(c,{prop:"number"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(d,{clearable:"",onInput:e.numberInputChange,modelValue:e.recordSearch.number,"onUpdate:modelValue":t[3]||(t[3]=t=>e.recordSearch.number=t),placeholder:e.i18n.global.t("record.enterCalledId")},null,8,["onInput","modelValue","placeholder"])])),_:1})])),_:1}),(0,n.createVNode)(u,{md:24,lg:8,xl:5},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(c,{prop:"callTime",class:(0,n.normalizeClass)(["date-time-picker",null!=e.isMainShow?"ai-col-time":""])},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(p,{modelValue:e.recordCallTime,"onUpdate:modelValue":t[4]||(t[4]=t=>e.recordCallTime=t),type:"datetimerange","start-placeholder":e.i18n.global.t("record.startingTime"),"end-placeholder":e.i18n.global.t("record.endTime"),style:{height:"32px"},clearable:!1,onChange:e.changeCallTime,"default-time":e.defaultTime,"disabled-date":e.disabledDate,onFocus:e.handleFocus,onCalendarChange:e.handleChange,placeholder:e.i18n.global.t("record.selectCallTime")},null,8,["modelValue","start-placeholder","end-placeholder","onChange","default-time","disabled-date","onFocus","onCalendarChange","placeholder"])])),_:1},8,["class"])])),_:1}),(0,n.createVNode)(u,{md:24,lg:8,style:{"margin-bottom":"24px"}},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",_D,[(0,n.createVNode)(h,{onClick:e.onSearch,color:"#00A062"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.i18n.global.t("record.search")),1)])),_:1},8,["onClick"]),(0,n.createVNode)(h,{onClick:e.resetForm},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.i18n.global.t("record.reset")),1)])),_:1},8,["onClick"]),(0,n.createVNode)(h,{onClick:e.exportAll,loading:e.exportLoading},{default:(0,n.withCtx)((()=>[ED,(0,n.createTextVNode)((0,n.toDisplayString)(e.i18n.global.t("record.download")),1)])),_:1},8,["onClick","loading"])])])),_:1})])),_:1})])),_:1},8,["model"])]),(0,n.createElementVNode)("div",kD,[(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createBlock)(y,{ref:"tableRef",tableData:e.recordList,total:e.recordTotal,"current-page":e.recordSearch.current,"page-size":e.recordSearch.size,onSizeChange:e.onSizeChange,onPageChange:e.onPageChange,tableHeight:e.isHeight?1:null},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(m,{prop:"gmtCreate",label:e.i18n.global.t("record.time"),"min-width":"180"},null,8,["label"]),(0,n.createVNode)(m,{prop:"direction",label:e.i18n.global.t("record.callType"),"min-width":"130"},{default:(0,n.withCtx)((t=>[(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(0==t.row.direction?e.i18n.global.t("record.inboundCall"):e.i18n.global.t("record.outboundCall")),1)])),_:1},8,["label"]),(0,n.createVNode)(m,{prop:"caller",label:e.i18n.global.t("record.callerId"),"min-width":"210"},{default:(0,n.withCtx)((t=>[0==t.row.direction?((0,n.openBlock)(),(0,n.createElementBlock)("span",TD,(0,n.toDisplayString)(t.row.caller),1)):((0,n.openBlock)(),(0,n.createElementBlock)("span",xD,(0,n.toDisplayString)(null!=t.row.didNumberId&&0!=t.row.didNumberId?t.row.clientSipFrom:e.i18n.global.t("sip.unknown"))+" "+(0,n.toDisplayString)(null!=t.row.remark&&""!=t.row.remark?`- ${t.row.remark}`:""),1))])),_:1},8,["label"]),(0,n.createVNode)(m,{prop:"callee",label:e.i18n.global.t("record.calledId"),"min-width":"150"},{default:(0,n.withCtx)((e=>[0==e.row.direction?((0,n.openBlock)(),(0,n.createElementBlock)("span",RD,(0,n.toDisplayString)(e.row.callee)+" "+(0,n.toDisplayString)(null!=e.row.remark&&""!=e.row.remark?`- ${e.row.remark}`:""),1)):((0,n.openBlock)(),(0,n.createElementBlock)("span",AD,(0,n.toDisplayString)(e.row.callee),1))])),_:1},8,["label"]),(0,n.createVNode)(m,{prop:"callStatus",label:e.$t("record.callStatus"),"min-width":"180"},null,8,["label"]),(0,n.createVNode)(m,{prop:"hangupReason",label:e.$t("record.hangupReason"),"min-width":"180"},null,8,["label"]),(0,n.createVNode)(m,{prop:"recordUrl",label:e.i18n.global.t("record.audioFiles"),"min-width":"300"},{default:(0,n.withCtx)((t=>[(0,n.createElementVNode)("audio",{ref:n=>{e.audiosRef[t.row.id]=n},onPlay:n=>e.onPlay(t.row.id),controls:"",class:"audio"},[(0,n.createElementVNode)("source",{src:t.row.recordUrl},null,8,ID),(0,n.createTextVNode)(" "+(0,n.toDisplayString)(e.i18n.global.t("record.notSupportAudio")),1)],40,jD)])),_:1},8,["label"]),(0,n.createVNode)(m,{prop:"inQueueTime",label:e.i18n.global.t("record.queueStartTime"),"min-width":"180"},null,8,["label"]),(0,n.createVNode)(m,{prop:"answerTime",label:e.i18n.global.t("record.callStartTime"),"min-width":"180"},null,8,["label"]),(0,n.createVNode)(m,{prop:"endTime",label:e.i18n.global.t("record.callEndTime"),"min-width":"180"},null,8,["label"]),(0,n.createVNode)(m,{prop:"queuingTime",label:e.i18n.global.t("record.queueDuration"),"min-width":"180"},{default:(0,n.withCtx)((t=>[(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(t.row.outQueueTime&&t.row.inQueueTime?e.dayjs(t.row.outQueueTime).diff(e.dayjs(t.row.inQueueTime),"seconds"):""),1)])),_:1},8,["label"]),(0,n.createVNode)(m,{prop:"callDuration",label:e.i18n.global.t("record.callDuration"),"min-width":"120"},null,8,["label"]),(0,n.createVNode)(m,{prop:"agentNickName",label:e.i18n.global.t("record.agentUsername"),"min-width":"150","show-overflow-tooltip":!0},null,8,["label"]),(0,n.createVNode)(m,{prop:"agentName",label:e.i18n.global.t("record.agentAccount"),"min-width":"210"},null,8,["label"]),(0,n.createVNode)(m,{prop:"agentGroupName",label:e.i18n.global.t("record.agentGroup"),"min-width":"150"},null,8,["label"]),(0,n.createVNode)(m,{fixed:"right",label:e.i18n.global.t("record.actions"),"min-width":"zh"==e.lang?150:200},{default:(0,n.withCtx)((t=>[(0,n.createVNode)(b,{size:16},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(v,{style:{color:"#00a062"},onClick:n=>e.backListCall(t.row),underline:!1},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(0==t.row.direction?e.i18n.global.t("record.callBack"):e.i18n.global.t("record.redialBack")),1)])),_:2},1032,["onClick"])])),_:2},1024)])),_:1},8,["label","min-width"])])),_:1},8,["tableData","total","current-page","page-size","onSizeChange","onPageChange","tableHeight"])),[[_,e.tableLoading]]),(0,n.createVNode)(C,{modelValue:e.recordValueVisible,"onUpdate:modelValue":t[5]||(t[5]=t=>e.recordValueVisible=t),title:e.i18n.global.t("dashboard.revisionHistory"),width:"356px",onClose:e.handleCloseModeifys,"custom-class":"nx-el-dialog"},{default:(0,n.withCtx)((()=>[(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("div",null,[e.allRecordList.length>0?((0,n.openBlock)(),(0,n.createBlock)(S,{key:0},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.allRecordList,((t,r)=>((0,n.openBlock)(),(0,n.createBlock)(w,{key:r},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",ND,[(0,n.withDirectives)((0,n.createElementVNode)("span",{class:"recordAct-name"},(0,n.toDisplayString)(t.agentNickName),513),[[n.vShow,""!=t.agentNickName&&null!=t.agentNickName]]),(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(t.agentName),1)]),(0,n.createElementVNode)("div",OD,[(0,n.createElementVNode)("div",DD,[(0,n.createVNode)(b,{size:4},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(t.gmtCreate),1),(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(e.i18n.global.t("dashboard.edit")),1)])),_:2},1024)]),(0,n.createElementVNode)("div",PD,[(0,n.createVNode)(h,{type:"primary",text:"",onClick:n=>e.handleOpenChangeHis(t),style:{color:"#00a062"}},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.i18n.global.t("dashboard.viewCallLogs")),1)])),_:2},1032,["onClick"])])])])),_:2},1024)))),128))])),_:1})):((0,n.openBlock)(),(0,n.createElementBlock)("div",MD,(0,n.toDisplayString)(e.i18n.global.t("dashboard.noBusiness")),1))])),[[_,e.recordLoading]])])),_:1},8,["modelValue","title","onClose"]),(0,n.createVNode)(C,{modelValue:e.recordHistoryVisible,"onUpdate:modelValue":t[9]||(t[9]=t=>e.recordHistoryVisible=t),title:e.i18n.global.t("dashboard.comment"),width:"540px",onClose:e.handleCloseHistorys,"custom-class":"nx-el-dialog"},{footer:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",BD,[0==e.isEdit?((0,n.openBlock)(),(0,n.createBlock)(h,{key:0,onClick:e.handleCloseHistorys},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.i18n.global.t("head.cancel")),1)])),_:1},8,["onClick"])):(0,n.createCommentVNode)("",!0),0==e.isEdit?((0,n.openBlock)(),(0,n.createBlock)(h,{key:1,type:"primary",color:"#00A062",onClick:e.enterSave},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.i18n.global.t("head.confirm")),1)])),_:1},8,["onClick"])):(0,n.createCommentVNode)("",!0)])])),default:(0,n.withCtx)((()=>[(0,n.createVNode)(d,{modelValue:e.editRecordHistory,"onUpdate:modelValue":t[6]||(t[6]=t=>e.editRecordHistory=t),"show-word-limit":!0,maxlength:"200",rows:4,type:"textarea",placeholder:e.i18n.global.t("dashboard.enter"),disabled:e.isEdit},null,8,["modelValue","placeholder","disabled"]),1==e.isEdit?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:"hanldChangeEdit",onClick:t[7]||(t[7]=(...t)=>e.enterEdit&&e.enterEdit(...t))},(0,n.toDisplayString)(e.i18n.global.t("dashboard.edit")),1)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",LD,[e.allRecordList.length>1?((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:0,onClick:t[8]||(t[8]=(...t)=>e.handleOpenHistorys&&e.handleOpenHistorys(...t))},(0,n.toDisplayString)(e.i18n.global.t("dashboard.revisionHistory")),1)):((0,n.openBlock)(),(0,n.createElementBlock)("span",$D,(0,n.toDisplayString)(e.i18n.global.t("dashboard.revisionHistory")),1))])])),_:1},8,["modelValue","title","onClose"]),(0,n.createVNode)(C,{modelValue:e.onlyLookVisible,"onUpdate:modelValue":t[11]||(t[11]=t=>e.onlyLookVisible=t),title:e.i18n.global.t("dashboard.comment"),width:"540px",onClose:e.handleCloseOnly},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(d,{modelValue:e.onlyRecordHistory,"onUpdate:modelValue":t[10]||(t[10]=t=>e.onlyRecordHistory=t),"show-word-limit":!0,maxlength:"200",rows:4,type:"textarea",placeholder:e.i18n.global.t("dashboard.enter"),disabled:""},null,8,["modelValue","placeholder"])])),_:1},8,["modelValue","title","onClose"])])])}var UD=(0,n.defineComponent)({name:"nx-record",props:["isHeight"],setup(){const e=(0,n.ref)(null),t=(0,n.ref)({}),{t:r}=gy.global,o=(0,n.reactive)({queryGroupList:[],queryOptions:[],queryLoading:!1,exportLoading:!1,recordHistoryVisible:!1,recordValueVisible:!1,isEdit:!0,editRecordHistory:"",cdrCcCode:"",recordLoading:!1,onlyLookVisible:!1,onlyRecordHistory:"",lang:""});(0,n.onMounted)((()=>{s(),i(),o.lang="zh-CN"==py.get("locale")?"zh":"en"}));const s=()=>{my.tableLoading=!0,S_(my.recordSearch).then((e=>{0===e.data.code?(my.recordList=e.data.data.records,my.recordTotal=e.data.data.total,my.tableLoading=!1):(my.tableLoading=!1,xg.error(e.data.msg))}))},i=()=>{k_({name:""}).then((e=>{0===e.data.code?o.queryOptions=e.data.data:xg.error(e.data.msg)}))},a=e=>{o.queryLoading=!0,k_({name:e}).then((t=>{0===t.data.code?(o.queryLoading=!1,o.queryGroupList=t.data.data,o.queryOptions=o.queryGroupList.filter((t=>t.groupName.toLowerCase().includes(e.toLowerCase())))):xg.error(t.data.msg)}))},l=()=>{i()},c=e=>{my.recordSearch.number=e.replace(/[^\d]/g,"")},u=[new Date(2e3,1,1,0,0,0),new Date(2e3,2,1,23,59,59)],d=(0,n.ref)(null),p=e=>{const[t]=e;d.value=t},h=()=>{d.value=null},f=e=>{if(!d.value)return!1;const t=30,n=new Date(d.value).getTime()-24*t*60*60*1e3,r=new Date(d.value).getTime()+24*t*60*60*1e3;return e<n||e>r},g=e=>{e?(my.recordSearch.startDate=Ag()(e[0]).format("YYYY-MM-DD HH:mm:ss"),my.recordSearch.endDate=Ag()(e[1]).format("YYYY-MM-DD HH:mm:ss")):(my.recordSearch.startDate=void 0,my.recordSearch.endDate=void 0)},m=()=>{e.value.resetFields(),my.recordCallTime=[Ag()().startOf("day"),Ag()().endOf("day")],my.recordSearch.startDate=Ag()().startOf("day").format("YYYY-MM-DD HH:mm:ss"),my.recordSearch.endDate=Ag()().endOf("day").format("YYYY-MM-DD HH:mm:ss"),my.recordSearch.current=1,my.recordSearch.size=10,i()},v=e=>{my.recordSearch.size=e,s()},b=e=>{my.recordSearch.current=e,s()},y=()=>{my.recordSearch.size=10,my.recordSearch.current=1,s()},w=()=>{o.exportLoading=!0;let e={group:my.recordSearch.group,name:my.recordSearch.name,direction:my.recordSearch.direction,number:my.recordSearch.number,startDate:my.recordSearch.startDate,endDate:my.recordSearch.endDate};C_(e).then((e=>{vy(e),o.exportLoading=!1}))},S=e=>{C(e)},C=e=>{my.recordList.forEach((n=>{n.id!==e&&t.value[n.id].pause()}))},_=e=>{if(null==my.callStatus)return void xg.warning(r("sip.dialerInitialization"));if(0===my.callStatus||1===my.callStatus||2===my.callStatus)return void xg.warning(r("sip.inCall"));my.numberVisible=!0,my.callStatus=0;let t=0==e.direction?e.caller:e.callee;if(my.callNumber=t,my.nxwcall){my.externalInfo=e;const r=(0,n.toRaw)(my.nxwcall);if(null==e.didNumberId||0==e.didNumberId)r.placeCall(t);else{let n=new Array(`X-NXCC-Out-Caller-Number:  ${0==e.direction?e.callee:e.clientSipFrom}`,`X-NXCC-Out-Callee-Route: <sip:${e.remoteIp}:${e.sipPort}>`,`X-NXCC-Out-Callee-Prefix: ${e.callOutPrefix}`,`X-NXCC-Out-Remark: ${e.remark}`);r.placeCall(t,n)}}},E=e=>{__({cdrCallId:e.sipCallId}).then((t=>{0==t.data.code?(my.allRecordList=t.data.data,o.recordHistoryVisible=!0,my.allRecordList.length>0&&(my.busRecord.businessRecord=my.allRecordList[0].content,o.editRecordHistory=my.allRecordList[0].content),o.cdrCcCode=e.sipCallId):xg.error(t.data.msg)}))},k=()=>{o.recordValueVisible=!1},T=e=>{o.recordValueVisible=!0},x=()=>{o.recordHistoryVisible=!1,o.isEdit=!0,o.editRecordHistory=""},R=e=>{o.onlyRecordHistory=e.content,o.onlyLookVisible=!0},A=e=>{o.onlyLookVisible=!1,o.onlyRecordHistory=""},j=()=>{o.isEdit=!1},I=e=>e.replace(/(^\s*)|(\s*$)/g,""),N=()=>{let e=I(o.editRecordHistory);const t={cdrCallId:o.cdrCcCode,content:e};E_(t).then((e=>{0==e.data.code?(xg.success(r("sip.savedSuccessfully")),o.isEdit=!0,__({cdrCallId:o.cdrCcCode}).then((e=>{0==e.data.code?(my.allRecordList=e.data.data,my.allRecordList.length>0?my.busRecord.businessRecord=my.allRecordList[0].content:my.busRecord.businessRecord=""):xg.error(e.data.msg)}))):xg.error(e.data.msg)}))};return{...(0,n.toRefs)(my),...(0,n.toRefs)(o),dayjs:Ag(),numberInputChange:c,changeCallTime:g,audiosRef:t,defaultTime:u,handleChange:p,handleFocus:h,disabledDate:f,resetForm:m,onSearch:y,exportAll:w,onSizeChange:v,onPageChange:b,onPlay:S,backListCall:_,formRef:e,remoteMethod:a,clearGroup:l,i18n:gy,handleOpenModeifys:E,handleCloseModeifys:k,handleOpenHistorys:T,handleCloseHistorys:x,enterEdit:j,enterSave:N,handleOpenChangeHis:R,handleCloseOnly:A}}});const VD=(0,nS.Z)(UD,[["render",HD]]);var FD=VD,qD=(0,n.defineComponent)({name:"nx-body",components:{NxRecent:D_,NxRecord:FD},setup(){const{t:e}=gy.global,t=(0,n.ref)("");(0,n.onMounted)((()=>{t.value="zh-CN"==py.get("locale")?"zh":"en"}));const r=e=>{my.isMenu=e,my.dialogWidth=1===e?914:1225};(0,n.watch)((()=>[my.isOpenSpeech,my.stopTimeval]),(e=>{1==e[1]?clearInterval(my.timers):i(my.statusValue),1==e[0]&&(a(my.statusValue),my.isOpenSpeech=null)}));const o=()=>{my.bodyVisible=!0},s=()=>{my.bodyVisible=!1},i=e=>{clearInterval(my.timers);let t=0;my.timers=setInterval((()=>{t++,t>0&&t%5==0&&a(e,-1)}),6e4)},a=(t,n)=>{let r=Ag()().utc(8).format("YYYY-MM-DD HH:mm:ss"),o=Ag()(r).unix(),s="Available"==t?"Waiting":"Idle",a={agentName:my.userEmail,status:t,state:s,updateTime:o},l=my.setToken;T_(a,l).then((r=>{0==r.data.code?(-1!=n&&xg.success(e("head.successfullyModified")),i(t)):xg.error(r.data.msg)}))};return{...(0,n.toRefs)(my),recordStatelang:t,isSelect:r,openBodyDialog:o,closeNarrow:s,changeBodyStatus:a,i18n:gy}},directives:{drag(e){const t=e;document.onselectstart=function(){return!1},t.onmousedown=function(e){const n=e.clientX-t.offsetLeft,r=e.clientY-t.offsetTop;return document.onmousemove=function(e){const o=e.clientX-n,s=e.clientY-r;t.style.left=o+"px",t.style.top=s+"px"},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null},!1}}}});const zD=(0,nS.Z)(qD,[["render",mS]]);var WD=zD,YD=__webpack_require__(1546),GD=__webpack_require__.n(YD),KD=__webpack_require__(6097),XD=__webpack_require__.n(KD);Ag().extend(GD());var JD=(0,n.defineComponent)({name:"nx-dial",components:{NxStatus:oS,NxBody:WD},props:["options","isMainShow","paramOptions"],setup(e,t){const r=(0,n.ref)(),o=(0,n.ref)(""),s=(0,n.ref)(null);let i=null;const{t:a}=gy.global;(0,n.onMounted)((()=>{my.isMainShow=e.isMainShow,localStorage.getItem("ccToken")&&localStorage.getItem("ccUser")?h(localStorage.getItem("ccUser")):my.callStatus=-1,Notification.requestPermission(),window.addEventListener("beforeunload",(e=>A(e)))})),(0,n.watch)((()=>[e.paramOptions]),(t=>{console.log("props.paramOptions",e.paramOptions),my.numberText=t[0].number,my.popVisible=t[0].visible}));const l=e=>{let t={};A_().then((n=>{0==n.code?(t={image:n.data.image,key:n.data.key},e(t)):xg.error(n.message)}))},c=async e=>{if(o.value=e.type,"mkt"==e.type)localStorage.setItem("ccToken",e.token),localStorage.setItem("ccUser",e.account),h(e.account,e.token,e.type);else{const t={email:e.email,password:e.password,loginMethod:0,key:e.key,graphVerificationCode:e.graphVerificationCode};await R_(t).then((t=>{0==t.code?(localStorage.setItem("ccToken",t.data.token),localStorage.setItem("ccUser",e.email),h(e.email,t.data.token),I_().then((e=>{0==e.data.code?(my.externalList=e.data.data,m(my.externalList)):xg.error(e.data.msg)}))):xg.error(t.message)}))}},u=()=>{j_().then((e=>{localStorage.removeItem("ccToken"),localStorage.removeItem("ccUser"),my.stopTimeval=!0,my.stopTimeval=null,my.externalList=[],my.external.number=null,my.externalInfo={},my.callStatus=-1;const t=(0,n.toRaw)(my.nxwcall);t.disconnect(),setTimeout((()=>{my.nxwcall=null,my.currentUser=null}),500)}))},d=()=>{localStorage.removeItem("ccToken"),localStorage.removeItem("ccUser")},p=e=>(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise((function(n,r){t.call(navigator,e,n,r)})):Promise.reject({code:404})}),navigator.mediaDevices.getUserMedia(e)),h=(e,t,n)=>{let r={agentName:e};w_(r).then((e=>{if(0==e.data.code){let t=XD()(e.data.data.email+":"+e.data.data.domain+":"+e.data.data.utcDate);my.userEmail=e.data.data.email,my.sipNumber=e.data.data.sipNum;let n={nxuser:e.data.data.sipNum,nxpass:t,nxtype:7,logLevel:"debug",retries:0,playTone:255,audioElementId:"remoteAudio",playElementId:"playAudio",audioSrcPath:"https://nxcc-sgp-test-1259196162.cos.ap-singapore.myqcloud.com/static/resource/audio",domain:e.data.data.domain,wssurl:e.data.data.url,ccAgent:e.data.data.email,ccToken:localStorage.getItem("ccToken"),ccQueue:e.data.data.groupNo};j("Available","Waiting"),my.statusValue="Available",my.stopTimeval=!1,w(n),p({audio:!0}).then((e=>{console.log("已开启麦克风")})).catch((e=>{e.code&&404==e.code?xg.warning(a("sip.notSupportMic")):xg({showClose:!0,duration:1e4,message:a("sip.isHaveMic"),type:"warning"})}))}else{if(403===e.data.code)return f(1),void xg.error(e.data.msg);if(407===e.data.code)return f(2),void("mkt"!=n&&xg.error(e.data.msg));xg.error(e.data.msg)}}))},f=e=>{1==e?t.emit("isLogin",{islogin:!1}):t.emit("isLogin",{isHaveSeat:!1})},g=()=>{t.emit("loginOk",{onRegistered:!0})},m=e=>{if(e.length>0)if(localStorage.getItem("externalNumber")&&0!=parseInt(localStorage.getItem("externalNumber")))for(let t=0;t<e.length;t++){if(e[t].id==parseInt(localStorage.getItem("externalNumber"))){my.external.number=e[t].id,my.callDidNumber=e[t].number,my.externalInfo=e[t];break}my.external.number=e[0].id,my.callDidNumber=e[0].number,my.externalInfo=e[0]}else for(let t=0;t<e.length;t++){if(0==e[t].id){my.external.number=0,my.callDidNumber=null,my.externalInfo={};break}my.external.number=e[0].id,my.callDidNumber=e[0].number,my.externalInfo=e[0]}else my.external.number=null,my.externalInfo={}},v=()=>{I_().then((e=>{0==e.data.code?(my.externalList=e.data.data,m(my.externalList)):xg.error(e.data.msg)})),my.isMenuAct=2},b=()=>{my.isMenuAct=1},y=e=>{localStorage.setItem("externalNumber",e),0!=e?my.externalList.forEach((t=>{e==t.id&&(my.externalInfo=t,my.callDidNumber=t.number)})):my.externalInfo={}},w=e=>{console.log("父组件的信息",e);const t=e;if(_y.setConfig({uin:my.sipNumber}),i!==my.sipNumber&&(my.nxwcall&&(my.nxwcall.disconnect(),my.nxwcall=null),i=my.sipNumber),null==my.nxwcall){my.nxwcall=new(yy())(t);const e=(0,n.toRaw)(my.nxwcall);C(e)}},S=[],C=e=>{if(null==e)return;const t=e.myEvents;let r;t.on("onCallCreated",(function(e){console.log("================","onCallCreated",e),my.callStatus=0,my.stopTimeval=!0,j("Available","Receiving"),S.push({ts:new Date,key:"onCallCreated",value:e})})),t.on("onCallAnswered",(function(t){console.log("================","onCallAnswered",t),j("Available","In a queue call"),r=setInterval((()=>{const t=e.talkingTime/1e3,n=Math.floor(t);my.isTimer=parseInt(n),my.talkCallTime=Cy(parseInt(n))}),1e3),my.callStatus=2,my.isReject=1,S.push({ts:new Date,key:"onCallAnswered",value:t})})),t.on("onCallReceived",(function(t){console.log("================","onCallReceived",t),j("Available","Receiving");let n=new Notification("",{body:a("sip.newCalleeIn"),icon:"https://nxcc-gz-1259196162.cos.ap-guangzhou.myqcloud.com/static/resource/img/logo.svg"});n.onclick=function(){window.focus()},my.stopTimeval=!0;const r=t.split("@")[0];my.callNumber=r,my.callStatus=1,my.isCalling=0,my.numberVisible=!0,my.recordCallId=e.lastCcCallId,e.lastRequest&&(my.externalInfo.remark=e.lastRequest.getHeader("X-NXCC-In-Remark")),my.isCallingList={number:my.callNumber,status:a("sip.inCall"),sipCallId:e.lastCcCallId,remark:e.lastRequest?e.lastRequest.getHeader("X-NXCC-In-Remark"):""},my.recetCallDetail={number:my.callNumber,status:a("sip.inCall"),remark:e.lastRequest?e.lastRequest.getHeader("X-NXCC-In-Remark"):""},S.push({ts:new Date,key:"onCallReceived",value:t})})),t.on("onAccept",(function(t){console.log("=====获取参数======","onAccept",t),my.stopTimeval=!0,my.recordCallId=e.lastCcCallId,my.isCallingList={number:my.callNumber,status:a("sip.inCall"),sipCallId:e.lastCcCallId,remark:0!=Object.keys(my.externalInfo).length?my.externalInfo.remark:""},my.recetCallDetail={number:my.callNumber,status:a("sip.inCall")}})),t.on("onCallHangup",(function(e){console.log("=====挂断======","onCallHangup",e),my.isOpenSpeech=1,my.stopTimeval=!1,clearInterval(r),my.isTimer>0?(my.callStatus=5,my.isCallingList={number:my.callNumber,duration:my.talkCallTime,sipCallId:my.recordCallId,status:a("dashboard.hangUp"),remark:0!=Object.keys(my.externalInfo).length?my.externalInfo.remark:""}):my.callStatus=4,_(),my.talkCallTime="00:00:00",my.numberVisible=!1,my.narrowVisible=!1,S.push({ts:new Date,key:"onCallHangup",value:e})})),t.on("onReject",(function(t){switch(e.lastCcCode){case"810":xg.error(a("sip.dialerOverdue"));break;case"811":xg.error(a("sip.notCountry"));break;case"812":xg.error(a("sip.errNumber"));break;case"813":xg.error(a("head.tokenExpired"));break;case"814":xg.error(a("seeting.blacklistedNumberTip"));break;case"815":xg.error(a("seeting.callFailureLimit"));break;case"816":xg.error(a("seeting.cannotNumber"));break;case"800":xg.error(a("sip.networkError"));break;case"801":xg.error(a("sip.networkError"));break;default:break}})),t.on("onRegistered",(function(e){console.log("================","onRegistered",e),xg.success(a("sip.dialer")+" "+e+" "+a("sip.registerSuccessfully")),my.isSuccess=!0,my.callStatus=4,my.isLoginSuccess=1,g(),_y.reportEvent({name:`${e}-注册成功`}),S.push({ts:new Date,key:"onRegistered",value:e})})),t.on("onServerConnect",(function(e){console.log("================","onServerConnect",e),S.push({ts:new Date,key:"onServerConnect",value:e})})),t.on("onConnectOK",(function(e){console.log("================","onConnectOK",e),S.push({ts:new Date,key:"onConnectOK",value:e})})),t.on("onRegisterOK",(function(e){console.log("================","onRegisterOK",e),S.push({ts:new Date,key:"onRegisterOK",value:e})})),t.on("onUnregistered",(function(e){if(1!=my.isLoginSuccess||"403"==e){"403"==e&&(xg.error(a("head.tokenExpired")),localStorage.removeItem("ccToken"),localStorage.removeItem("ccUser"));const t=(0,n.toRaw)(my.nxwcall);t.hangupCall(),t.disconnect(),my.numberVisible=!1,my.narrowVisible=!1,my.isSuccess=!1,my.callStatus=-1,_y.reportEvent({name:`${my.sipNumber}-注册失败`})}else w()})),t.on("error",(function(e){console.log("================","error",e),my.isSuccess=!1,localStorage.setItem("ccToken",response.data.token),localStorage.setItem("ccUser",info.email),S.push({ts:new Date,key:"error",value:e})}))},_=()=>{my.isTimer>0?_y.reportEvent({name:`已接通-${my.callNumber}-${my.talkCallTime}`}):2==my.isReject&&0==my.isCalling?_y.reportEvent({name:`已拒接-${my.callNumber}`}):null==my.isReject&&0==my.isCalling?_y.reportEvent({name:`超时未接-${my.callNumber}`}):_y.reportEvent({name:`未接通-${my.callNumber}`}),my.isTimer=null,my.isReject=null},E=()=>{if(-1!=my.callStatus)if(null!=my.callStatus)if(""!==my.numberText){if("mkt"==o.value&&s.value.hide(),0===my.callStatus||1===my.callStatus||2===my.callStatus)return void xg.warning(a("sip.inCall"));if(my.numberVisible=!0,my.popVisible=!0,my.callNumber=my.numberText,my.callStatus=0,my.isCalling=1,my.nxwcall){const e=(0,n.toRaw)(my.nxwcall);if(0==my.externalInfo.type&&0!=my.external.number){let t=new Array(`X-NXCC-Out-Caller-Number:  ${my.callDidNumber}`,`X-NXCC-Out-Callee-Route: <sip:${my.externalInfo.remoteIp}:${my.externalInfo.sipPort}>`,`X-NXCC-Out-Callee-Prefix: ${my.externalInfo.callOutPrefix}`,`X-NXCC-Out-Remark: ${my.externalInfo.remark}`);e.placeCall(my.numberText,t)}else e.placeCall(my.numberText);my.numberText=""}}else xg.warning(a("sip.enterNumber"));else xg.warning(a("sip.dialerInitialization"));else xg.warning(a("sip.noDialerInformation"))},k=e=>{if(0!==my.callStatus&&1!==my.callStatus&&2!==my.callStatus){if(my.numberVisible=!0,my.callStatus=0,my.callNumber=e,my.isCalling=1,my.nxwcall){const t=(0,n.toRaw)(my.nxwcall);t.placeCall(e)}}else xg.warning(a("sip.inCall"))},T=e=>{my.numberText=e.replace(/[^\d]/g,"")},x=e=>{const t=(0,n.toRaw)(my.nxwcall);let o="";o="*"==e?"star":"#"==e?"hash":e,t.play("start",`${o}.wav`),2==my.callStatus&&t.sendDTMF(e.toString()),my.numberText+=e,r.value.focus()},R=()=>{my.numberText=my.numberText.slice(0,-1)};(0,n.onUnmounted)((()=>{window.removeEventListener("beforeunload",(e=>A(e)))}));const A=()=>{const e=(0,n.toRaw)(my.nxwcall);e.hangupCall()},j=(e,t)=>{let n=Ag()().utc(8).format("YYYY-MM-DD HH:mm:ss"),r=Ag()(n).unix(),o={agentName:my.userEmail,status:e,state:t,updateTime:r};T_(o).then((e=>{0==e.data.code||xg.error(e.data.msg)}))},I=e=>{if(-1!=my.callStatus)if(null!=my.callStatus)if(null!=e.callee||""!=e.callee){if(0===my.callStatus||1===my.callStatus||2===my.callStatus)return void xg.warning(a("sip.inCall"));if(my.numberVisible=!0,my.callNumber=e.callee,my.callStatus=0,my.isCalling=1,my.nxwcall){const t=(0,n.toRaw)(my.nxwcall);if(1==e.type){let n=new Array(`X-NXCC-Out-Caller-Number:  ${e.caller}`,`X-NXCC-Out-Callee-Route: <sip:${my.externalInfo.remoteIp}:${my.externalInfo.sipPort}>`,`X-NXCC-Out-Callee-Prefix: ${my.externalInfo.callOutPrefix}`,`X-NXCC-Out-Remark: ${e.remark}`);t.placeCall(e.callee,n)}else t.placeCall(e.callee);my.numberText=""}}else xg.warning(a("sip.enterNumber"));else xg.warning(a("sip.dialerInitialization"));else xg.warning(a("sip.noDialerInformation"))};return(0,n.defineExpose)({getVerifys:l,loginSaas:c,loginOuts:u,loginOutsMkt:d}),{...(0,n.toRefs)(my),numberRef:r,setRemovePop:s,appType:o,phoneInputChange:T,clickKeyBoardNumberKey:x,deleteNumber:R,callPhone:E,showElPopover:v,checkCallTest:k,md5:XD(),getVerifys:l,loginSaas:c,loginOuts:u,changeExternal:y,loginOutsMkt:d,getNumToCall:I,i18n:gy,hideElPopover:b}}});const ZD=(0,nS.Z)(JD,[["render",og]]);var QD=ZD;const eP=[QD,oS,WD],tP=function(e){eP.forEach((t=>{e.component(t.name,t)}))};var nP=tP,rP=nP}(),__webpack_exports__}()}));